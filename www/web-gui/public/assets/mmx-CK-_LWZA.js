import{f as Po,D as Eo,N as ct,j as Ft,c as w,r as F,w as ye,k as Do,l as Ct,P as vl,m as G,p as J,q as jo,v as rt,x as Wo,y as Mo,z as wl,Q as Bo,A as No,V as Uo,B as Ko,C as zo,a as fe,E as Je,F as xt,G as g,H as f,I as n,J as kt,K as Ot,u as o,L as le,M as a,T as Qo,O as A,n as Ho,R as x,S as Xo,U as E,W as Go,X as N,Y as se,Z as b,_ as It,$ as y,a0 as P,a1 as M,a2 as ie,a3 as I,a4 as Ne,a5 as Ye,a6 as Ze,a7 as ue,a8 as O,a9 as al,aa as $,ab as Jo,e as Q,ac as te,ad as j,ae as D,af as ke,ag as Yo,ah as Zo,ai as nl,aj as Ue,ak as ea,al as ta,am as Be,an as la,ao as mt,ap as At,aq as St,ar as Re,as as ve,at as et,au as B,av as Ge,aw as Pt,o as oa,ax as sl,ay as aa,i as Al,t as it,az as na,aA as Xt,aB as sa,aC as el,aD as Et,aE as Dt,aF as gt,aG as bt,aH as tl,aI as Pl,aJ as Le,aK as El,aL as ra,aM as jt,aN as tt,aO as ia,aP as ua,aQ as nt,aR as da,aS as ca,aT as ma,aU as pa,aV as _a,aW as pe,aX as Ke}from"./quasar-B-BDDWo6.js";import{a as Dl,d as rl,k as je,g as fa,c as ya,H as jl,j as ha,b as ga,m as il,e as Wl,f as Ml,h as Bl,i as ba,l as Nl,n as Ul,o as Kl,p as va,q as wa,r as ll,s as ul,t as xa,u as ka,v as zl,w as Sa,x as $a,y as qa,z as Va,A as Ta,B as Ca,C as Ra,D as La,E as Fa,F as Oa,G as Ia,I as Wt,J as dl,K as Aa,L as Pa,M as Ea,N as Da,O as ja,P as Wa,Q as Ma,R as Ba,S as Na,T as Ua,U as Ka,V as za,W as Qa,X as Ha,Y as Xa,Z as Ga}from"./modules-eynS9TD-.js";import{E as Ja,u as Ya,i as Za,a as en,b as tn,c as ln,d as on}from"./echarts-EcRfJXkd.js";import{b as an,w as nn}from"./@scure-DkhtbgrZ.js";import ol from"./locales/common.json-CitLrNoC.js";import Ql from"./locales/en-US.json-CoFvze62.js";import sn from"./locales/quasar/en-US.js-BFE8_O99.js";const rn={config:{dark:!0},plugins:{Notify:ct,Dialog:Eo},iconSet:Po},un="modulepreload",dn=function(t,e){return new URL(t,e).href},xl={},R=function(e,l,r){let s=Promise.resolve();if(l&&l.length>0){const i=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),m=c?.nonce||c?.getAttribute("nonce");s=Promise.allSettled(l.map(p=>{if(p=dn(p,r),p in xl)return;xl[p]=!0;const u=p.endsWith(".css"),_=u?'[rel="stylesheet"]':"";if(r)for(let k=i.length-1;k>=0;k--){const v=i[k];if(v.href===p&&(!u||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${p}"]${_}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":un,u||(h.as="script"),h.crossOrigin="",h.href=p,m&&h.setAttribute("nonce",m),document.head.appendChild(h),u)return new Promise((k,v)=>{h.addEventListener("load",k),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${p}`)))})}))}function d(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return s.then(i=>{for(const c of i||[])c.status==="rejected"&&d(c.reason);return e().catch(d)})},cn=[{path:"/node",component:()=>R(()=>Promise.resolve().then(()=>Xr),void 0,import.meta.url),meta:{title:"Node"},children:[{path:"",redirect:"/node/log"},{path:"log",component:()=>R(()=>Promise.resolve().then(()=>li),void 0,import.meta.url)},{path:"peers",component:()=>R(()=>Promise.resolve().then(()=>Ii),void 0,import.meta.url),meta:{title:"Peers"}},{path:"blocks",component:()=>R(()=>Promise.resolve().then(()=>ko),void 0,import.meta.url),props:{limit:20},meta:{title:"Blocks"}},{path:"netspace",component:()=>R(()=>Promise.resolve().then(()=>Di),void 0,import.meta.url),meta:{title:"Netspace"}},{path:"vdf_speed",component:()=>R(()=>Promise.resolve().then(()=>Wi),void 0,import.meta.url),meta:{title:"VDF Speed"},alias:[]},{path:"reward",component:()=>R(()=>Promise.resolve().then(()=>Bi),void 0,import.meta.url),meta:{title:"Block Reward"},alias:[]}]}],mn=[{path:"/wallet",component:()=>R(()=>Promise.resolve().then(()=>Ui),void 0,import.meta.url),children:[{path:"",component:()=>R(()=>Promise.resolve().then(()=>ou),void 0,import.meta.url),meta:{title:"Wallets"}},{path:"create",component:()=>R(()=>Promise.resolve().then(()=>hu),void 0,import.meta.url),meta:{title:"Create wallet"}},{path:"account/:index",component:()=>R(()=>Promise.resolve().then(()=>Zi),void 0,import.meta.url),props:t=>({index:parseInt(t.params.index)}),meta:{title:t=>`Wallet #${t.params.index}`},children:[{path:"",component:()=>R(()=>Promise.resolve().then(()=>ku),void 0,import.meta.url),meta:{title:"Balance"}},{path:"nfts",component:()=>R(()=>Promise.resolve().then(()=>qu),void 0,import.meta.url),meta:{title:"NFTs"}},{path:"contracts",component:()=>R(()=>Promise.resolve().then(()=>Wu),void 0,import.meta.url),meta:{title:"Contracts"}},{path:"send/:target?",component:()=>R(()=>Promise.resolve().then(()=>Ll),void 0,import.meta.url),props:t=>({target:t.params.target}),meta:{title:"Send"}},{path:"send_from/:source?",component:()=>R(()=>Promise.resolve().then(()=>Ll),void 0,import.meta.url),props:t=>({source:t.params.source}),meta:{title:"Send"}},{path:"history",component:()=>R(()=>Promise.resolve().then(()=>sd),void 0,import.meta.url),meta:{title:"History"}},{path:"log",component:()=>R(()=>Promise.resolve().then(()=>ud),void 0,import.meta.url),meta:{title:"Log"}},{path:"offer",component:()=>R(()=>Promise.resolve().then(()=>xd),void 0,import.meta.url),meta:{title:"Offer"}},{path:"liquid",component:()=>R(()=>Promise.resolve().then(()=>$d),void 0,import.meta.url),meta:{title:"Liquidity"}},{path:"plotnfts",component:()=>R(()=>Promise.resolve().then(()=>Dd),void 0,import.meta.url),meta:{title:"Plot NFTs"}},{path:"details",component:()=>R(()=>Promise.resolve().then(()=>Md),void 0,import.meta.url),meta:{title:"Info"}},{path:"options",component:()=>R(()=>Promise.resolve().then(()=>zd),void 0,import.meta.url),meta:{title:"Options"}}]}]}],pn=[{path:"/farmer",component:()=>R(()=>Promise.resolve().then(()=>Yd),void 0,import.meta.url),meta:{title:"Farmer"},children:[{path:"",redirect:"/farmer/plots"},{path:"plots",component:()=>R(()=>Promise.resolve().then(()=>nc),void 0,import.meta.url),meta:{title:"Plots"}},{path:"plotnfts",component:()=>R(()=>Promise.resolve().then(()=>dc),void 0,import.meta.url),meta:{title:"PlotNFTs"}},{path:"blocks",component:()=>R(()=>Promise.resolve().then(()=>pc),void 0,import.meta.url),meta:{title:"Blocks"}},{path:"proofs",component:()=>R(()=>Promise.resolve().then(()=>yc),void 0,import.meta.url),meta:{title:"Proofs"}}]}];Dl.defaults.paramsSerializer=t=>{let e="";return Object.keys(t).forEach(l=>{t[l]===void 0||t[l]===null||(e+=`${l}=${encodeURIComponent(t[l])}&`)}),e.substring(0,e.length-1)};const C=Dl.create();C.interceptors.request.use(t=>(t.url.startsWith("/wapi/")&&(t.baseURL=typeof __WAPI_URL__<"u"?__WAPI_URL__:"/wapi/",t.url=t.url.replace("/wapi/","/")),t),t=>Promise.reject(t));const U=(...t)=>{const e=Ft(...t),l=w(()=>e.isLoading.value||e.isLoadingError.value),r=w(()=>!l.value&&e.data.value||[]),s=F(!1),d=F(null);ye([e.isError,e.data,e.error],([p,u,_],[h,k,v])=>{h&&(s.value=!0,d.value=v?.request?.response||v.message),u&&!e.isPlaceholderData.value&&(s.value=!1,d.value=null)});const i=w(()=>!e.data.value&&!e.isPending.value||s.value),c=w(()=>e.isFetching.value&&e.errorUpdateCount.value>0?d.value:e.error.value?.request?.response||e.error.value?.message),m=w(()=>e.isFetching.value&&e.errorUpdateCount.value>0?s.value:e.isError);return{...e,loading:l,rows:r,noData:i,latestError:c,isLatestError:m}},Hl=(t,e,l)=>{const r=t[e];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((s,d)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(d.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==l?". Note that variables only represent file names one level deep.":""))))})},cl=[{value:"en-US",label:"English"},{value:"id",label:"Bahasa Indonesia"},{value:"de",label:"Deutsch"},{value:"es",label:"Español"},{value:"nl",label:"Nederlands"},{value:"pt",label:"Português"},{value:"ru",label:"Русский"},{value:"uk",label:"Українська"},{value:"zh-CN",label:"简体中文"}],ut=cl[0].value,_n=Object.assign({"/node_modules/quasar/lang/de.js":()=>R(()=>import("./locales/quasar/de.js-1Ofxs2hZ.js"),[],import.meta.url),"/node_modules/quasar/lang/en-US.js":()=>R(()=>import("./locales/quasar/en-US.js-BFE8_O99.js"),[],import.meta.url),"/node_modules/quasar/lang/es.js":()=>R(()=>import("./locales/quasar/es.js-DorLUuEv.js"),[],import.meta.url),"/node_modules/quasar/lang/id.js":()=>R(()=>import("./locales/quasar/id.js-B0PSeDmm.js"),[],import.meta.url),"/node_modules/quasar/lang/nl.js":()=>R(()=>import("./locales/quasar/nl.js-Bc05wWz4.js"),[],import.meta.url),"/node_modules/quasar/lang/pt.js":()=>R(()=>import("./locales/quasar/pt.js-BmeC85Ii.js"),[],import.meta.url),"/node_modules/quasar/lang/ru.js":()=>R(()=>import("./locales/quasar/ru.js-BDR0qp7c.js"),[],import.meta.url),"/node_modules/quasar/lang/uk.js":()=>R(()=>import("./locales/quasar/uk.js-CDGS0axZ.js"),[],import.meta.url),"/node_modules/quasar/lang/zh-CN.js":()=>R(()=>import("./locales/quasar/zh-CN.js-DEQXbwim.js"),[],import.meta.url)}),kl=(t,e)=>{t.mode==="legacy"?t.global.locale=e:t.global.locale.value=e,document.querySelector("html").setAttribute("lang",e)},fn=async(t,e)=>{const l=Ct(yn(e));try{_n[`/node_modules/quasar/lang/${l}.js`]().then(r=>{vl.set(r.default)})}catch(r){console.error(r),vl.set(sn.default)}try{const r=await Hl(Object.assign({"../locales/common.json":()=>R(()=>import("./locales/common.json-CitLrNoC.js"),[],import.meta.url),"../locales/de.json":()=>R(()=>import("./locales/de.json-DZFMEMgc.js"),[],import.meta.url),"../locales/en-US.json":()=>R(()=>import("./locales/en-US.json-CoFvze62.js"),[],import.meta.url),"../locales/es.json":()=>R(()=>import("./locales/es.json-BcfQJ0qc.js"),[],import.meta.url),"../locales/id.json":()=>R(()=>import("./locales/id.json-CeuACP36.js"),[],import.meta.url),"../locales/nl.json":()=>R(()=>import("./locales/nl.json-Bi-8Tzxt.js"),[],import.meta.url),"../locales/pt.json":()=>R(()=>import("./locales/pt.json-kipSuZeO.js"),[],import.meta.url),"../locales/ru.json":()=>R(()=>import("./locales/ru.json-Cb8Yls3y.js"),[],import.meta.url),"../locales/uk.json":()=>R(()=>import("./locales/uk.json-EfLfMENI.js"),[],import.meta.url),"../locales/zh-CN.json":()=>R(()=>import("./locales/zh-CN.json-BcF6vE_W.js"),[],import.meta.url)}),`../locales/${l}.json`,3);t.global.setLocaleMessage(l,wt({},ol,r)),kl(t,l)}catch{t.global.setLocaleMessage(ut,wt({},ol,Ql)),kl(t,ut)}},yn=t=>cl.some(e=>e.value==Ct(t))?t:ut,Gt=t=>t&&typeof t=="object"&&!Array.isArray(t),wt=(t,...e)=>{if(!e.length)return t;const l=e.shift();if(Gt(t)&&Gt(l))for(const r in l)Gt(l[r])?(t[r]||Object.assign(t,{[r]:{}}),wt(t[r],l[r])):Object.assign(t,{[r]:l[r]});return wt(t,...e)},lt=Do({globalInjection:!0,legacy:!1,locale:ut,fallbackLocale:ut,messages:{"en-US":wt({},ol,Ql)}}),ot=1e3,{t:Xl}=lt.global,hn={"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"},Mt=t=>{var e=t.value!=null?t.value:"null";ct.create({caption:t.restart?Xl("node_settings.restart_needed"):"",message:`Set '${t.key}' to '${e}'`,type:"positive",group:!1,classes:t.restart?"restart-needed":""})},Fe=t=>{ct.create({type:"positive",group:!1,...t})},gn=t=>{ct.create({type:"negative",group:!1,...t})},ne=t=>{const e=t.response?.data||t.message;ct.create({message:e,type:"negative"})},Jt=t=>{const e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},l=/[&<>"'/]/gi;return t.replace(l,r=>e[r])},bn=(t,e,l,r)=>{const s=Jt(t),d=Jt(e),i=Jt(l);ct.create({type:"positive",group:!1,...r,message:`${s} <a class="text-primary" href="${d}">${i}</a>`,html:!0})},be=(t,e)=>{const l=_t.resolve({name:"transaction",params:{transactionId:t}});bn(Xl("common.transaction_has_been_sent"),l.href,t,e)},vn=t=>({...Ct(t),options:{...Ct(t).options,auto_send:!1}}),wn=t=>t?parseFloat(t.toFixed(6)):null,xn=(t,e)=>e.value?wn(t?.exec_result?.total_fee_value):null,ze=(t,e,l,r)=>U({queryKey:["wallet","fee",t,e,l],queryFn:({signal:s})=>r(vn(e),s),select:s=>xn(s,l),enabled:l,staleTime:0,gcTime:0}),Gl=rl("node",{state:()=>({height:null})});var Yt=-1;const kn=t=>C.get("/wapi/node/info",{signal:t}).then(e=>e.data),ml=t=>{const e=U({queryKey:["node_info"],queryFn:({signal:s})=>kn(s),refetchInterval:t?.refreshInterval??ot,enabled:t?.enabled??!0}),l=G();ye(e.isError,s=>{s&&l.invalidateQueries({queryKey:["session"]})});const r=Gl();return ye(e.data,s=>{if(!s)return;const d=s.height;Yt!=d&&(console.log(`⛰️ New height: ${d}`),r.height=d,l.invalidateQueries({queryKey:["node"]},{cancelRefetch:!1}),l.invalidateQueries({queryKey:["node_log"]},{cancelRefetch:!1}),l.invalidateQueries({queryKey:["block",{height:Yt}]}),l.invalidateQueries({queryKey:["block",{height:d-1}]}),l.invalidateQueries({queryKey:["block",{height:d}]}),l.invalidateQueries({queryKey:["transaction"]}),l.invalidateQueries({queryKey:["wallet"]}),l.invalidateQueries({queryKey:["market"]}),l.invalidateQueries({queryKey:["swap"]}),l.invalidateQueries({queryKey:["farm","info"]},{cancelRefetch:!1}),d%3==0&&l.invalidateQueries({queryKey:["farm","blocks"]},{cancelRefetch:!1}),Yt=d)}),e},Sn=(t,e)=>C.get("/wapi/node/log",{params:t,signal:e}).then(l=>l.data),$n=t=>U({queryKey:["node_log",t],queryFn:({signal:e})=>Sn(t,e),placeholderData:je,refetchInterval:2*ot}),qn=(t,e)=>C.get("/wapi/node/graph/blocks",{params:t,signal:e}).then(l=>l.data),pl=(t,e)=>U({queryKey:["node","graph/blocks",t],queryFn:({signal:l})=>qn(t,l),select:e}),{t:pf}=lt.global,Vn=t=>C.post("/wapi/passphrase/validate",t).then(e=>e.data),Tn=()=>J({mutationFn:t=>Vn(t),onError:t=>{gn({message:"Wrong passphrase!"})}}),Jl=t=>C.post("/wapi/wallet/send",t).then(e=>e.data),Yl=()=>{const t=G();return J({mutationFn:e=>Jl(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},Zl=t=>C.post("/wapi/wallet/execute",t).then(e=>e.data),Cn=()=>{const t=G();return J({mutationFn:e=>Zl(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},eo=t=>C.post("/wapi/wallet/make_offer",t).then(e=>e.data),Rn=()=>{const t=G();return J({mutationFn:e=>eo(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},to=t=>C.post("/wapi/wallet/offer_withdraw",t).then(e=>e.data),Ln=()=>{const t=G();return J({mutationFn:e=>to(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},lo=t=>C.post("/wapi/wallet/cancel_offer",t).then(e=>e.data),Fn=()=>{const t=G();return J({mutationFn:e=>lo(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},oo=t=>C.post("/wapi/wallet/offer_trade",t).then(e=>e.data),On=()=>{const t=G();return J({mutationFn:e=>oo(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},ao=t=>C.post("/wapi/wallet/accept_offer",t).then(e=>e.data),In=()=>{const t=G();return J({mutationFn:e=>ao(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},no=t=>C.post("/wapi/wallet/swap/trade",t).then(e=>e.data),An=()=>{const t=G();return J({mutationFn:e=>no(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},Pn=t=>C.post("/api/wallet/plotnft_create",t).then(e=>e.data),En=()=>{const t=G();return J({mutationFn:e=>Pn(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["wallet"]}),Fe({message:"Created new PlotNFT: "+l.name})},onError:ne})},so=(t,e)=>ze("send",t,e,Jl),Dn=(t,e)=>ze("execute",t,e,Zl),jn=(t,e)=>ze("offer",t,e,eo),Wn=(t,e)=>ze("offer_withdraw",t,e,to),Mn=(t,e)=>ze("cancel_offer",t,e,lo),Bn=(t,e)=>ze("offer_trade",t,e,oo),Nn=(t,e)=>ze("accept_offer",t,e,ao),Un=(t,e)=>ze("swap/trade",t,e,no),Kn=t=>C.post("/wapi/wallet/swap/payout",t).then(e=>e.data),zn=()=>{const t=G();return J({mutationFn:e=>Kn(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},Qn=t=>C.post("/wapi/wallet/swap/switch_pool",t).then(e=>e.data),Hn=()=>{const t=G();return J({mutationFn:e=>Qn(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},Xn=t=>C.post("/wapi/wallet/swap/add_liquid",t).then(e=>e.data),Gn=()=>{const t=G();return J({mutationFn:e=>Xn(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},Jn=t=>C.post("/wapi/wallet/swap/rem_liquid",t).then(e=>e.data),Yn=()=>{const t=G();return J({mutationFn:e=>Jn(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},Zn=t=>C.post("/wapi/wallet/swap/rem_all_liquid",t).then(e=>e.data),es=()=>{const t=G();return J({mutationFn:e=>Zn(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),be(e.id)},onError:ne})},ts=(t,e)=>C.get("/wapi/wallet/seed",{params:t,signal:e}).then(l=>l.data),ls=()=>J({mutationFn:t=>ts(t),onError:ne}),os=t=>C.get("/wapi/wallet/accounts",{signal:t}).then(e=>e.data),ro=()=>{const t=G();return U({queryKey:["accounts"],queryFn:async({signal:e})=>{const l=await os(e);return l?.forEach(r=>{t.setQueryData(["accounts","account",{index:r.account}],r)}),l},gcTime:1/0})},as=(t,e)=>C.get("/wapi/wallet/account",{params:t,signal:e}).then(l=>l.data),$t=(t,e)=>{const l=G();return U({queryKey:["accounts","account",t],queryFn:({signal:s})=>as(t,s),enabled:()=>{const d=l.getQueryCache().find({queryKey:["accounts"]});return d&&d.observers.length==0},select:e,gcTime:1/0})},ns=(t,e)=>C.get("/wapi/wallet/keys",{params:t,signal:e}).then(l=>l.data),ss=t=>U({queryKey:["wallet","keys",t],queryFn:({signal:e})=>ns(t,e)}),rs=(t,e)=>C.get("/wapi/wallet/address",{params:t,signal:e}).then(l=>l.data),_l=t=>U({queryKey:["wallet","address",t],queryFn:({signal:e})=>rs(t,e)}),is=(t,e)=>C.get("/wapi/wallet/balance",{params:t,signal:e}).then(l=>l.data),De=(t,e,l)=>U({queryKey:["wallet","balance",t],queryFn:({signal:r})=>is(t,r),select:r=>e?e(r):r,placeholderData:je,enabled:l}),us=(t,e)=>C.get("/wapi/wallet/history",{params:t,signal:e}).then(l=>l.data),ds=(t,e)=>C.get("/wapi/wallet/history/memo",{params:t,signal:e}).then(l=>l.data),cs=(t,e)=>U({queryKey:["wallet","history",t],queryFn:({signal:l})=>t.memo?ds(t,l):us(t,l),placeholderData:je,select:l=>l}),ms=t=>C.get("/wapi/wallet/tokens",{signal:t}).then(e=>e.data),pt=()=>U({queryKey:["walletCfg","tokens"],queryFn:({signal:t})=>ms(t)}),ps=(t,e)=>C.get("/wapi/wallet/tx_history",{params:t,signal:e}).then(l=>l.data),_s=t=>U({queryKey:["wallet","tx_history",t],queryFn:({signal:e})=>ps(t,e)}),fs=(t,e)=>C.get("/wapi/wallet/contracts",{params:t,signal:e}).then(l=>l.data),io=(t,e)=>U({queryKey:["wallet","contracts",t],queryFn:({signal:l})=>fs(t,l),enabled:e??!0}),ys=(t,e)=>C.get("/wapi/plotnft",{params:t,signal:e}).then(l=>l.data),hs=t=>U({queryKey:["plotnft",t],queryFn:({signal:e})=>ys(t,e)}),gs=(t,e)=>C.get("/wapi/wallet/offers",{params:t,signal:e}).then(l=>l.data),uo=t=>U({queryKey:["wallet","offers",t],queryFn:({signal:e})=>gs(t,e),select:e=>e.sort((l,r)=>r.height-l.height),placeholderData:je}),bs=(t,e)=>C.get("/wapi/wallet/swap/liquid",{params:t,signal:e}).then(l=>l.data),vs=t=>U({queryKey:["wallet","swap","liquid",t],queryFn:({signal:e})=>bs(t,e)}),ws=t=>C.get("/wapi/farm/info",{signal:t}).then(e=>e.data),qt=t=>U({queryKey:["farm","info"],queryFn:({signal:e})=>ws(e),select:e=>t?t(e):e}),xs=(t,e)=>C.get("/wapi/farm/blocks/summary",{params:t,signal:e}).then(l=>l.data),co=t=>U({queryKey:["farm","blocks","summary",t],queryFn:({signal:e})=>xs(t,e)}),ks=(t,e)=>C.get("/wapi/farm/blocks",{params:t,signal:e}).then(l=>l.data),Ss=t=>U({queryKey:["farm","blocks",t],queryFn:({signal:e})=>ks(t,e)}),$s=(t,e)=>C.get("/wapi/farm/proofs",{params:t,signal:e}).then(l=>l.data),qs=t=>U({queryKey:["farm","proofs",t],queryFn:({signal:e})=>$s(t,e)}),Vs=(t,e)=>C.get("/wapi/headers",{params:t,signal:e}).then(l=>l.data),Ts=t=>U({queryKey:["node","headers",t],queryFn:({signal:e})=>Vs(t,e)}),mo=(t,e)=>C.get("/wapi/block",{params:t,signal:e}).then(l=>l.data),Cs=t=>U({queryKey:["block",t],queryFn:({signal:e})=>mo(t,e),placeholderData:je}),Rs=(t,e)=>C.get("/wapi/header",{params:t,signal:e}).then(l=>l.data),Ls=()=>J({mutationFn:t=>Rs(t)}),Sl=(t,e)=>{t.prefetchQuery({queryKey:["block",e],queryFn:({signal:l})=>mo(e,l)})},Fs=(t,e)=>C.get("/wapi/transactions",{params:t,signal:e}).then(l=>l.data),Os=t=>U({queryKey:["node","transactions",t],queryFn:({signal:e})=>Fs(t,e)}),Is=(t,e)=>C.get("/wapi/transaction",{params:t,signal:e}).then(l=>l.data),As=t=>U({queryKey:["transaction",t],queryFn:({signal:e})=>Is(t,e),select:e=>{for(const l of e.operations)delete l.solution;return e}}),po=(t,e)=>C.get("/wapi/farmers",{params:t,signal:e}).then(l=>l.data),Ps=t=>U({queryKey:["node","farmers",t],queryFn:({signal:e})=>po(t,e)}),Es=(t,e)=>{t.prefetchQuery({queryKey:["node","farmers",e],queryFn:({signal:l})=>po(e,l),staleTime:ot})},Ds=(t,e)=>C.get("/wapi/farmer",{params:t,signal:e}).then(l=>l.data),js=t=>U({queryKey:["node","farmer",t],queryFn:({signal:e})=>Ds(t,e)}),Ws=(t,e)=>C.get("/wapi/farmer/blocks",{params:t,signal:e}).then(l=>l.data),Ms=t=>U({queryKey:["node","farmer","blocks",t],queryFn:({signal:e})=>Ws(t,e)}),Bs=(t,e)=>C.get("/wapi/contract",{params:t,signal:e}).then(l=>l.data),Ns=t=>U({queryKey:["node","contract",t],queryFn:({signal:e})=>Bs(t,e)}),Us=(t,e)=>C.get("/wapi/address/history",{params:t,signal:e}).then(l=>l.data),Ks=t=>U({queryKey:["node","address","history",t],queryFn:({signal:e})=>Us(t,e)}),zs=(t,e)=>C.get("/wapi/address",{params:t,signal:e}).then(l=>l.data),Qs=(t,e)=>U({queryKey:["node","address",t],queryFn:({signal:l})=>zs(t,l),select:l=>e?e(l):l}),Hs=(t,e)=>C.get("/wapi/balance",{params:t,signal:e}).then(l=>l.data),_o=t=>U({queryKey:["node","balance",t],queryFn:({signal:e})=>Hs(t,e),select:e=>e.balances}),{t:_f}=lt.global,Xs=(t,e)=>C.get("/wapi/offers",{params:t,signal:e}).then(l=>l.data),Gs=t=>U({queryKey:["market","offers",t],queryFn:({signal:e})=>Xs(t,e),placeholderData:je}),Js=(t,e)=>C.get("/wapi/trade_history",{params:t,signal:e}).then(l=>l.data),Ys=t=>U({queryKey:["market","offers","trade_history",t],queryFn:({signal:e})=>Js(t,e),placeholderData:je}),Zs=(t,e)=>C.get("/wapi/offer/trade_estimate",{params:t,signal:e}).then(l=>l.data),er=(t,e)=>U({queryKey:["market","offers","trade_estimate",t,e],queryFn:({signal:l})=>Zs(t,l),enabled:e,staleTime:0,gcTime:0}),{t:ff}=lt.global,tr=(t,e)=>C.get("/wapi/swap/list",{params:t,signal:e}).then(l=>l.data),lr=t=>U({queryKey:["swap","list",t],queryFn:({signal:e})=>tr(t,e),placeholderData:je}),or=(t,e)=>C.get("/wapi/swap/info",{params:t,signal:e}).then(l=>l.data),Bt=t=>U({queryKey:["swap","info",t],queryFn:({signal:e})=>or(t,e)}),ar=(t,e)=>C.get("/wapi/swap/history",{params:t,signal:e}).then(l=>l.data),nr=t=>U({queryKey:["swap","history",t],queryFn:({signal:e})=>ar(t,e)}),sr=(t,e)=>C.get("/wapi/swap/user_info",{params:t,signal:e}).then(l=>l.data),fo=(t,e)=>U({queryKey:["swap","user_info",t],queryFn:({signal:l})=>sr(t,l),placeholderData:je,enabled:e}),rr=(t,e)=>C.get("/wapi/swap/trade_estimate",{params:t,signal:e}).then(l=>l.data),ir=(t,e)=>U({queryKey:["swap","trade_estimate",t,e],queryFn:({signal:l})=>rr(t,l),enabled:e,staleTime:0,gcTime:0}),ur=t=>C.get("/wapi/config/get",{signal:t}).then(e=>e.data),dr=()=>U({queryKey:["config"],queryFn:({signal:t})=>ur(t)}),cr=t=>C.post("/wapi/config/set",t).then(e=>e.data),mr=()=>{const t=G();return J({mutationFn:({key:e,value:l,tmp_only:r})=>cr({key:e,value:l,tmp_only:r}),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["config"]});const{hideNotification:r}=l;r||Mt(l)},onError:ne})},pr=t=>C.get("/wapi/chain/info",{signal:t}).then(e=>e.data),_r=()=>U({queryKey:["chain","info"],queryFn:({signal:t})=>pr(t)}),{t:yf}=lt.global,fr=[{path:"/explore",component:()=>R(()=>Promise.resolve().then(()=>kc),void 0,import.meta.url),meta:{title:"Explore"},children:[{path:"",redirect:"/explore/blocks"},{path:"blocks",component:()=>R(()=>Promise.resolve().then(()=>ko),void 0,import.meta.url),meta:{title:"Blocks",indexPage:!0}},{path:"block/hash/:hash",component:()=>R(()=>Promise.resolve().then(()=>Fl),void 0,import.meta.url),props:t=>({hash:t.params.hash}),meta:{title:t=>`Block #${t.params.hash}`,prefetcher:(t,e)=>{const l={hash:e.params.hash};Sl(t,l)}}},{path:"block/height/:height",component:()=>R(()=>Promise.resolve().then(()=>Fl),void 0,import.meta.url),props:t=>({height:parseInt(t.params.height)}),meta:{title:t=>`Block #${t.params.height}`,prefetcher:(t,e)=>{const l={height:parseInt(e.params.height)};Sl(t,l)}}},{path:"transactions",component:()=>R(()=>Promise.resolve().then(()=>Tc),void 0,import.meta.url),meta:{title:"Transactions",indexPage:!0}},{name:"transaction",path:"transaction/:transactionId",component:()=>R(()=>Promise.resolve().then(()=>Ac),void 0,import.meta.url),props:t=>({transactionId:t.params.transactionId}),meta:{title:t=>`Transaction #${t.params.transactionId}`}},{path:"farmers",component:()=>R(()=>Promise.resolve().then(()=>Dc),void 0,import.meta.url),meta:{title:"Farmers",indexPage:!0,prefetcher:(t,e)=>{Es(t,{limit:100})}}},{path:"farmer/:farmerKey",component:()=>R(()=>Promise.resolve().then(()=>Bc),void 0,import.meta.url),props:t=>({farmerKey:t.params.farmerKey}),meta:{title:t=>`Farmer #${t.params.farmerKey}`}},{name:"address",path:"address/:address",component:()=>R(()=>Promise.resolve().then(()=>Hc),void 0,import.meta.url),props:t=>({address:t.params.address}),meta:{title:t=>`Address #${t.params.address}`}}]}],yr=[{path:"/market",component:()=>R(()=>Promise.resolve().then(()=>Zc),void 0,import.meta.url),meta:{title:"Market"},children:[{path:"",redirect:"/market/offers"},{path:"offers",component:()=>R(()=>Promise.resolve().then(()=>am),void 0,import.meta.url),meta:{title:"Offers"}},{path:"history",component:()=>R(()=>Promise.resolve().then(()=>rm),void 0,import.meta.url),meta:{title:"History"}}]}],hr=[{path:"/swap",component:()=>R(()=>Promise.resolve().then(()=>dm),void 0,import.meta.url),meta:{title:"Swap"},children:[{path:"",component:()=>R(()=>Promise.resolve().then(()=>ym),void 0,import.meta.url)},{path:":address",component:()=>R(()=>Promise.resolve().then(()=>Sm),void 0,import.meta.url),props:t=>({address:t.params.address}),children:[{path:"",redirect:{name:"trade"}},{name:"trade",path:"trade",component:()=>R(()=>Promise.resolve().then(()=>Pm),void 0,import.meta.url),meta:{title:"Trade"}},{path:"history",component:()=>R(()=>Promise.resolve().then(()=>Dm),void 0,import.meta.url),meta:{title:"History"}},{path:"liquid",component:()=>R(()=>Promise.resolve().then(()=>Hm),void 0,import.meta.url),meta:{title:"Liquid"}},{path:"pool",component:()=>R(()=>Promise.resolve().then(()=>Jm),void 0,import.meta.url),meta:{title:"Pool"}}]}]}],gr=[{path:"/:catchAll(.*)*",component:()=>R(()=>Promise.resolve().then(()=>tp),void 0,import.meta.url),meta:{requiresAuth:!1,title:"Page not found"}}],br=[...cn,...mn,...pn,...fr,...yr,...hr,...gr,{path:"/",redirect:"/node"},{path:"/login",name:"login",component:()=>R(()=>Promise.resolve().then(()=>dp),void 0,import.meta.url),meta:{title:"Login",layout:!1,requiresAuth:!1}},{path:"/settings",component:()=>R(()=>Promise.resolve().then(()=>Fp),void 0,import.meta.url),meta:{title:"Settings"}}];let yo;yo=br;const vr=yo,wr=async t=>{if(t.meta.layout===!1){t.meta.layoutComponent="div";return}const e=t.meta.layout??"default",l=await Hl(Object.assign({"../../layouts/default.vue":()=>R(()=>Promise.resolve().then(()=>Jp),void 0,import.meta.url)}),`../../layouts/${e}.vue`,4);t.meta.layoutComponent=l.default},xr=async t=>{var l="MMX Node";t.matched.forEach(r=>{const s=r.meta.title;s&&(s instanceof Function?l+=` — ${s(t)}`:l+=` — ${s}`)}),jo(l)},$l=typeof window.mmx<"u",ql=typeof window.mmx_qtgui<"u",$e=rl("app",{state:()=>({isDarkTheme:rt("isDarkTheme",!0),locale:rt("locale",ut)}),getters:{isWinGUI:()=>$l,isQtGUI:()=>ql,isGUI:()=>$l||ql}}),Vl={read:t=>t!=null?JSON.parse(t):null,write:t=>JSON.stringify(t)},Oe=rl("session",{state:()=>({isLoggedIn:rt("isLoggedIn",!1),credentials:rt("credentials",null,{serializer:Vl}),autoLogin:rt("autoLogin",!1),activeWalletIndex:rt("activeWalletIndex",null,{serializer:Vl}),market:{menu:{bid:null,ask:null}},swap:{menu:{token:null,currency:null}}}),actions:{doLogin(t){this.autoLogin&&(this.credentials=t),console.log("login"),this.isLoggedIn=!0,this.router.currentRoute.value.query?.redirect?this.router.replace(this.router.currentRoute.value.query.redirect):this.router.replace("/")},doLogout(t){console.log("logout"),t&&(this.credentials=null,this.autoLogin=!1),this.isLoggedIn=!1,!$e().isGUI&&(!t&&this.router.currentRoute.value.path!="/login"?this.router.push({path:"/login",query:{redirect:this.router.currentRoute.value.fullPath}}):this.router.push("/login"),this.queryClient.clear(),fa()._s.forEach(l=>l.$reset()))}}}),kr=async(t,e)=>{const l=$e(),r=Oe();if(t.matched.some(d=>d.meta.requiresAuth||!Object.hasOwn(d.meta,"requiresAuth"))&&!r.isLoggedIn&&!l.isGUI)return{path:"/login",query:{redirect:t.fullPath}};if(t.name==="login"&&r.isLoggedIn&&!l.isGUI)return{path:"/"}},_t=Wo({history:Mo("./"),routes:vr});_t.beforeEach(wr);_t.afterEach(xr);_t.beforeEach(kr);const ho=ya();ho.use(({store:t})=>{t.router=wl(_t),t.queryClient=wl(G())});const Sr=new Bo({queryCache:new No({}),defaultOptions:{queries:{retry:!1}}}),$r={queryClient:Sr};jl.registerLanguage("mmx",ha);jl.registerLanguage("json",ga);function qr(t){t.use(zo,rn),t.use(_t),t.use(ho),t.use(lt),t.use(Uo,$r),t.use(Ko)}const Vr=t=>C.get("./guiBuildInfo.json",{signal:t,noCacheHeaders:hn}).then(e=>e.data),Tr=()=>Ft({queryKey:["guiBuildInfo"],queryFn:({signal:t})=>Vr(t),refetchInterval:5*ot}),Cr="12B3EBEFB70565",Rr=()=>{const t=F(!1),{data:e}=Tr();fe(()=>{const d=e.value?.id;t.value=d&&Cr!=d});const l=Je(),r=xt(),s=F(!1);return ye([t,()=>r.path],()=>{t.value===!0&&s.value===!1&&(s.value=!0,l.dialog({type:"warning",title:"An update is available",message:"Please refresh the page to apply the update",persistent:!0,cancel:!0,ok:{push:!0,color:"negative",label:"Refresh",tabIndex:0}}).onOk(()=>{window.location.reload()}).onDismiss(()=>{s.value=!1}))}),{updated:t}},Lr={__name:"AppLayout",setup(t){const e=xt();return Rr(),(l,r)=>(f(),g(Ot(o(e).meta.layoutComponent||"div"),null,{default:n(()=>[kt(l.$slots,"default")]),_:3}))}},Ie={__name:"TrRouterView",props:{show:{type:Boolean,default:!0,required:!1}},setup(t){return(e,l)=>{const r=le("RouterView");return f(),g(r,null,{default:n(({Component:s})=>[a(Qo,{name:"custom-classes","enter-active-class":"animate__animated animate__fadeIn"},{default:n(()=>[t.show?(f(),g(Ot(s),{key:0})):A("",!0)]),_:2},1024)]),_:1})}}};let Zt;const Fr=()=>{const t=Je(),e=$e();fe(()=>t.dark.set(e.isDarkTheme)),window.mmx?.theme_dark!==void 0&&!Zt&&(console.log(window.mmx.theme_dark,Zt),Zt=setInterval(()=>{e.isDarkTheme=window.mmx.theme_dark},500))};let Tl;const Or=()=>{const t=$e(),e=async l=>(fn(lt,l),Ho());fe(()=>e(t.locale)),window.mmx?.locale!==void 0&&!Tl&&(Tl=setInterval(()=>{t.locale=window.mmx.locale},500))},Ir={__name:"App",setup(t){return Fr(),Or(),(e,l)=>{const r=Ie,s=Lr;return f(),x(E,null,[a(s,null,{default:n(()=>[a(r)]),_:1}),a(o(Xo))],64)}}},go=Go(Ir);qr(go);go.mount("#app");const Ar={key:0},Pr={key:0},Er={key:1},Dr={key:0},Cl="row justify-center",bo={__name:"InfoTile",props:{tile:{type:Object,default:null},rows:{type:[Object],default:null},loading:Boolean},setup(t){const e=t,l=w(()=>{var d;e.tile.field instanceof Function?d=e.tile.field(e.rows):d=e.rows[e.tile.field];const i=e.tile.format;return i?i(d):d}),r=`${Cl} q-pb-sm q-pt-none text-subtitle1`,s=`${Cl} q-pt-sm q-pb-none text-h6`;return(d,i)=>(f(),g(P,{flat:"",bordered:""},{default:n(()=>[a(N,{class:se(s)},{default:n(()=>[e.loading?(f(),g(It,{key:1,square:"",width:"50%"})):(f(),x("div",Ar,[o(l)!=null?(f(),x("div",Pr,b(o(l)),1)):(f(),x("div",Er," "))]))]),_:1}),a(N,{class:se(r)},{default:n(()=>[e.tile.label!=null?(f(),x("div",Dr,b(e.tile.label),1)):A("",!0),i[0]||(i[0]=y("div",{else:""}," ",-1))]),_:1})]),_:1}))}},jr={class:"row q-col-gutter-xs"},Wr={__name:"NodeInfo",setup(t){const{rows:e,loading:l}=ml(),{t:r}=M(),s=w(()=>[{field:"is_synced",label:r("node_info.synced"),format:d=>r(d?"common.yes":"common.no")},{field:"height",label:r("node_info.height")},{field:"total_space",label:r("node_info.netspace"),format:d=>`${(d/Math.pow(1e3,2)).toFixed(3)} PB`},{field:"vdf_speed",label:r("node_info.vdf_speed"),format:d=>`${d.toFixed(3)} MH/s`},{field:"address_count",label:r("node_info.no_addresses")},{field:"block_size",label:r("node_info.block_size")},{field:"average_txfee",label:"Avg. TX Fee",format:d=>d.value>1?d.value.toPrecision(6):d.value},{field:"block_reward",label:r("node_info.block_reward"),format:d=>`${d.value.toFixed(3)} MMX`}]);return(d,i)=>{const c=bo;return f(),x("div",null,[y("div",jr,[(f(!0),x(E,null,ie(o(s),m=>(f(),x("div",{key:m.field,class:"col-md-3 col-sm-6 col-xs-12 col-12"},[a(c,{tile:m,rows:o(e),loading:o(l)},null,8,["tile","rows","loading"])]))),128))])])}}},dt={timelord:{name:"timelord",restart:!0,default:!1},open_port:{name:"Router.open_port",restart:!0,default:!1},allow_remote:{name:"allow_remote",restart:!0,default:!1},opencl_platform:{name:"opencl.platform",restart:!0,default:null,hideNotification:!0},opencl_device:{name:"Node.opencl_device",restart:!0,hideNotification:!0},opencl_device_name:{name:"Node.opencl_device_name",restart:!0},opencl_device_select:{name:"Node.opencl_device_select",restart:!0,default:-1,tmp_only:!0,hideNotification:!0},opencl_device_list:{default:[]},opencl_device_list_relidx:{default:[]},farmer_reward_addr:{name:"Farmer.reward_addr",restart:!0},timelord_reward_addr:{name:"TimeLord.reward_addr",restart:!0},harv_num_threads:{name:"Harvester.num_threads",restart:!0},reload_interval:{name:"Harvester.reload_interval",restart:!0},recursive_search:{name:"Harvester.recursive_search",restart:!0,default:!1},plot_dirs:{name:"Harvester.plot_dirs",restart:!1},version:{name:"build.version"},commit:{name:"build.commit"}},Mr=()=>{const t={};return Object.keys(dt).forEach(e=>{const{default:l}=dt[e];t[e]=l??null}),t},Br=Mr(),Nr=(t,e)=>{if(e){Object.keys(dt).forEach(l=>{const{name:r,default:s}=dt[l];r!==void 0&&(t[l]=e?.[r]??s)});{t.opencl_device_list=[],t.opencl_device_list_relidx=[],t.opencl_device_list.push({label:"None",value:-1});let l=e["Node.opencl_device_list"];if(l)for(const[r,s]of l.entries())t.opencl_device_list.push({label:s[0],value:r}),t.opencl_device_list_relidx.push({name:s[0],index:s[1]})}}};function Se(){const t=mr(),{data:e,isPending:l,isError:r}=dr(),s=w(()=>l.value||r.value),d=I({...Br}),i=[];fe(()=>{Object.keys(i).forEach(u=>i[u]()),Nr(d,e.value),Object.keys(d).forEach(u=>{i[u]=ye(()=>d[u],(_,h)=>{const k=dt[u].name;t.mutate({...dt[u],key:k,value:_})})})});const c=w(()=>{if(!e.value)return!1;const u=e.value?.wallet;return!!(u||u==null)}),m=w(()=>{if(!e.value)return!1;const u=e.value?.farmer;return!!(u||u==null)}),p=w(()=>{if(!e.value)return!1;const u=e.value?.local_node;return!!(u||u==null)});return{data:d,loading:s,isWallet:c,isFarmer:m,isLocalNode:p}}const Ur={__name:"NodeMenu",setup(t){const{isLocalNode:e}=Se(),{t:l}=M(),r=w(()=>[{to:"/node/log",label:l("node_menu.log")},{to:"/node/peers",label:l("node_menu.peers"),hide:!e.value},{to:"/node/blocks",label:l("node_menu.blocks")},{to:"/node/netspace",label:l("node_menu.netspace")},{to:"/node/vdf_speed",label:l("node_menu.vdf_speed")},{to:"/node/reward",label:l("node_menu.block_reward")}]);return(s,d)=>(f(),g(Ye,{align:"left","indicator-color":"primary","outside-arrows":"",class:"m-bg-grey"},{default:n(()=>[(f(!0),x(E,null,ie(o(r),(i,c)=>(f(),x(E,{key:c},[i.hide?A("",!0):(f(),g(Ne,{key:0,to:i.to,exact:i.exact??!1,label:i.label,icon:i.icon},null,8,["to","exact","label","icon"]))],64))),128))]),_:1}))}},Kr={class:"row q-col-gutter-xs"},vo={__name:"FarmerInfo",setup(t){const{rows:e,loading:l}=qt(),{rows:r,loading:s}=co({since:1e4}),{t:d}=M(),i=w(()=>[{field:"total_bytes",label:d("farmer_info.physical_size"),format:m=>`${(m/Math.pow(1e3,4)).toFixed(3)} TB`},{field:"total_bytes_effective",label:"Effective Size",format:m=>`${(m/Math.pow(1e3,4)).toFixed(3)} TBe`}]),c=w(()=>[{field:"num_blocks",label:"No. Blocks"},{field:"total_rewards_value",label:"Total Rewards",format:m=>`${(m??0).toFixed(3)} MMX`}]);return(m,p)=>{const u=bo;return f(),x("div",null,[y("div",Kr,[(f(!0),x(E,null,ie(o(i),_=>(f(),x("div",{key:_.field,class:"col-md-3 col-sm-6 col-xs-12 col-12"},[a(u,{tile:_,rows:o(e),loading:o(l)},null,8,["tile","rows","loading"])]))),128)),(f(!0),x(E,null,ie(o(c),_=>(f(),x("div",{key:_.field,class:"col-md-3 col-sm-6 col-xs-12 col-12"},[a(u,{tile:_,rows:o(r),loading:o(l)},null,8,["tile","rows","loading"])]))),128))])])}}},zr={class:"q-gutter-y-sm"},Qr={class:"q-col-gutter-xs"},Hr={__name:"index",setup(t){const{isFarmer:e}=Se();return(l,r)=>{const s=Ie;return f(),g(Ze,{padding:""},{default:n(()=>[y("div",zr,[y("div",Qr,[a(o(Wr)),o(e)?(f(),g(o(vo),{key:0})):A("",!0)]),a(P,{flat:""},{default:n(()=>[a(o(Ur)),a(s)]),_:1})])]),_:1})}}},Xr=Object.freeze(Object.defineProperty({__proto__:null,default:Hr},Symbol.toStringTag,{value:"Module"})),de={__name:"TableBodySkeleton",props:{props:{type:Object,required:!0},rowCount:{type:Number,default:10},loading:Boolean},setup(t){const e=t,l=r=>r instanceof Function?"":r;return(r,s)=>(f(!0),x(E,null,ie(e.rowCount,d=>(f(),x("tr",{key:d},[(f(!0),x(E,null,ie(e.props.cols,i=>(f(),x("td",{key:i,class:se(l(i.classes))},[a(It,{key:"text"})],2))),128))]))),128))}},_e=(t,e)=>{const l=t.__vccOpts||t;for(const[r,s]of e)l[r]=s;return l},Gr={key:0,class:"flex"},Jr={style:{"font-size":"0px"}},Yr=["set"],Zr={key:0,style:{color:"darkcyan"}},ei={__name:"LogIndex",setup(t){const e=/(?<=\s|^)(\d+(?:\.\d+)?)(?=,|\s|$)/g,{t:l}=M(),r=$e(),s=k=>{const v=k.row.level;if(v==1)return"error";if(v==2)return"warning"},d=w(()=>[{label:l("node_log_table.time"),field:"time",align:"left",headerStyle:"width: 6%",format:k=>new Date(k/1e3).toLocaleTimeString()},{label:l("node_log_table.module"),field:"module",align:"right",headerStyle:"width: 8%"},{name:"message",label:l("node_log_table.message"),field:"message",align:"left"}]),i=w(()=>[{value:null,label:l("node_log.terminal")},{value:"Node",label:l("node_log.node")},{value:"Router",label:l("node_log.router")},{value:"Wallet",label:l("node_log.wallet")},{value:"Farmer",label:l("node_log.farmer")},{value:"Harvester",label:l("node_log.harvester")},{value:"TimeLord",label:l("node_log.timelord")}]),c=F(100),m=F(3),p=F(null),{rows:u,loading:_}=$n(I({limit:c,level:m,module:p})),h=w(()=>Array.isArray(u.value)?u.value.filter(k=>!r.isWinGUI||k.module!="HttpServer"):[]);return(k,v)=>{const q=de;return f(),g(te,{rows:o(h),columns:o(d),loading:o(_),pagination:{rowsPerPage:0},"hide-pagination":"",flat:"",dense:""},ue({top:n(()=>[a(Jo,{modelValue:o(p),"onUpdate:modelValue":v[0]||(v[0]=S=>Q(p)?p.value=S:null),options:o(i),"toggle-color":"primary",color:"grey-6",dense:"",flat:""},null,8,["modelValue","options"])]),"body-cell":n(S=>[a(O,{props:S,class:se(s(S))},{default:n(()=>[S.col.name=="message"?(f(),x(E,{key:0},[S.value.includes("------------")?(f(),x("div",Gr,[y("span",Jr,b(S.value),1),a(al,{color:"orange",style:{"flex-grow":"1"},class:"q-mr-md"})])):(f(!0),x(E,{key:1},ie(S.value.split(e),(T,V)=>(f(),x("span",{key:V,set:k.m=S.value.match(e)},[k.m&&k.m.includes(T)?(f(),x("span",Zr,b(T),1)):(f(),x(E,{key:1},[$(b(T),1)],64))],8,Yr))),128))],64)):(f(),x(E,{key:1},[$(b(S.value),1)],64))]),_:2},1032,["props","class"])]),_:2},[o(_)?{name:"bottom-row",fn:n(S=>[a(q,{props:S,"row-count":o(c)},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},ti=_e(ei,[["__scopeId","data-v-89dc19f5"]]),li=Object.freeze(Object.defineProperty({__proto__:null,default:ti},Symbol.toStringTag,{value:"Module"})),oi=t=>C.get("/api/router/get_peer_info",{signal:t}).then(e=>e.data),wo=t=>U({queryKey:["peers"],queryFn:({signal:e})=>oi(e),select:e=>e.peers,refetchInterval:5*ot,enabled:t??!0}),ai=t=>C.post("/api/router/kick_peer",{address:t}).then(e=>e.data),ni=()=>{const t=G();return J({mutationFn:e=>ai(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["peers"]}),Fe({message:"Peer kicked: "+l})}})},si=t=>C.post("/api/node/revert_sync",t).then(e=>e.data),ri=()=>{const t=G();return J({mutationFn:e=>si(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["node"]}),t.invalidateQueries({queryKey:["config"]}),Mt({key:"Node.revert_sync",value:l.height,restart:!1})}})},ii=t=>C.post("/api/harvester/add_plot_dir",{path:t}).then(e=>e.data),ui=()=>{const t=G();return J({mutationFn:e=>ii(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["config"]}),Mt({key:"Harvester.plot_dirs",value:"+ "+l,restart:!1})},onError:ne})},di=t=>C.post("/api/harvester/rem_plot_dir",{path:t}).then(e=>e.data),ci=()=>{const t=G();return J({mutationFn:e=>di(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["config"]}),Mt({key:"Harvester.plot_dirs",value:"- "+l,restart:!1})},onError:ne})},mi=t=>C.post("/api/wallet/add_token",{address:t}).then(e=>e.data),pi=()=>{const t=G();return J({mutationFn:e=>mi(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["walletCfg","tokens"]}),Fe({message:"Added token to whitelist: "+l})},onError:ne})},_i=t=>C.post("/api/wallet/rem_token",{address:t}).then(e=>e.data),fi=()=>{const t=G();return J({mutationFn:e=>_i(e),onSuccess:(e,l)=>{t.invalidateQueries({queryKey:["walletCfg","tokens"]}),Fe({message:"Removed token from whitelist: "+l})},onError:ne})},yi=()=>C.post("/api/harvester/reload").then(t=>t.data),hi=()=>{const t=G();return J({mutationFn:()=>yi(),onSuccess:()=>{t.invalidateQueries({queryKey:["farm"]})}})},gi=t=>C.post("/api/wallet/create_wallet",t).then(e=>e.data),bi=()=>{const t=G();return J({mutationFn:e=>gi(e),onSuccess:()=>{t.invalidateQueries({queryKey:["accounts"]}),Fe({message:"Wallet created"})},onError:ne})},vi=t=>C.get("/api/wallet/remove_account",{params:t}).then(e=>e.data),wi=()=>{const t=G();return J({mutationFn:e=>vi(e),onSuccess:()=>{t.invalidateQueries({queryKey:["accounts"]}),Fe({message:"Wallet removed"})},onError:ne})},xi=t=>C.post("/api/wallet/reset_cache",{index:t}).then(e=>e.data),ki=()=>J({mutationFn:t=>xi(t),onSuccess:()=>{Fe({message:"Cache reset successfully"})},onError:ne}),Si=t=>C.post("/api/wallet/set_address_count",t).then(e=>e.data),$i=()=>{const t=G();return J({mutationFn:e=>Si(e),onSuccess:e=>{t.invalidateQueries({queryKey:["wallet"]}),Fe({message:"Updated successfully"})},onError:ne})},qi=(t,e)=>C.get("/api/wallet/is_locked",{params:t,signal:e}).then(l=>l.data),Vi=t=>({queryKey:["wallet","is_locked",t],queryFn:({signal:e})=>qi(t,e)}),Ti=(t,e)=>U({...Vi(t),enabled:e}),Ci=t=>C.post("/api/wallet/lock",t).then(e=>e.data),Ri=t=>{const e=G();return J({mutationFn:()=>Ci(t),onSuccess:()=>{e.invalidateQueries({queryKey:["wallet","is_locked",t]}),Fe({message:`Wallet #${t.index} locked`})},onError:ne})},Li=t=>C.post("/api/wallet/unlock",t).then(e=>e.data),Fi=t=>{const e=G();return J({mutationFn:l=>Li({...t,passphrase:l}),onSuccess:()=>{e.invalidateQueries({queryKey:["wallet","is_locked",t]}),Fe({message:`Wallet #${t.index} unlocked`})},onError:ne})},Oi={__name:"PeersIndex",setup(t){const{t:e}=M(),l=w(()=>[{label:e("node_peers.ip"),field:"address",headerStyle:"width: 10%"},{label:e("node_peers.height"),field:"height",headerStyle:"width: 7%"},{label:e("node_peers.type"),field:"type",headerStyle:"width: 10%"},{label:e("node_peers.version"),field:"version",headerStyle:"width: 5%"},{name:"received",label:e("node_peers.received"),field:"bytes_recv",format:c=>(c/1024/1024).toFixed(1)},{name:"send",label:e("node_peers.send"),field:"bytes_send",format:c=>(c/1024/1024).toFixed(1)},{name:"ping",label:e("node_peers.ping"),field:"ping_ms"},{name:"duration",label:e("node_peers.duration"),field:"connect_time_ms",format:c=>(c/1e3/60).toFixed()},{label:e("node_peers.connection"),field:"is_outbound",format:c=>e(c?"node_peers.outbound":"node_peers.inbound")},{name:"action",label:"Action",field:"action",align:"right"}]),{rows:r,loading:s}=wo(),d=ni(),i=c=>{d.mutate(c)};return(c,m)=>{const p=de;return f(),g(te,{rows:o(r),columns:o(l),loading:o(s),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-received":n(u=>[a(O,{props:u},{default:n(()=>[y("b",null,b(u.value),1),m[0]||(m[0]=$(" MB "))]),_:2},1032,["props"])]),"body-cell-send":n(u=>[a(O,{props:u},{default:n(()=>[y("b",null,b(u.value),1),m[1]||(m[1]=$(" MB "))]),_:2},1032,["props"])]),"body-cell-ping":n(u=>[a(O,{props:u},{default:n(()=>[y("b",null,b(u.value),1),m[2]||(m[2]=$(" ms "))]),_:2},1032,["props"])]),"body-cell-duration":n(u=>[a(O,{props:u},{default:n(()=>[y("b",null,b(u.value),1),m[3]||(m[3]=$(" min "))]),_:2},1032,["props"])]),"body-cell-action":n(u=>[a(O,{props:u},{default:n(()=>[a(j,{label:c.$t("node_peers.kick"),outline:"",color:"secondary",onClick:_=>i(u.row.address)},null,8,["label","onClick"])]),_:2},1032,["props"])]),_:2},[o(s)?{name:"bottom-row",fn:n(u=>[a(p,{props:u,"row-count":20},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},Ii=Object.freeze(Object.defineProperty({__proto__:null,default:Oi},Symbol.toStringTag,{value:"Module"})),Nt=(t,e)=>(e||(e=10),t.substring(0,e)+"..."+t.substring(64-e)),We=t=>{const e=t.col.xclasses,l=t.value;return e instanceof Function?e(l):e},xo={__name:"BlockTable",props:{rows:{type:Object,required:!0},loading:{type:Boolean,required:!1,default:!1}},setup(t){const e=t,{t:l}=M(),r=w(()=>[{name:"height",label:l("explore_blocks.height"),field:"height",headerStyle:"width: 7%"},{label:"VDF",field:"vdf_count",format:s=>`+${s}`,headerStyle:"width: 5%"},{label:l("explore_blocks.tx"),field:"tx_count",headerStyle:"width: 5%"},{label:l("explore_blocks.k"),field:s=>s.ksize,format:s=>`k${s}`,headerStyle:"width: 5%"},{label:l("explore_blocks.score"),field:s=>s.score,headerStyle:"width: 7%"},{label:l("explore_blocks.reward"),field:s=>s.reward_amount.value,format:s=>s.toFixed(3),xclasses:"main-currency",headerStyle:"width: 12%"},{label:"TX Fees",field:s=>s.tx_count?s.tx_fees.value:null,format:s=>s?s.toFixed(3):"",xclasses:s=>s&&"main-currency",headerStyle:"width: 12%"},{label:l("explore_blocks.size"),field:"static_cost_ratio",format:s=>(s*100).toFixed(1),xclasses:"percents",headerStyle:"width: 7%"},{label:l("explore_blocks.cost"),field:"total_cost_ratio",format:s=>(s*100).toFixed(1),xclasses:"percents",headerStyle:"width: 7%"},{name:"hash",label:l("explore_blocks.hash"),field:"hash",align:"left"}]);return(s,d)=>{const i=de,c=le("RouterLink");return f(),g(te,{rows:t.rows,columns:o(r),loading:t.loading,pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-height":n(m=>[a(O,{props:m},{default:n(()=>[a(c,{to:`/explore/block/height/${m.value}`,class:"text-primary"},{default:n(()=>[$(b(m.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-hash":n(m=>[a(O,{props:m},{default:n(()=>[a(c,{to:`/explore/block/hash/${m.value}`,class:"text-primary mono"},{default:n(()=>[$(b(("getShortHash"in s?s.getShortHash:o(Nt))(m.value,16)),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell":n(m=>[a(O,{props:m},{default:n(()=>[y("div",{class:se(("getXClasses"in s?s.getXClasses:o(We))(m))},b(m.value),3)]),_:2},1032,["props"])]),_:2},[t.loading?{name:"bottom-row",fn:n(m=>[a(i,{props:m,"row-count":e.limit},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},Ai={__name:"BlocksIndex",props:{limit:{type:Number,default:20}},setup(t){const e=t,{rows:l,loading:r}=Ts(e);return(s,d)=>{const i=xo;return f(),g(P,{flat:""},{default:n(()=>[a(i,{rows:o(l),loading:o(r)},null,8,["rows","loading"])]),_:1})}}},ko=Object.freeze(Object.defineProperty({__proto__:null,default:Ai},Symbol.toStringTag,{value:"Module"})),Pi={__name:"WChart",props:{loading:{type:Boolean,default:!1},option:{type:Object,default:null}},setup(t){return(e,l)=>t.loading?(f(),g(It,{key:1,square:"",class:"chart"})):(f(),g(o(Ja),{key:0,option:t.option,autoresize:"",class:"chart"},null,8,["option"]))}},fl=_e(Pi,[["__scopeId","data-v-85d4d25c"]]);Ya([Za,en,tn,ln,on]);const Rt=()=>I({title:{left:"center",top:"10px",textStyle:{color:"#1976D2"}},textStyle:{fontFamily:"Roboto Mono Variable",fontWeight:"normal"},tooltip:{trigger:"axis",axisPointer:{type:"line",label:{precision:0}}},xAxis:{type:"value",min:t=>t.min,max:t=>t.max,axisLabel:{showMinLabel:!1,showMaxLabel:!1},allowDecimals:!1},yAxis:{type:"value",axisLabel:{showMinLabel:!1,showMaxLabel:!1},min:t=>Math.max(Math.floor(t.min)-1,0),max:t=>Math.ceil(t.max)+1},grid:{left:"10%",top:"10%",right:"10%",bottom:"10%"},series:[{type:"line",lineStyle:{width:2},showSymbol:!1}]}),Ei={__name:"NetspaceChart",props:{limit:{type:Number,default:1e3},step:{type:Number,default:90}},setup(t){const e=t,{t:l}=M(),r=c=>{var m=[];for(const p of c)m.push([p.height,p.netspace]);return m},{data:s,loading:d}=pl(e,r),i=Rt();return i.title.text=l("netspace_graph.title",["PB"]),i.series[0].data=s,(c,m)=>{const p=fl;return f(),g(p,{loading:o(d),option:o(i)},null,8,["loading","option"])}}},Di=Object.freeze(Object.defineProperty({__proto__:null,default:Ei},Symbol.toStringTag,{value:"Module"})),ji={__name:"VdfSpeedChart",props:{limit:{type:Number,default:1e3},step:{type:Number,default:90}},setup(t){const e=t,{t:l}=M(),r=c=>{var m=[];for(const p of c)m.push([p.height,p.vdf_speed]);return m},{data:s,loading:d}=pl(e,r),i=Rt();return i.title.text=l("vdf_speed_graph.title",["MH/s"]),i.series[0].data=s,(c,m)=>{const p=fl;return f(),g(p,{loading:o(d),option:o(i)},null,8,["loading","option"])}}},Wi=Object.freeze(Object.defineProperty({__proto__:null,default:ji},Symbol.toStringTag,{value:"Module"})),Mi={__name:"RewardChart",props:{limit:{type:Number,default:1e3},step:{type:Number,default:90}},setup(t){const e=t,{t:l}=M(),r=m=>{var p={reward:[],tx_fees:[]};for(const u of m)p.reward.push([u.height,u.reward]),p.tx_fees.push([u.height,u.tx_fees]);return p},{data:s,loading:d}=pl(e,r),i=Rt();i.title.text=l("block_reward_graph.title",["MMX"]),i.series[0].data=D(()=>s.value.reward);const c=Rt();return c.title.text=l("tx_fees_graph.title",["MMX"]),c.series[0].data=D(()=>s.value.tx_fees),(m,p)=>{const u=fl;return f(),x("div",null,[a(u,{loading:o(d),option:o(i)},null,8,["loading","option"]),a(u,{loading:o(d),option:o(c)},null,8,["loading","option"])])}}},Bi=Object.freeze(Object.defineProperty({__proto__:null,default:Mi},Symbol.toStringTag,{value:"Module"})),Ni={__name:"index",setup(t){return(e,l)=>{const r=Ie;return f(),g(Ze,{padding:""},{default:n(()=>[a(r)]),_:1})}}},Ui=Object.freeze(Object.defineProperty({__proto__:null,default:Ni},Symbol.toStringTag,{value:"Module"})),Ki={class:"text-h5 q-mt-sm"},Vt={__name:"EmptyState",props:{icon:{type:String,default:null,required:!1},title:{type:String,default:null,required:!1}},setup(t){const e=t;return(l,r)=>(f(),g(P,{flat:""},{default:n(()=>[a(N,{class:"text-center"},{default:n(()=>[a(ke,{name:e.icon,size:"xl"},null,8,["name"]),y("div",Ki,b(t.title),1)]),_:1})]),_:1}))}},zi=new Intl.NumberFormat(navigator.language,{minimumFractionDigits:1,maximumFractionDigits:12}),vt=t=>zi.format(t),Qi={class:"row vertical-middle justify-between"},Hi={class:"self-center"},Ut={__name:"AccountBalanceTable",props:{index:{type:Number,required:!0}},setup(t){const e=t,{t:l}=M(),r=w(()=>[{label:l("account_balance.balance"),field:"total",format:i=>vt(i),headerStyle:"width: 7%"},{label:l("account_balance.reserved"),field:"reserved",headerStyle:"width: 7%"},{label:l("account_balance.spendable"),field:"spendable",format:i=>vt(i),style:"font-weight: bold;",headerStyle:"width: 7%"},{label:l("account_balance.token"),field:"symbol",headerStyle:"width: 7%",align:"left"},{name:"contract",label:l("account_balance.contract"),field:"contract",align:"left"}]),{rows:s,loading:d}=De(I({index:D(e,"index")}),i=>i.balances);return(i,c)=>{const m=le("RouterLink");return f(),g(te,{rows:o(s),columns:o(r),loading:o(d),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},{"header-cell-contract":n(p=>[a(Yo,{props:p},{default:n(()=>[y("div",Qi,[y("span",Hi,b(p.col.label),1)])]),_:2},1032,["props"])]),"body-cell-contract":n(p=>[a(O,{props:p},{default:n(()=>[p.row.is_native?A("",!0):(f(),g(m,{key:0,to:`/explore/address/${p.value}`,class:"text-primary mono"},{default:n(()=>[$(b(p.value),1)]),_:2},1032,["to"]))]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])}}},Xi={__name:"MChip",props:{copy:{type:Boolean,default:!1}},setup(t){const e=Zo(),l=w(()=>e.default?e.default()[0].children:"");return(r,s)=>(f(),g(ea,null,{default:n(()=>[kt(r.$slots,"default",{},void 0,!0),t.copy&&o(l)?(f(),g(o(nl),{key:0},{default:n(({copy:d,copied:i})=>[a(j,{"icon-right":o(il),flat:"",size:"sm",class:"q-ml-sm q-pa-none",onClick:c=>d(o(l))},{default:n(()=>[a(Ue,{"model-value":i===!0,"no-parent-event":""},{default:n(()=>s[0]||(s[0]=[$("Copied!")])),_:2},1032,["model-value"])]),_:2},1032,["icon-right","onClick"])]),_:1})):A("",!0)]),_:3}))}},Me=_e(Xi,[["__scopeId","data-v-027cc054"]]),we=t=>{G();const{data:e}=$t(t),l=w(()=>e.value?.with_passphrase?e.value.with_passphrase:!1),{data:r}=Ti(t,l),s=w(()=>l.value?r.value??!0:!1),d=async()=>{s.value?k():await p()},i=Fi(t),c=async v=>{await i.mutateAsync(v)},m=Ri(t),p=async()=>{await m.mutateAsync()},u=ta(),_=()=>new Promise((v,q)=>{u.dialog({component:Be(()=>R(()=>Promise.resolve().then(()=>e_),void 0,import.meta.url))}).onOk(async({passphrase:S})=>{v(S)}).onCancel(()=>{q(new Error("Prompt rejected!"))})}),h=async()=>{if(s.value)return await _()},k=async()=>{if(s.value){const v=await h();await c(v)}};return{isLocked:s,handleToggleLock:d,promptPassphrase:h}},Gi={class:"row q-gutter-x-none"},Ji={__name:"AccountHeader",props:{index:{type:Number,required:!0}},setup(t){const e=t,{rows:l,loading:r}=$t(e),{isLocked:s,handleToggleLock:d}=we(e);return(i,c)=>{const m=Me;return f(),x("div",Gi,[a(m,{square:"",outline:""},{default:n(()=>[$(b(i.$t("account_header.wallet"))+" #"+b(t.index),1)]),_:1}),o(l).address?(f(),g(m,{key:0,square:"",outline:"",copy:""},{default:n(()=>[$(b(o(l).address),1)]),_:1})):A("",!0),o(l).name?(f(),g(m,{key:1,square:"",outline:""},{default:n(()=>[$(b(o(l).name),1)]),_:1})):A("",!0),o(l).with_passphrase?(f(),g(j,{key:2,icon:o(s)?o(Wl):o(Ml),size:"sm",round:"",onClick:o(d)},null,8,["icon","onClick"])):A("",!0)])}}},Yi={__name:"AccountMenu",props:{index:{type:Number,required:!0}},setup(t){const e=t,{t:l}=M(),r=w(()=>[{to:`/wallet/account/${e.index}`,exact:!0,label:l("account_menu.balance")},{to:`/wallet/account/${e.index}/contracts`,label:l("account_menu.contracts")},{to:`/wallet/account/${e.index}/send`,label:l("account_menu.send")},{to:`/wallet/account/${e.index}/history`,label:l("account_menu.history")},{to:`/wallet/account/${e.index}/log`,label:l("account_menu.log")},{to:`/wallet/account/${e.index}/offer`,label:l("account_menu.offer"),badge:d.value},{to:`/wallet/account/${e.index}/liquid`,label:l("account_menu.liquidity")},{to:`/wallet/account/${e.index}/plotnfts`,label:"PlotNFTs"},{to:`/wallet/account/${e.index}/details`,label:l("account_menu.info")},{to:`/wallet/account/${e.index}/options`,icon:Bl}]),{rows:s}=uo(I({index:D(e,"index"),state:!0})),d=w(()=>s.value.reduce((i,c)=>(c.ask_balance>0?1:0)+i,0));return(i,c)=>(f(),g(Ye,{align:"left","indicator-color":"primary","outside-arrows":"",class:"m-bg-grey"},{default:n(()=>[(f(!0),x(E,null,ie(o(r),(m,p)=>(f(),g(Ne,{key:p,to:m.to,exact:m.exact??!1,label:m.label,icon:m.icon},{default:n(()=>[m.badge?(f(),g(la,{key:0,color:"positive",floating:"",transparent:"",rounded:""},{default:n(()=>[$(b(m.badge),1)]),_:2},1024)):A("",!0)]),_:2},1032,["to","exact","label","icon"]))),128))]),_:1}))}},So={__name:"index",props:{index:{type:Number,required:!0},useRouterView:{type:Boolean,required:!1,default:!0}},setup(t){const e=t,{rows:l,loading:r,noData:s}=$t(I({index:e.index})),d=Oe();return e.useRouterView&&(d.activeWalletIndex=e.index),(i,c)=>{const m=Ie,p=Ut,u=Vt;return f(),x("div",null,[a(o(Ji),{index:t.index},null,8,["index"]),o(s)?(f(),g(u,{key:1,title:"No such wallet",icon:o(ba)},null,8,["icon"])):(f(),x(E,{key:0},[a(o(Yi),{index:t.index},null,8,["index"]),t.useRouterView?(f(),g(m,{key:0,index:t.index},null,8,["index"])):(f(),g(p,{key:1,index:t.index},null,8,["index"]))],64))])}}},Zi=Object.freeze(Object.defineProperty({__proto__:null,default:So},Symbol.toStringTag,{value:"Module"})),eu={class:"q-gutter-y-sm"},tu={class:"row justify-end"},lu={__name:"AccountIndex",setup(t){const{rows:e,loading:l}=ro();return(r,s)=>(f(),x("div",null,[o(l)?(f(),g(mt,{key:0,query:"",class:"absolute-top"})):A("",!0),y("div",eu,[(f(!0),x(E,null,ie(o(e),(d,i)=>(f(),g(o(So),{key:i,index:d.account,"use-router-view":!1},null,8,["index"]))),128)),y("div",tu,[a(j,{to:"/wallet/create",icon:o(Nl),label:r.$t("wallet_summary.new_wallet"),size:"md",outline:"",rounded:"",color:"primary"},null,8,["icon","label"])])])]))}},ou=Object.freeze(Object.defineProperty({__proto__:null,default:lu},Symbol.toStringTag,{value:"Module"})),au=t=>{try{if(an.decode(t).words.length!=52)return!1}catch{return!1}return!0},Rl=t=>t==null||typeof t=="string"&&t.trim().length===0,Y={number:t=>!t||/^\d+$/.test(t)||"Invalid number",address:t=>!t||au(t)||"Invalid address",required:t=>!Rl(t)||"Field is required",amount:t=>Rl(t)||typeof t=="number"&&t>0||"Invalid amount",memo:t=>t&&t.length>64?"Maximum length is 64":!0},nu={__name:"SeedWord",props:At({wordList:{type:Array,required:!0}},{modelValue:{type:String,required:!1,default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=St(t,"modelValue"),l=t,r=F(l.wordList),s=(c,m,p)=>{m(()=>{const u=c.toLowerCase();r.value=l.wordList.filter(_=>_.toLowerCase().indexOf(u)==0)},u=>{c!==""&&u.options.length>0&&u.getOptionIndex()===-1&&(u.moveOptionSelection(1,!0),u.toggleOption(u.options[u.optionIndex],!0))})},d=c=>{e.value=c},i=c=>l.wordList?.includes(c)||"Invalid word";return(c,m)=>(f(),g(ve,Re({modelValue:e.value,"onUpdate:modelValue":m[0]||(m[0]=p=>e.value=p)},c.$attrs,{options:o(r),"hide-dropdown-icon":"","fill-input":"","use-input":"","hide-selected":"",outlined:"","input-debounce":"0",rules:[o(Y).required,i],"hide-bottom-space":"","no-error-icon":"","input-class":"text-bold",onFilter:s,onInputValue:d}),null,16,["modelValue","options","rules"]))}},su=_e(nu,[["__scopeId","data-v-2a2006f5"]]),ru={class:"row q-row-gutter-xs q-col-gutter-xs"},Tt=24,$o={__name:"index",props:At({readonly:{type:Boolean,required:!1,default:!1}},{modelValue:{type:String,required:!1,default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=St(t,"modelValue"),l=F(new Array(Tt).fill("")),r=(d,i)=>{d=d.trim();const c=d.split(" ").length;c==1?e.value=l.value.join(" "):c==Tt&&(e.value=d,s())},s=()=>{e.value?l.value=e.value.split(" ").slice(0,Tt):l.value=new Array(Tt).fill("")};return fe(()=>s()),(d,i)=>{const c=su;return f(),x("div",null,[y("div",ru,[(f(!0),x(E,null,ie(o(l),(m,p)=>(f(),g(c,{key:p,modelValue:o(l)[p],"onUpdate:modelValue":[u=>o(l)[p]=u,u=>r(u)],"word-list":o(nn),label:(p+1).toString(),readonly:t.readonly,class:"col-md-2 col-sm-3 col-xs-4"},null,8,["modelValue","onUpdate:modelValue","word-list","label","readonly"]))),128))])])}}},iu={class:"q-gutter-y-sm"},uu={class:"row q-gutter-x-sm"},du={class:"col-8"},cu={class:"col"},mu={class:"q-gutter-y-sm"},pu={class:"text-subtitle1"},_u={class:"q-gutter-y-sm"},fu={class:"row full-width justify-end"},yu={__name:"WalletCreate",setup(t){const e=F(!1),l=F(!1),r=F(!1),s=F(!1),d=F(""),i=F(1),c=F(),m=F(),p=F(),u=et(),_=bi(),h=Tn(),k=()=>{l.value&&r.value&&p.value?q():v()},v=()=>{e.value=!0;const S={config:{name:d.value,numAddresses:i.value},...l.value&&{words:c.value},...r.value&&{passphrase:m.value}};_.mutate(S,{onSuccess:()=>{u.push("/wallet/")},onSettled:()=>{e.value=!1}})},q=()=>{e.value=!0;const S={words:c.value,finger_print:p.value,passphrase:m.value};h.mutate(S,{onSuccess:()=>{v()},onSettled:()=>{e.value=!1}})};return(S,T)=>{const V=$o;return f(),x("div",iu,[a(P,{flat:""},{default:n(()=>[a(N,null,{default:n(()=>[y("div",uu,[y("div",du,[a(B,{modelValue:o(d),"onUpdate:modelValue":T[0]||(T[0]=L=>Q(d)?d.value=L:null),label:S.$t("create_wallet.account_name")},null,8,["modelValue","label"])]),y("div",cu,[a(B,{modelValue:o(i),"onUpdate:modelValue":T[1]||(T[1]=L=>Q(i)?i.value=L:null),modelModifiers:{number:!0},label:S.$t("create_wallet.number_of_addresses")},null,8,["modelValue","label"])])])]),_:1})]),_:1}),a(P,{flat:""},{default:n(()=>[a(N,null,{default:n(()=>[y("div",mu,[a(Ge,{modelValue:o(l),"onUpdate:modelValue":T[2]||(T[2]=L=>Q(l)?l.value=L:null),label:S.$t("create_wallet.use_custom_seed")},null,8,["modelValue","label"]),o(l)?(f(),x(E,{key:0},[y("div",pu,b(S.$t("create_wallet.seed_words")),1),a(V,{modelValue:o(c),"onUpdate:modelValue":T[3]||(T[3]=L=>Q(c)?c.value=L:null)},null,8,["modelValue"])],64)):A("",!0)])]),_:1})]),_:1}),a(P,{flat:""},{default:n(()=>[a(N,null,{default:n(()=>[y("div",_u,[a(Ge,{modelValue:o(r),"onUpdate:modelValue":T[4]||(T[4]=L=>Q(r)?r.value=L:null),label:S.$t("create_wallet.use_passphrase")},null,8,["modelValue","label"]),o(r)?(f(),x(E,{key:0},[a(B,{modelValue:o(m),"onUpdate:modelValue":T[6]||(T[6]=L=>Q(m)?m.value=L:null),label:S.$t("create_wallet.passphrase"),outlined:"",type:o(s)?"text":"password",autocomplete:"new-password"},{append:n(()=>[a(ke,{name:o(s)?o(Kl):o(Ul),class:"cursor-pointer",onClick:T[5]||(T[5]=L=>s.value=!o(s))},null,8,["name"])]),_:1},8,["modelValue","label","type"]),o(l)?(f(),g(B,{key:0,modelValue:o(p),"onUpdate:modelValue":T[7]||(T[7]=L=>Q(p)?p.value=L:null),label:"Fingerprint (optional, to validate passphrase)",outlined:""},null,8,["modelValue"])):A("",!0)],64)):A("",!0)])]),_:1})]),_:1}),y("div",fu,[a(j,{icon:o(Nl),label:S.$t("create_wallet.create_wallet"),loading:o(e),color:"primary",outline:"",onClick:k},null,8,["icon","label","loading"])])])}}},hu=Object.freeze(Object.defineProperty({__proto__:null,default:yu},Symbol.toStringTag,{value:"Module"})),gu=(t,e)=>(e||(e=10),t.substring(0,e)+"..."+t.substring(62-e)),qo={__name:"TxTypeLink",props:{id:{type:String,required:!0},type:{type:String,required:!0}},setup(t){const e=t,l=w(()=>{switch(e.type){case"REWARD":case"VDF_REWARD":case"PROJECT_REWARD":return"/explore/block/hash/"+e.id;default:return"/explore/transaction/"+e.id}});return(r,s)=>{const d=le("RouterLink");return f(),g(d,{to:o(l)},{default:n(()=>[kt(r.$slots,"default")]),_:3},8,["to"])}}},Lt=t=>t=="REWARD"?"text-lime-8":t=="RECEIVE"||t=="REWARD"||t=="VDF_REWARD"?"text-positive":t=="SPEND"?"text-negative":t=="TXFEE"?"text-grey":"",bu={key:0},vu={key:0,class:"text-orange"},Vo={__name:"AccountHistoryTable",props:{index:{type:Number,required:!0},limit:{type:Number,required:!0},memo:{type:String,required:!1,default:null},type:{type:String,required:!1,default:null},currency:{type:String,required:!1,default:null}},setup(t){const e=t,{t:l}=M(),r=w(()=>[{name:"height",label:l("account_history.height"),field:"height",headerStyle:"width: 7%"},{label:l("account_history.type"),field:"type",headerStyle:"width: 8%",classes:i=>Lt(i.type)},{label:l("account_history.amount"),field:"value",headerClasses:"dense-amount",classes:"dense-amount",headerStyle:"width: 7%",style:"font-weight: bold;",align:"right"},{name:"token",label:l("account_history.token"),field:"symbol",headerClasses:"dense-symbol",classes:"dense-symbol",headerStyle:"width: 5%",align:"left"},{name:"address",label:l("account_history.address"),field:"address",headerStyle:"width: 15%",align:"left"},{label:"Memo",field:"memo",style:"word-break: break-all;",align:"left"},{name:"txid",label:l("account_history.link"),field:"txid",headerStyle:"width: 5%"},{label:l("account_history.time"),field:i=>i,format:i=>i.is_pending?"":new Date(i.time_stamp).toLocaleString(),headerStyle:"width: 15%",classes:"text-no-wrap",align:"left"}]),{rows:s,loading:d}=cs(e);return(i,c)=>{const m=de,p=le("RouterLink"),u=qo;return f(),g(te,{rows:o(s),columns:o(r),loading:o(d),pagination:{rowsPerPage:0},"hide-pagination":"","wrap-cells":"",flat:""},ue({"body-cell-height":n(_=>[a(O,{props:_},{default:n(()=>[_.row.is_pending?(f(),x("i",bu,"pending")):(f(),g(p,{key:1,to:`/explore/block/height/${_.value}`,class:"text-primary"},{default:n(()=>[$(b(_.value),1)]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-token":n(_=>[a(O,{props:_},{default:n(()=>[_.row.is_native?(f(),x(E,{key:0},[$(b(_.value),1)],64)):(f(),g(p,{key:1,to:`/explore/address/${_.row.contract}`,class:"text-primary mono"},{default:n(()=>[$(b(_.row.is_nft?"[NFT]":_.row.symbol)+" ",1),_.row.is_validated?A("",!0):(f(),x("span",vu,"?"))]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-address":n(_=>[a(O,{props:_},{default:n(()=>[a(p,{to:`/explore/address/${_.value}`,class:"text-primary mono"},{default:n(()=>[$(b(("getShortAddr"in i?i.getShortAddr:o(gu))(_.value)),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-txid":n(_=>[a(O,{props:_},{default:n(()=>[a(u,{id:_.value,type:_.row.type,class:"text-primary"},{default:n(()=>c[0]||(c[0]=[$("TX")])),_:2},1032,["id","type"])]),_:2},1032,["props"])]),_:2},[o(d)?{name:"bottom-row",fn:n(_=>[a(m,{props:_,"row-count":6},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},wu={class:"q-gutter-y-sm"},xu={__name:"AccountHome",props:{index:{type:Number,required:!0}},setup(t){return(e,l)=>{const r=Ut,s=Vo;return f(),x("div",wu,[a(r,{index:t.index},null,8,["index"]),a(s,{index:t.index,limit:50},null,8,["index"])])}}},ku=Object.freeze(Object.defineProperty({__proto__:null,default:xu},Symbol.toStringTag,{value:"Module"})),Su={class:"q-gutter-y-sm"},$u={__name:"AccountNFT",props:{index:{type:Number,required:!0}},setup(t){const e=t,{t:l}=M(),r=w(()=>[{label:"NFT",field:"item",align:"left"}]),{rows:s,loading:d}=De(I({index:D(e,"index"),show_all:!1}),i=>i.nfts);return(i,c)=>{const m=de,p=le("RouterLink");return f(),x("div",Su,[a(te,{rows:o(s),columns:o(r),loading:o(d),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-contract":n(u=>[a(O,{props:u},{default:n(()=>[a(p,{to:`/explore/address/${u.value}`,class:"text-primary mono"},{default:n(()=>[$(b(u.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[o(d)?{name:"bottom-row",fn:n(u=>[a(m,{props:u,"row-count":3},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])])}}},qu=Object.freeze(Object.defineProperty({__proto__:null,default:$u},Symbol.toStringTag,{value:"Module"})),yl={__name:"BalanceTable",props:{address:{type:String,required:!0},showEmpty:{type:Boolean,default:!1,required:!1}},setup(t){const e=t,{t:l}=M(),r=w(()=>[{label:l("balance_table.balance"),field:"total",format:i=>vt(i),headerStyle:"width: 7%"},{label:l("balance_table.locked"),field:"locked",format:i=>vt(i),headerStyle:"width: 7%"},{label:l("balance_table.spendable"),field:"spendable",format:i=>vt(i),headerStyle:"width: 7%",style:"font-weight: bold;"},{label:l("balance_table.token"),field:"symbol",headerStyle:"width: 7%",align:"left"},{name:"contract",label:l("balance_table.contract"),field:"contract",align:"left"}]),{rows:s,loading:d}=_o(I({id:D(e,"address")}));return(i,c)=>{const m=de,p=le("RouterLink");return o(d)||!o(d)&&(o(s)?.length||t.showEmpty)?(f(),g(te,{key:0,rows:o(s),columns:o(r),loading:o(d),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-contract":n(u=>[a(O,{props:u},{default:n(()=>[a(p,{to:`/explore/address/${u.value}`,class:"text-primary mono"},{default:n(()=>[$(b(u.row.is_native?"":u.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[o(d)?{name:"bottom-row",fn:n(u=>[a(m,{props:u,"row-count":1},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])):A("",!0)}}},Vu={key:0},Tu={class:"key-cell m-bg-grey"},Cu={class:"textwarp mono"},Ru={key:1,class:"hex"},Lu={__name:"ObjectTable",props:{data:{type:Object,default:null}},setup(t){const e=F({}),l=c=>c instanceof Object?JSON.stringify(c,null,4):c,r=c=>typeof c=="string"&&c.startsWith("mmx1")&&c.length==62,s=(c,m)=>c instanceof Object&&Object.keys(c).length>0||m=="source",d=c=>{e.value[c]||(e.value[c]=!1),e.value[c]=!e.value[c]},i=c=>c&&c.length>68&&c.length%2==0&&/^[0-9a-fA-F]+$/.test(c);return(c,m)=>{const p=le("highlightjs"),u=le("RouterLink");return f(),g(Pt,{flat:""},{default:n(()=>[y("tbody",null,[(f(!0),x(E,null,ie(t.data,(_,h)=>(f(),x(E,{key:h},[h!="__type"?(f(),x("tr",Vu,[y("td",Tu,b(h),1),y("td",Cu,[_ instanceof Object||h=="source"?(f(),x(E,{key:0},[s(_,h)?(f(),g(j,{key:0,icon:o(e)[h]?o(wa):o(va),"fab-mini":"",class:"float-right",onClick:k=>d(h)},null,8,["icon","onClick"])):A("",!0),a(p,{code:l(_),class:se({hljsCode:!0,collapsed:!o(e)[h]})},null,8,["code","class"])],64)):(f(),x(E,{key:1},[r(_)?(f(),g(u,{key:0,to:`/explore/address/${_}`,class:"text-primary mono"},{default:n(()=>[$(b(_),1)]),_:2},1032,["to"])):i(_)?(f(),x("div",Ru,b(_),1)):(f(),x(E,{key:2},[$(b(_),1)],64))],64))])])):A("",!0)],64))),128))])]),_:1})}}},Kt=_e(Lu,[["__scopeId","data-v-4d5a1ef0"]]),Fu={class:"row q-gutter-x-none"},Ou={key:0,class:"row justify-end q-gutter-xs"},Iu={__name:"AccountContractsIndex",props:{index:{type:Number,required:!0}},setup(t){const e=t,{rows:l,loading:r}=io(e),s=w(()=>l.value),d=et(),i=(m,p)=>{d.push("/wallet/account/"+m+"/send/"+p)},c=(m,p)=>{d.push("/wallet/account/"+m+"/send_from/"+p)};return(m,p)=>{const u=Me,_=Kt,h=yl;return f(!0),x(E,null,ie(o(s),(k,v)=>(f(),x("div",{key:v,class:"q-gutter-y-xs"},[y("div",null,[y("div",Fu,[a(u,{square:"",outline:""},{default:n(()=>[$(b(k.__type),1)]),_:2},1024),a(u,{square:"",outline:""},{default:n(()=>[$(b(k.address),1)]),_:2},1024)]),a(P,{flat:""},{default:n(()=>[a(_,{data:k},null,8,["data"])]),_:2},1024)]),y("div",null,[a(h,{address:k.address},null,8,["address"])]),k.__type!="mmx.contract.Executable"?(f(),x("div",Ou,[a(j,{label:m.$t("account_contract_summary.deposit"),icon:o(ll),outline:"",color:"positive",onClick:q=>i(t.index,k.address)},null,8,["label","icon","onClick"]),a(j,{label:m.$t("account_contract_summary.withdraw"),icon:o(ul),outline:"",color:"negative",onClick:q=>c(t.index,k.address)},null,8,["label","icon","onClick"])])):A("",!0)]))),128)}}},Au={class:"q-gutter-y-sm"},Pu={class:"row justify-end"},Eu={__name:"CreateContractMenu",props:{index:{type:Number,required:!0}},setup(t){const e=t,l=F(),r=w(()=>[]),s=et(),d=()=>{s.push("/wallet/account/"+e.index+"/create/"+l.value)};return(i,c)=>(f(),x("div",null,[a(P,{flat:""},{default:n(()=>[a(N,null,{default:n(()=>[y("div",Au,[a(ve,{modelValue:o(l),"onUpdate:modelValue":c[0]||(c[0]=m=>Q(l)?l.value=m:null),options:o(r),label:i.$t("create_contract_menu.contract_type"),"emit-value":"","map-options":""},null,8,["modelValue","options","label"]),y("div",Pu,[a(j,{label:i.$t("common.create"),icon:o(xa),"text-color":"primary",outline:"",disable:!o(l),onClick:d},null,8,["label","icon","disable"])])])]),_:1})]),_:1})]))}},Du={class:"q-gutter-y-sm q-mt-sm"},ju={__name:"index",props:{index:{type:Number,required:!0}},setup(t){return(e,l)=>(f(),x("div",Du,[a(Eu,{index:t.index},null,8,["index"]),a(Iu,{index:t.index},null,8,["index"])]))}},Wu=Object.freeze(Object.defineProperty({__proto__:null,default:ju},Symbol.toStringTag,{value:"Module"})),To={__name:"AccountTxHistoryTable",props:{index:{type:Number,required:!0},limit:{type:Number,required:!1,default:200}},setup(t){const e=t,{t:l}=M(),r=w(()=>[{name:"height",label:l("account_tx_history.height"),field:"height",headerStyle:"width: 7%"},{label:"Type",field:"note",headerStyle:"width: 11%"},{label:"Fee",field:i=>i.height&&i.fee&&i.fee.value,format:i=>i?i.toFixed(3):"...",headerStyle:"width: 12%",xclasses:"main-currency"},{label:l("account_tx_history.confirmed"),field:"confirm",format:i=>i?i>1e3?"> 1000":i:null,headerStyle:"width: 7%"},{label:l("account_tx_history.status"),field:"state",headerStyle:"width: 7%",classes:i=>i.state=="failed"?"text-negative":null},{name:"transaction_id",label:l("account_tx_history.transaction_id"),field:"id",align:"left"},{label:l("account_tx_history.time"),field:"time",format:i=>new Date(i).toLocaleString(),headerStyle:"width: 15%",align:"left"}]),{rows:s,loading:d}=_s(e);return(i,c)=>{const m=de,p=le("RouterLink");return f(),g(te,{rows:o(s),columns:o(r),loading:o(d),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-height":n(u=>[a(O,{props:u},{default:n(()=>[a(p,{to:`/explore/block/height/${u.value}`,class:"text-primary"},{default:n(()=>[$(b(u.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-transaction_id":n(u=>[a(O,{props:u},{default:n(()=>[a(p,{to:`/explore/transaction/${u.value}`,class:"text-primary mono"},{default:n(()=>[$(b(("getShortHash"in i?i.getShortHash:o(Nt))(u.value,16)),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell":n(u=>[a(O,{props:u},{default:n(()=>[y("div",{class:se(("getXClasses"in i?i.getXClasses:o(We))(u))},b(u.value),3)]),_:2},1032,["props"])]),_:2},[o(d)?{name:"bottom-row",fn:n(u=>[a(m,{props:u,"row-count":6},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},Mu=t=>{const e=F([]),l=F([]),r=F(!1),s=()=>{if(t.value){const c=t.value.getValidationComponents().filter(m=>m.rules);e.value=new Array(c.length).fill(!1),c.forEach((m,p)=>{const u=ye(()=>m.modelValue,_=>{const h=m.rules?.every(k=>k(_)===!0)??!1;e.value[p]=h},{deep:!0,immediate:!0});l.value.push(u)}),r.value=!0}},d=w(()=>e.value.some(c=>c===!1)),i=w(()=>r.value?d.value===!1:!1);return oa(()=>{s()}),{isValid:i,setupValidation:s}},Bu=(t,e)=>{const l=F(null),r=F(!1),s=w(()=>({...t}));ye(s,(_,h)=>{_.feeRatio===h.feeRatio&&(r.value=!1)}),ye(r,_=>{_&&d()});const d=()=>{l.value.validate()},{isValid:i,setupValidation:c}=Mu(l),m=()=>{c()},p=w(()=>i.value&&r.value);return{formRef:l,confirmed:r,isValid:i,isValidConfirmed:p,reset:()=>{Object.assign(t,e),r.value=!1},validate:d,onDialogShow:m}},qe={__name:"WForm",props:{data:{type:Object,required:!0},defaultData:{type:Object,required:!0},onSubmit:{type:Function,required:!1,default:()=>{}},onReset:{type:Function,required:!1,default:()=>{}}},setup(t,{expose:e}){const l=t,{formRef:r,confirmed:s,isValid:d,isValidConfirmed:i,reset:c,onDialogShow:m,validate:p}=Bu(l.data,l.defaultData),u=()=>{c(),l.onReset()},_=async()=>{s.value=!1,l.onSubmit()},h=async()=>{u()},k=I({confirmed:s,isValid:d,isValidConfirmed:i});return aa("formState",k),e({reset:u,confirmed:s,isValid:d,isValidConfirmed:i,onDialogShow:m,validate:p}),(v,q)=>(f(),g(sl,{ref_key:"formRef",ref:r,onSubmit:_,onReset:h},{default:n(()=>[kt(v.$slots,"default")]),_:3},512))}},Ae={__name:"WBtnSubmit",setup(t){const e=Al("formState"),{confirmed:l,isValid:r,isValidConfirmed:s}=it(e),d=F(null),i=w(()=>l.value?d.value?.disable?"negative":"positive":"");return(c,m)=>(f(),g(j,{ref_key:"btnRef",ref:d,type:"submit",color:o(i),outline:"",disable:!o(s)},null,8,["color","disable"]))}},Pe={__name:"WToggleConfirmed",setup(t){const e=Al("formState");return(l,r)=>(f(),g(na,{modelValue:o(e).confirmed,"onUpdate:modelValue":r[0]||(r[0]=s=>o(e).confirmed=s),label:l.$t("common.confirm")},null,8,["modelValue","label"]))}},Nu={};function Uu(t,e){return f(),g(j,{label:"Reset",type:"reset",color:"primary",flat:""})}const Ve=_e(Nu,[["render",Uu]]),Ku={__name:"TxFeeInput",props:At({error:{type:String,required:!1,default:null},loading:{type:Boolean,required:!1,default:!1},locked:{type:Boolean,required:!1,default:!1}},{modelValue:{type:Number,required:!1,default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=St(t,"modelValue"),l=t;return w(()=>l.loading&&l.error===null),(r,s)=>(f(),g(B,Re({"model-value":e.value},r.$attrs,{label:r.$t("account_history_form.tx_fee"),suffix:"MMX","input-class":"amount-input",readonly:"",class:"col-2"}),{default:n(()=>[a(Xt,{showing:t.loading},{default:n(()=>[a(sa,{color:"grey",size:"2em"})]),_:1},8,["showing"]),a(Xt,{showing:t.locked},{default:n(()=>[a(ke,{name:o(ka),size:"sm",class:"text-warning"},{default:n(()=>[a(Ue,null,{default:n(()=>s[0]||(s[0]=[$("Unlock wallet to see estimated fee")])),_:1})]),_:1},8,["name"])]),_:1},8,["showing"]),a(Xt,{showing:t.error!=null},{default:n(()=>[a(ke,{name:o(zl),size:"sm",class:"text-warning"},{default:n(()=>[a(Ue,null,{default:n(()=>[$(b(t.error),1)]),_:1})]),_:1},8,["name"])]),_:1},8,["showing"])]),_:1},16,["model-value","label"]))}},Ee=_e(Ku,[["__scopeId","data-v-1852591f"]]),Te={__name:"TxFeeSelect",props:{modelValue:{type:Number,required:!1,default:1024},modelModifiers:{}},emits:["update:modelValue"],setup(t){const e=St(t,"modelValue"),l=w(()=>[{label:"1x (min fee)",value:1024},{label:"2x",value:2048},{label:"3x",value:3072},{label:"5x",value:5120},{label:"10x",value:10240},{label:"20x",value:20480}]);return fe(()=>{e.value||(e.value=1024)}),(r,s)=>(f(),g(ve,{modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=d=>e.value=d),options:o(l),"emit-value":"","map-options":"",label:"TX Fee Ratio"},null,8,["modelValue","options"]))}},zt={__name:"XSelect",setup(t){return(e,l)=>(f(),g(ve,Re(e.$attrs,{"emit-value":"","map-options":""}),{"selected-item":n(r=>[a(el,Re(r.itemProps,{class:"q-pb-none",style:{"min-height":"unset"}}),{default:n(()=>[a(gt,{avatar:"",class:"content-end q-pb-none"},{default:n(()=>[a(bt,{class:se({"text-bold":r.opt.value!==null})},{default:n(()=>[$(b(r.opt.label),1)]),_:2},1032,["class"])]),_:2},1024),r.opt.description?(f(),g(gt,{key:0},{default:n(()=>[a(bt,{class:se(r.opt.descriptionClasses)},{default:n(()=>[$(b(r.opt.description),1)]),_:2},1032,["class"])]),_:2},1024)):A("",!0)]),_:2},1040)]),option:n(r=>[a(el,Et(Dt(r.itemProps)),{default:n(()=>[a(gt,{avatar:"",class:"content-end"},{default:n(()=>[a(bt,null,{default:n(()=>[$(b(r.opt.label),1)]),_:2},1024)]),_:2},1024),r.opt.description?(f(),g(gt,{key:0},{default:n(()=>[a(bt,{class:se(r.opt.descriptionClasses)},{default:n(()=>[$(b(r.opt.description),1)]),_:2},1032,["class"])]),_:2},1024)):A("",!0)]),_:2},1040)]),_:1},16))}},Co={__name:"BalanceTokenSelect",props:{index:{type:Number,required:!0},nullItem:{type:Boolean,required:!1,default:!1},nullLabel:{type:String,required:!1,default:"null"}},setup(t){const e=t,{t:l}=M(),r=w(()=>{const i=[];return e.nullItem&&i.push({label:e.nullLabel,value:null}),s.value.map(c=>{const m=c.symbol,p=c.contract,u=c.contract;c.is_native?i.push({label:m,value:p}):i.push({label:m,value:p,description:u,descriptionClasses:"mono"})}),i}),{rows:s,loading:d}=De(I({index:D(e,"index")}),i=>i.balances);return(i,c)=>{const m=zt;return f(),g(m,Re(i.$attrs,{options:o(r)}),null,16,["options"])}}},zu={__name:"AddressTokenSelect",props:{address:{type:String,required:!0},nullItem:{type:Boolean,required:!1,default:!1},nullLabel:{type:String,required:!1,default:"null"}},setup(t){const e=t,{t:l}=M(),r=w(()=>{const i=[];return e.nullItem&&i.push({label:e.nullLabel,value:null}),s.value.map(c=>{const m=c.symbol,p=c.contract,u=c.decimals||0,_=c.contract,h="mono",k=c.is_native;var v={label:m,value:p,decimals:u};k||(v={...v,description:_,descriptionClasses:h}),i.push(v)}),i}),{rows:s,loading:d}=Qs(I({id:D(e,"address")}),i=>i.balances);return(i,c)=>{const m=zt;return f(),g(m,Re(i.$attrs,{options:o(r)}),null,16,["options"])}}},hl={__name:"WalletSelect",props:At({nullItem:{type:Boolean,required:!1,default:!1},nullLabel:{type:String,required:!1,default:"null"}},{modelValue:{type:[Number,Object],required:!1,default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=St(t,"modelValue"),l=t,{t:r}=M(),s=w(()=>{const i=[];return l.nullItem&&i.push({label:l.nullLabel,value:null}),d.value.map(c=>{const m=`${r("market_menu.wallet")} #${c.account}`,p=c.account,u=c.address,_=c.address;i.push({label:m,value:p,address:u,description:_,descriptionClasses:"mono"})}),i}),{rows:d}=ro();return fe(()=>{d.value.length>0&&!e.value&&(e.value=s.value[0].value)}),(i,c)=>{const m=zt;return f(),g(m,Re({modelValue:e.value,"onUpdate:modelValue":c[0]||(c[0]=p=>e.value=p)},i.$attrs,{options:o(s)}),null,16,["modelValue","options"])}}},Qu=t=>{const e=w(()=>t.value?.isValid??!1),l=w(()=>t.value?.isValidConfirmed??!1);return{isValid:e,isValidConfirmed:l}},Ce=(t,e)=>{const{isValid:l,isValidConfirmed:r}=Qu(t),s=w(()=>l.value&&!e.value),d=w(()=>r.value&&!e.value);return{isValid:l,isValidConfirmed:r,isValidUnlocked:s,isValidConfirmedUnlocked:d}},Hu={class:"q-gutter-y-sm"},Xu={class:"row q-gutter-x-sm"},Gu={class:"row justify-end q-gutter-x-sm"},Ju={class:"q-mt-md row justify-end"},Yu={class:"col"},Zu={__name:"AccountSendForm",props:{index:{type:Number,required:!0},source:{type:String,required:!1,default:null},target:{type:String,required:!1,default:null}},setup(t){const e=t,l={destination:null,amount:null,currency:null,memo:null,feeRatio:null},r=F(null),s=I({...l}),d=F(null),i=()=>{e.target?s.destination=e.target:s.destination=d.value&&d.value?.address};fe(()=>{i()});const c=async()=>{d.value=null,i()},m=w(()=>({index:e.index,amount:s.amount,currency:s.currency,...e.source&&{src_addr:e.source},dst_addr:s.destination,options:{...s.memo&&{memo:s.memo},fee_ratio:s.feeRatio}})),{promptPassphrase:p,isLocked:u}=we(I({index:D(e,"index")})),{isValidConfirmedUnlocked:_}=Ce(r,u),{data:h,isLoading:k,latestError:v}=so(m,_),q=Yl(),S=async()=>{const T=await p(),V={...m.value,options:{...m.value.options,passphrase:T}};await q.mutateAsync(V)};return(T,V)=>{const L=hl,H=zu,K=Co,z=Te,ae=Ee,me=Ve,Z=Pe,ee=Ae,oe=qe;return f(),g(P,{flat:""},{default:n(()=>[a(N,null,{default:n(()=>[a(oe,{ref_key:"formRef",ref:r,data:o(s),"default-data":l,onReset:c,onSubmit:S},{default:n(()=>[y("div",Hu,[t.source?(f(),g(B,{key:0,"model-value":t.source,label:T.$t("account_send_form.source_address"),readonly:""},null,8,["model-value","label"])):A("",!0),t.target?A("",!0):(f(),g(L,{key:1,modelValue:o(d),"onUpdate:modelValue":V[0]||(V[0]=W=>Q(d)?d.value=W:null),label:T.$t("account_send_form.destination"),"null-item":"","null-label":T.$t("account_send_form.address_input"),"emit-value":!1,clearable:o(d)?.value!=null,disable:!!t.target},null,8,["modelValue","label","null-label","clearable","disable"])),a(B,{modelValue:o(s).destination,"onUpdate:modelValue":V[1]||(V[1]=W=>o(s).destination=W),label:T.$t("account_send_form.destination_address"),placeholder:"mmx1...",rules:[o(Y).required,o(Y).address],"hide-bottom-space":"","input-class":"text-bold",readonly:!!o(d)?.value||!!t.target,clearable:o(s).destination!=null},null,8,["modelValue","label","rules","readonly","clearable"]),y("div",Xu,[a(B,{modelValue:o(s).amount,"onUpdate:modelValue":V[2]||(V[2]=W=>o(s).amount=W),modelModifiers:{number:!0},label:T.$t("account_send_form.amount"),rules:[o(Y).required,o(Y).amount],"hide-bottom-space":"","input-class":"amount-input",class:"col-2"},null,8,["modelValue","label","rules"]),t.source?(f(),g(H,{key:0,modelValue:o(s).currency,"onUpdate:modelValue":V[3]||(V[3]=W=>o(s).currency=W),rules:[o(Y).required],address:t.source,label:T.$t("account_send_form.currency"),clearable:o(s).currency!=null,class:"col"},null,8,["modelValue","rules","address","label","clearable"])):(f(),g(K,{key:1,modelValue:o(s).currency,"onUpdate:modelValue":V[4]||(V[4]=W=>o(s).currency=W),rules:[o(Y).required],index:t.index,label:T.$t("account_send_form.currency"),clearable:o(s).currency!=null,class:"col"},null,8,["modelValue","rules","index","label","clearable"]))]),a(B,{modelValue:o(s).memo,"onUpdate:modelValue":V[5]||(V[5]=W=>o(s).memo=W),label:"Memo",rules:[o(Y).memo],"hide-bottom-space":"",clearable:o(s).memo!=null},null,8,["modelValue","rules","clearable"]),y("div",Gu,[a(z,{modelValue:o(s).feeRatio,"onUpdate:modelValue":V[6]||(V[6]=W=>o(s).feeRatio=W),class:"col-2"},null,8,["modelValue"]),a(ae,{modelValue:o(h),"onUpdate:modelValue":V[7]||(V[7]=W=>Q(h)?h.value=W:null),loading:o(k),error:o(v),locked:o(u),class:"col-2"},null,8,["modelValue","loading","error","locked"])]),y("div",Ju,[y("div",Yu,[a(me,{class:"items-start"})]),a(Z,{class:"col-2"}),a(ee,{label:T.$t("account_send_form.send"),icon:o(ul),class:"col-2"},null,8,["label","icon"])])])]),_:1},8,["data"])]),_:1})]),_:1})}}},ed={class:"q-gutter-y-sm"},td={__name:"index",props:{index:{type:Number,required:!0},source:{type:String,required:!1,default:null},target:{type:String,required:!1,default:null}},setup(t){const e=t;return(l,r)=>{const s=yl,d=Ut,i=To;return f(),x("div",ed,[t.source?(f(),g(s,{key:0,address:t.source,"show-empty":""},null,8,["address"])):(f(),g(d,{key:1,index:t.index},null,8,["index"])),a(Zu,Et(Dt(e)),null,16),a(i,{index:t.index,limit:10},null,8,["index"])])}}},Ll=Object.freeze(Object.defineProperty({__proto__:null,default:td},Symbol.toStringTag,{value:"Module"})),Qt={__name:"TokenSelect",props:{nullItem:{type:Boolean,required:!1,default:!1},nullLabel:{type:String,required:!1,default:"null"}},setup(t){const e=t,{t:l}=M(),r=w(()=>{const i=[];return e.nullItem&&i.push({label:e.nullLabel,value:null}),s.value.map(c=>{const m=c.symbol,p=c.currency,u=c.decimals,_=c.currency,h="mono",k=c.is_native;var v={label:m,value:p,decimals:u};k||(v={...v,description:_,descriptionClasses:h}),i.push(v)}),i}),{rows:s,loading:d}=pt();return(i,c)=>{const m=zt;return f(),g(m,Re(i.$attrs,{options:o(r)}),null,16,["options"])}}},ld={class:"q-gutter-y-sm q-mt-sm"},od={class:"row"},ad={class:"row q-mt-xs"},nd={__name:"AccountHistory",props:{index:{type:Number,required:!0}},setup(t){const e=F(200),l=F(null),r=F(null),s=F();fe(()=>{s.value?.length>0?l.value="RECEIVE":l.value=null});const{t:d}=M(),i=w(()=>[{label:d("account_history_form.any"),value:null},{label:d("account_history_form.spend"),value:"SPEND"},{label:d("account_history_form.receive"),value:"RECEIVE"},{label:d("account_history_form.reward"),value:"REWARD"},{label:"VDF "+d("account_history_form.reward"),value:"VDF_REWARD"},{label:d("account_history_form.tx_fee"),value:"TXFEE"}]);return(c,m)=>{const p=Qt,u=Vo;return f(),x("div",ld,[a(P,{flat:""},{default:n(()=>[a(N,null,{default:n(()=>[y("div",od,[a(ve,{modelValue:o(l),"onUpdate:modelValue":m[0]||(m[0]=_=>Q(l)?l.value=_:null),options:o(i),"emit-value":"","map-options":"",label:c.$t("account_history.type"),disable:o(s)?.length>0,clearable:o(l)!==null,class:"col-3"},{"selected-item":n(_=>[y("div",{class:se(("getTypeFieldCssClasses"in c?c.getTypeFieldCssClasses:o(Lt))(_.opt.value))},b(_.opt.label),3)]),option:n(_=>[a(el,Et(Dt(_.itemProps)),{default:n(()=>[a(gt,null,{default:n(()=>[a(bt,{class:se(("getTypeFieldCssClasses"in c?c.getTypeFieldCssClasses:o(Lt))(_.opt.value))},{default:n(()=>[$(b(_.opt.label),1)]),_:2},1032,["class"])]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","label","disable","clearable"]),a(p,{modelValue:o(r),"onUpdate:modelValue":m[1]||(m[1]=_=>Q(r)?r.value=_:null),label:c.$t("account_history.token"),"null-item":"","null-label":c.$t("account_history_form.any"),clearable:o(r)!==null,class:"q-ml-md col"},null,8,["modelValue","label","null-label","clearable"])]),y("div",ad,[a(B,{modelValue:o(s),"onUpdate:modelValue":m[2]||(m[2]=_=>Q(s)?s.value=_:null),label:"Memo",class:"col",clearable:""},null,8,["modelValue"])])]),_:1})]),_:1}),a(u,{index:t.index,limit:o(e),type:o(l),currency:o(r),memo:o(s),class:"q-mt-sm"},null,8,["index","limit","type","currency","memo"])])}}},sd=Object.freeze(Object.defineProperty({__proto__:null,default:nd},Symbol.toStringTag,{value:"Module"})),rd={class:"q-gutter-y-sm"},id={__name:"AccountLog",props:{index:{type:Number,required:!0}},setup(t){return(e,l)=>{const r=To;return f(),x("div",rd,[a(r,{index:t.index,limit:200},null,8,["index"])])}}},ud=Object.freeze(Object.defineProperty({__proto__:null,default:id},Symbol.toStringTag,{value:"Module"})),dd={class:"q-gutter-y-sm"},cd={class:"row q-gutter-x-sm"},md={class:"row q-gutter-x-sm"},pd={class:"row justify-end q-gutter-x-sm"},_d={class:"q-mt-md row justify-end"},fd={class:"col"},yd={__name:"AccountOfferForm",props:{index:{type:Number,required:!0}},setup(t){const e=t,l={bidAmount:null,bidCurrency:null,price:null,askCurrency:null,feeRatio:null},r=F(null),s=I({...l}),d=w(()=>{const{bidCurrency:q,askCurrency:S}=s;return q&&S?`${q.label} / ${S.label}`:null}),i=w(()=>({index:e.index,bid:s.bidAmount,bid_currency:s.bidCurrency?.value,price:s.price,ask_currency:s.askCurrency?.value,options:{fee_ratio:s.feeRatio}})),{promptPassphrase:c,isLocked:m}=we(I({index:D(e,"index")})),{isValidConfirmedUnlocked:p}=Ce(r,m),{data:u,isLoading:_,latestError:h}=jn(i,p),k=Rn(),v=async()=>{const q=await c(),S={...i.value,options:{...i.value.options,passphrase:q}};await k.mutateAsync(S)};return(q,S)=>{const T=Co,V=Qt,L=Te,H=Ee,K=Ve,z=Pe,ae=Ae,me=qe;return f(),g(P,{flat:""},{default:n(()=>[a(N,null,{default:n(()=>[a(me,{ref_key:"formRef",ref:r,data:o(s),"default-data":l,onSubmit:v},{default:n(()=>[y("div",dd,[y("div",cd,[a(B,{modelValue:o(s).bidAmount,"onUpdate:modelValue":S[0]||(S[0]=Z=>o(s).bidAmount=Z),modelModifiers:{number:!0},label:q.$t("account_offer_form.offer_amount"),"input-class":"amount-input",rules:[o(Y).required,o(Y).amount],class:"col-4"},null,8,["modelValue","label","rules"]),a(T,{modelValue:o(s).bidCurrency,"onUpdate:modelValue":S[1]||(S[1]=Z=>o(s).bidCurrency=Z),"emit-value":!1,rules:[o(Y).required],index:t.index,label:q.$t("account_offer_form.offer_currency"),clearable:o(s).bidCurrency!=null,class:"col"},null,8,["modelValue","rules","index","label","clearable"])]),y("div",md,[a(B,{modelValue:o(s).price,"onUpdate:modelValue":S[2]||(S[2]=Z=>o(s).price=Z),modelModifiers:{number:!0},label:q.$t("account_offers.price"),suffix:o(d),"input-class":"amount-input",rules:[o(Y).required,o(Y).amount],class:"price col-4"},null,8,["modelValue","label","suffix","rules"]),a(V,{modelValue:o(s).askCurrency,"onUpdate:modelValue":S[3]||(S[3]=Z=>o(s).askCurrency=Z),"emit-value":!1,rules:[o(Y).required],index:t.index,label:q.$t("account_offer_form.receive_currency"),clearable:o(s).askCurrency!=null,class:"col"},null,8,["modelValue","rules","index","label","clearable"])]),y("div",pd,[a(L,{modelValue:o(s).feeRatio,"onUpdate:modelValue":S[4]||(S[4]=Z=>o(s).feeRatio=Z),class:"col-2"},null,8,["modelValue"]),a(H,{modelValue:o(u),"onUpdate:modelValue":S[5]||(S[5]=Z=>Q(u)?u.value=Z:null),loading:o(_),error:o(h),locked:o(m),class:"col-2"},null,8,["modelValue","loading","error","locked"])]),y("div",_d,[y("div",fd,[a(K,{class:"items-start"})]),a(z,{class:"col-2"}),a(ae,{label:q.$t("account_offer_form.offer"),icon:o(Sa),class:"col-2"},null,8,["label","icon"])])])]),_:1},8,["data"])]),_:1})]),_:1})}}},hd=_e(yd,[["__scopeId","data-v-d27063c6"]]),gd={class:"row justify-end q-gutter-x-xs q-pa-none"},bd={__name:"AccountOfferTable",props:{index:{type:Number,required:!0}},setup(t){const e=t,{t:l}=M(),r=F(!0),s=[{label:l("account_offers.any"),value:!1},{label:l("account_offers.open"),value:!0}],d=w(()=>[{label:l("account_offers.offering"),field:"bid_balance_value",headerStyle:"width: 7%",headerClasses:"dense-amount",classes:"dense-amount",align:"right"},{field:"bid_symbol",headerStyle:"width: 5%",headerClasses:"dense-symbol",classes:"dense-symbol",align:"left"},{label:l("account_offers.received"),field:"ask_balance_value",headerStyle:"width: 7%",headerClasses:"dense-amount",classes:q=>(q.ask_balance_value>0?"text-positive":"")+" dense-amount",align:"right"},{field:"ask_symbol",headerStyle:"width: 5%",headerClasses:"dense-symbol",classes:"dense-symbol",align:"left"},{label:l("account_offers.price"),field:"display_price",format:q=>parseFloat((1/q).toPrecision(6)),headerStyle:"width: 5%",headerClasses:"dense-amount",classes:"dense-amount",align:"right"},{name:"price-symbol",field:q=>({symbol1:q.bid_symbol,symbol2:q.ask_symbol}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{name:"contract",field:"address",headerStyle:"width: 5%"},{name:"actions"}]),{rows:i,loading:c}=uo(I({index:D(e,"index"),state:r})),m=F(new Set),p=F(new Set),u=Je(),_=q=>{u.dialog({component:Be(()=>R(()=>Promise.resolve().then(()=>u_),void 0,import.meta.url)),componentProps:{index:e.index,offer:q}}).onOk(()=>{m.value.delete(q.address)})},h=q=>{u.dialog({component:Be(()=>R(()=>Promise.resolve().then(()=>h_),void 0,import.meta.url)),componentProps:{index:e.index,offer:q}}).onOk(()=>{p.value.add(q.address)})},k=q=>{u.dialog({component:Be(()=>R(()=>Promise.resolve().then(()=>V_),void 0,import.meta.url)),componentProps:{index:e.index,offer:q}})},v=q=>{u.dialog({component:Be(()=>R(()=>Promise.resolve().then(()=>A_),void 0,import.meta.url)),componentProps:{index:e.index,offer:q}}).onOk(()=>{m.value.add(q.address)})};return(q,S)=>{const T=de,V=le("RouterLink");return f(),x(E,null,[a(P,{flat:""},{default:n(()=>[a(N,null,{default:n(()=>[a(ve,{modelValue:o(r),"onUpdate:modelValue":S[0]||(S[0]=L=>Q(r)?r.value=L:null),options:s,"emit-value":"","map-options":"",label:q.$t("account_offers.status")},null,8,["modelValue","label"])]),_:1})]),_:1}),a(te,{rows:o(i),columns:o(d),loading:o(c),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-price-symbol":n(L=>[a(O,{props:L},{default:n(()=>[y("span",null,b(L.value.symbol1)+" / "+b(L.value.symbol2),1)]),_:2},1032,["props"])]),"body-cell-contract":n(L=>[a(O,{props:L},{default:n(()=>[a(V,{to:`/explore/address/${L.value}`,class:"text-primary"},{default:n(()=>S[1]||(S[1]=[$("TX")])),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-actions":n(L=>[a(O,{props:L},{default:n(()=>[y("div",gd,[a(j,{label:o(l)("account_offers.deposit"),_icon:o(ll),color:"positive",outline:"",onClick:H=>_(L.row)},null,8,["label","_icon","onClick"]),a(j,{disable:!(L.row.ask_balance>0)||o(p).has(L.row.address),label:o(l)("account_contract_summary.withdraw"),_icon:o(ul),color:"negative",outline:"",onClick:H=>h(L.row)},null,8,["disable","label","_icon","onClick"]),a(al,{vertical:"",inset:"",class:"q-mx-sm"}),a(j,{label:"Update",_icon:o(ll),color:"primary",outline:"",onClick:H=>k(L.row)},null,8,["_icon","onClick"]),a(j,{disable:!(L.row.bid_balance>0)||o(m).has(L.row.address),label:o(l)("account_offers.revoke"),_icon:o($a),color:"secondary",outline:"",onClick:H=>v(L.row)},null,8,["disable","label","_icon","onClick"])])]),_:2},1032,["props"])]),_:2},[o(c)?{name:"bottom-row",fn:n(L=>[a(T,{props:L,"row-count":3},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])],64)}}},vd={class:"q-gutter-y-sm"},wd={__name:"index",props:{index:{type:Number,required:!0}},setup(t){const e=t;return(l,r)=>{const s=Ut;return f(),x("div",vd,[a(s,{index:e.index},null,8,["index"]),a(hd,{index:e.index},null,8,["index"]),a(bd,{index:e.index},null,8,["index"])])}}},xd=Object.freeze(Object.defineProperty({__proto__:null,default:wd},Symbol.toStringTag,{value:"Module"})),kd={class:"q-gutter-y-sm"},Sd={__name:"AccountLiquid",props:{index:{type:Number,required:!0}},setup(t){const e=t,{t:l}=M(),r=w(()=>[{label:l("common.balance"),field:i=>i.balance.value,headerStyle:"width: 8%",align:"right"},{name:"symbol",label:l("common.symbol"),field:"symbol",headerStyle:"width: 6%",align:"left"},{name:"contract",label:l("common.address"),field:"address",headerStyle:"width: 70%",align:"left"},{name:"actions",align:"right"}]),{rows:s,loading:d}=vs(e);return(i,c)=>{const m=de,p=le("RouterLink");return f(),x("div",kd,[a(te,{rows:o(s),columns:o(r),loading:o(d),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-actions":n(u=>[a(O,{props:u,class:"q-gutter-x-xs"},{default:n(()=>[a(j,{label:o(l)("common.manage"),_icon:o(qa),outline:"",color:"secondary",to:`/swap/${u.row.address}/liquid`},null,8,["label","_icon","to"])]),_:2},1032,["props"])]),"body-cell-symbol":n(u=>[a(O,{props:u},{default:n(()=>[u.value!="MMX"?(f(),g(p,{key:0,to:`/explore/address/${u.row.currency}`,class:"text-primary"},{default:n(()=>[$(b(u.value),1)]),_:2},1032,["to"])):(f(),x(E,{key:1},[$(b(u.value),1)],64))]),_:2},1032,["props"])]),"body-cell-contract":n(u=>[a(O,{props:u},{default:n(()=>[a(p,{to:`/explore/address/${u.value}`,class:"text-primary mono"},{default:n(()=>[$(b(u.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell":n(u=>[a(O,{props:u},{default:n(()=>[y("div",{class:se(("getXClasses"in i?i.getXClasses:o(We))(u))},b(u.value),3)]),_:2},1032,["props"])]),_:2},[o(d)?{name:"bottom-row",fn:n(u=>[a(m,{props:u,"row-count":3},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])])}}},$d=Object.freeze(Object.defineProperty({__proto__:null,default:Sd},Symbol.toStringTag,{value:"Module"})),qd={class:"q-gutter-y-sm"},Vd={class:"row justify-end q-gutter-x-sm"},Td={class:"q-mt-md row justify-end"},Cd={class:"col"},Rd={__name:"AccountPlotNFTsCreate",props:{index:{type:Number,required:!0}},setup(t){const e=t,l={name:null,feeRatio:null},r=F(null),s=I({...l}),d=w(()=>({index:e.index,name:s.name,options:{fee_ratio:s.feeRatio}})),{promptPassphrase:i,isLocked:c}=we(I({index:D(e,"index")})),{isValidConfirmed:m}=Ce(r,c),p=w(()=>m.value?.095:null),u=En(),_=async()=>{const h=await i(),k={...d.value,options:{...d.value.options,passphrase:h}};await u.mutateAsync(k)};return(h,k)=>{const v=Te,q=Ee,S=Ve,T=Pe,V=Ae,L=qe;return f(),g(P,{flat:""},{default:n(()=>[a(N,null,{default:n(()=>[a(L,{ref_key:"formRef",ref:r,data:o(s),"default-data":l,onSubmit:_},{default:n(()=>[y("div",qd,[a(B,{modelValue:o(s).name,"onUpdate:modelValue":k[0]||(k[0]=H=>o(s).name=H),rules:[o(Y).required],label:"New PlotNFT Name"},null,8,["modelValue","rules"])]),y("div",Vd,[a(v,{modelValue:o(s).feeRatio,"onUpdate:modelValue":k[1]||(k[1]=H=>o(s).feeRatio=H),class:"col-2"},null,8,["modelValue"]),a(q,{modelValue:o(p),"onUpdate:modelValue":k[2]||(k[2]=H=>Q(p)?p.value=H:null),class:"col-2"},null,8,["modelValue"])]),y("div",Td,[y("div",Cd,[a(S,{class:"items-start"})]),a(T,{class:"col-2"}),a(V,{label:h.$t("common.create"),class:"col-2"},null,8,["label"])])]),_:1},8,["data"])]),_:1})]),_:1})}}},Ld={key:0},Fd={class:"key-cell m-bg-grey"},at={__name:"ListTable",props:{rows:{type:Object,required:!0},data:{type:Object,required:!1,default:null},loading:{type:Boolean,required:!1,default:!1}},setup(t){const e=t,{rows:l,data:r,loading:s}=it(e),d=w(()=>e.rows.map(m=>{const p={};if(m.visible?p.visible=c(m.visible,e.data):p.visible=!0,p.visible){p.value=i(m,e.data);const u=Object.keys(m).filter(_=>["visible","field"].indexOf(_)==-1);for(const _ in u){const h=u[_];p[h]=c(m[h],e.data)}}return p})),i=(m,p)=>{var u;if(p){if(m.field instanceof Function)try{u=m.field(p)}catch(_){console.debug(_)}else try{u=p[m.field]}catch(_){console.debug(_)}m.format&&(u=m.format(u))}return u},c=(m,p)=>{var u;if(m instanceof Function){if(p)try{u=m(p)}catch(_){console.debug(_)}}else u=m;return u};return(m,p)=>{const u=le("RouterLink");return f(),g(Pt,{flat:""},{default:n(()=>[y("tbody",null,[(f(!0),x(E,null,ie(o(d),(_,h)=>(f(),x(E,{key:h},[_.visible?(f(),x("tr",Ld,[y("td",Fd,b(_.label),1),y("td",null,[kt(m.$slots,`value-${_.name}`,{item:_},()=>[o(s)||_?.loading?(f(),g(It,{key:"text"})):_.to?(f(),g(u,{key:1,to:_.to,class:se(`text-primary ${_.classes}`)},{default:n(()=>[$(b(_.value),1)]),_:2},1032,["to","class"])):(f(),x("div",{key:2,class:se(_.classes)},b(_.value),3)),_.copyToClipboard?(f(),g(o(nl),{key:3},{default:n(({copy:k,copied:v})=>[a(j,{"icon-right":o(il),flat:"",size:"sm",class:"q-ml-sm q-pa-none",onClick:q=>k(_.value)},{default:n(()=>[a(Ue,{"model-value":v===!0,"no-parent-event":""},{default:n(()=>p[0]||(p[0]=[$("Copied!")])),_:2},1032,["model-value"])]),_:2},1032,["icon-right","onClick"])]),_:2},1024)):A("",!0)])])])):A("",!0)],64))),128))])]),_:3})}}},Od={class:"row q-gutter-x-none"},Id={__name:"AccountPlotNFTsControl",props:{address:{type:String,required:!0}},setup(t){const e=t,{data:l,loading:r}=hs(I({id:e.address})),s=w(()=>[{label:"Address",field:d=>d.address,to:d=>`/explore/address/${d.address}`,classes:"mono",copyToClipboard:!0},{label:"Pool Server",field:d=>d.server_url??"N/A (solo farming)"},{label:"Unlock Height",field:d=>d.unlock_height,visible:d=>d.is_locked}]);return(d,i)=>{const c=Me,m=at;return f(),x("div",null,[y("div",Od,[a(c,{square:"",outline:""},{default:n(()=>[$(b(o(l)?.name),1)]),_:1})]),a(P,{flat:""},{default:n(()=>[a(m,{rows:o(s),data:o(l),loading:o(r)},null,8,["rows","data","loading"])]),_:1})])}}},Ad={class:"q-gutter-y-sm"},Pd={class:"q-gutter-y-sm"},Ed={__name:"index",props:{index:{type:Number,required:!0}},setup(t){const e=t,{rows:l}=_r(),r=w(()=>l.value.plot_nft_binary),s=I({index:D(()=>e.index),type_hash:D(()=>r.value),owned:!0}),{rows:d,loading:i}=io(s,()=>!!r.value);return(c,m)=>(f(),x("div",Ad,[a(Rd,Et(Dt(e)),null,16),y("div",Pd,[o(i)?(f(),g(mt,{key:0,query:""})):A("",!0),(f(!0),x(E,null,ie(o(d),p=>(f(),g(Id,{key:p.address,address:p.address},null,8,["address"]))),128))])]))}},Dd=Object.freeze(Object.defineProperty({__proto__:null,default:Ed},Symbol.toStringTag,{value:"Module"})),jd={class:"q-gutter-y-sm q-mt-sm"},Wd={__name:"AccountDetails",props:{index:{type:Number,required:!0}},setup(t){const e=t,l=$e(),r=w(()=>[{name:"index",label:"Index",field:p=>p,headerClasses:"key-cell",classes:" m-bg-grey",align:"right"},{name:"address",label:"Address",field:p=>p,align:"left"}]),{rows:s}=$t(e,p=>(delete p.is_hidden,p)),{rows:d}=ss(e),{rows:i,loading:c}=_l({...e,limit:1e3}),m=()=>{window.mmx.copyKeysToPlotter(JSON.stringify(d.value))};return(p,u)=>{const _=Kt,h=de,k=le("RouterLink");return f(),x("div",jd,[a(_,{data:o(s)},null,8,["data"]),a(_,{data:o(d)},null,8,["data"]),o(l).isWinGUI&&o(d)?(f(),g(j,{key:0,label:p.$t("account_details.copy_keys_to_plotter"),color:"primary",outline:"",onClick:m},null,8,["label"])):A("",!0),a(te,{rows:o(i),columns:o(r),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-index":n(v=>[a(O,{props:v},{default:n(()=>[$(b(v.rowIndex),1)]),_:2},1032,["props"])]),"body-cell-address":n(v=>[a(O,{props:v},{default:n(()=>[a(k,{to:`/explore/address/${v.value}`,class:"text-primary mono"},{default:n(()=>[$(b(v.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[o(c)?{name:"bottom-row",fn:n(v=>[a(h,{props:v,"row-count":o(s).num_addresses??1},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns"])])}}},Md=Object.freeze(Object.defineProperty({__proto__:null,default:Wd},Symbol.toStringTag,{value:"Module"})),Bd={class:"q-gutter-y-sm q-mt-sm"},Nd={class:"row q-gutter-x-sm"},Ud={class:"q-mt-md row justify-end"},Kd={__name:"AccountOptions",props:{index:{type:Number,required:!0}},setup(t){const e=t,{t:l}=M(),r=Je(),s=et(),{rows:d,loading:i}=$t(e),c=I({name:"",num_addresses:1});fe(()=>{c.name=d.value.name,c.num_addresses=d.value.num_addresses});const m=wi(),p=ki(),u=$i(),_=()=>{u.mutate({index:e.index,count:c.num_addresses})},h=()=>{p.mutate(e.index)},k=ls(),v=async()=>{await k.mutateAsync(e,{onSuccess:T=>{r.dialog({component:Be(()=>R(()=>Promise.resolve().then(()=>D_),void 0,import.meta.url)),componentProps:{seed:T.string,withPassphrase:d.value.with_passphrase,fingerPrint:d.value.finger_print}})}})},q=()=>{r.dialog({title:"Remove Wallet",message:"To recover any funds you will need to re-create the wallet from a stored backup!",cancel:!0,persistent:!0,ok:{label:"Remove",color:"negative"}}).onOk(()=>{const T=d.value.key_file,V={index:d.value.account,account:d.value.index};m.mutate(V,{onSuccess:()=>S(T)})})},S=T=>{r.dialog({type:"warning",title:"Wallet removed",message:`Wallet file ${T} needs to be deleted manually`,persistent:!0,cancel:!1}).onOk(()=>{s.push("/wallet/")})};return(T,V)=>(f(),x("div",Bd,[a(P,{flat:""},{default:n(()=>[a(N,{class:"q-gutter-x-xs"},{default:n(()=>[a(sl,{onSubmit:_},{default:n(()=>[y("div",Nd,[a(B,{modelValue:o(c).name,"onUpdate:modelValue":V[0]||(V[0]=L=>o(c).name=L),label:o(l)("create_wallet.account_name"),readonly:"",class:"col"},null,8,["modelValue","label"]),a(B,{modelValue:o(c).num_addresses,"onUpdate:modelValue":V[1]||(V[1]=L=>o(c).num_addresses=L),modelModifiers:{number:!0},label:o(l)("create_wallet.number_of_addresses"),class:"col-3"},null,8,["modelValue","label"])]),y("div",Ud,[a(j,{label:"Update",type:"submit",color:"positive",outline:"",class:"col-2"})])]),_:1})]),_:1})]),_:1}),a(P,{flat:""},{default:n(()=>[a(N,{class:"q-gutter-x-xs"},{default:n(()=>[a(j,{label:T.$t("account_actions.reset_cache"),color:"secondary",outline:"",onClick:h},null,8,["label"]),a(j,{label:T.$t("account_actions.show_seed"),color:"secondary",outline:"",onClick:v},null,8,["label"]),t.index>=100?(f(),g(j,{key:0,color:"negative",outline:"",onClick:q},{default:n(()=>V[2]||(V[2]=[$("Remove")])),_:1})):A("",!0)]),_:1})]),_:1})]))}},zd=Object.freeze(Object.defineProperty({__proto__:null,default:Kd},Symbol.toStringTag,{value:"Module"})),Qd={class:"q-gutter-y-sm"},Hd={__name:"FarmerRewards",setup(t){const{t:e}=M(),l=w(()=>[{label:"No. Blocks",field:"num_blocks"},{label:"Last Height",field:"last_height",format:v=>v>0?v:"N/A"},{label:"Total Rewards",field:"total_rewards_value",classes:"main-currency"},{label:"Time to win",field:()=>k,format:v=>`${v.value} (on average)`,loading:u.value}]),r=w(()=>[{label:"Reward",field:v=>v.value,headerStyle:"width: 5%"},{field:v=>"MMX",headerStyle:"width: 5%"},{name:"address",label:e("transaction_view.address"),field:v=>v.address,align:"left"}]),{data:s,loading:d}=co({since:1e4}),{rows:i,loading:c}=ml(),{rows:m,loading:p}=qt(),u=w(()=>d.value||c.value||p.value),_=w(()=>i.value.total_space),h=w(()=>m.value.total_bytes_effective/1e9),k=w(()=>{if(_.value&&h.value){const v=_.value/h.value/6;if(v<=60)return Math.floor(v)+" minutes";const q=v/60;if(q<=24)return Math.floor(q)+" hours and "+Math.floor(v%60)+" minutes";const S=q/24;return Math.floor(S)+" days and "+Math.floor(q%24)+" hours"}return"N/A"});return(v,q)=>{const S=at,T=le("RouterLink");return f(),x("div",Qd,[a(S,{rows:o(l),data:o(s),loading:o(d)},null,8,["rows","data","loading"]),a(te,{rows:o(s)?.rewards??[],columns:o(r),loading:o(d),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},{"body-cell-address":n(V=>[a(O,{props:V},{default:n(()=>[a(T,{to:`/explore/address/${V.value}`,class:"text-primary mono"},{default:n(()=>[$(b(V.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])}}},Xd={__name:"FarmerMenu",setup(t){const{t:e}=M(),l=w(()=>[{to:"/farmer/plots",label:e("farmer_menu.plots")},{to:"/farmer/plotnfts",label:"NFTs"},{to:"/farmer/blocks",label:e("farmer_menu.blocks")},{to:"/farmer/proofs",label:e("farmer_menu.proofs")}]);return(r,s)=>(f(),g(Ye,{"indicator-color":"primary",align:"left",class:"m-bg-grey"},{default:n(()=>[(f(!0),x(E,null,ie(o(l),(d,i)=>(f(),g(Ne,{key:i,to:d.to,label:d.label},null,8,["to","label"]))),128))]),_:1}))}},Gd={class:"q-gutter-y-sm"},Jd={__name:"index",setup(t){return(e,l)=>{const r=Ie;return f(),g(Ze,{padding:""},{default:n(()=>[y("div",Gd,[a(o(vo)),a(o(Hd)),y("div",null,[a(o(Xd)),a(r)])])]),_:1})}}},Yd=Object.freeze(Object.defineProperty({__proto__:null,default:Jd},Symbol.toStringTag,{value:"Module"})),Zd={__name:"FarmerPlotDirs",setup(t){const{t:e}=M(),l=w(()=>[{label:e("farmer_plot_dirs.path"),field:d=>d,headerStyle:"width: 7%",align:"left"}]),{data:r,loading:s}=qt();return(d,i)=>(f(),g(te,{rows:o(r)?.plot_dirs??[],columns:o(l),loading:o(s),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},null,8,["rows","columns","loading"]))}},ec={class:"q-gutter-y-sm"},tc={class:"row q-gutter-x-xs"},lc={class:"row justify-end"},oc={__name:"FarmerPlotsIndex",setup(t){const{t:e}=M(),l=w(()=>[{label:e("farmer_plots.type"),field:"ksize",format:p=>`K${p}`,headerStyle:"width: 20%"},{label:e("farmer_plots.count"),field:"count",align:"left",style:"font-weight: bold;"}]),r=w(()=>[{label:e("common.harvester"),field:"name",headerStyle:"width: 12%"},{label:e("farmer_info.physical_size"),field:"bytes",format:p=>(p/Math.pow(1e3,4)).toFixed(3),xclasses:"physical-size",headerStyle:"width: 20%"},{label:"Effective Size",field:"effective",format:p=>(p/Math.pow(1e3,4)).toFixed(3),xclasses:"effective-size",align:"left"}]),s=p=>{var u={plot_count:[],harvester_bytes:[]};for(const _ of p.plot_count)u.plot_count.push({ksize:_[0],count:_[1]});for(const _ of p.harvester_bytes)u.harvester_bytes.push({name:_[0],bytes:_[1][0],effective:_[1][1]});return u},{rows:d,loading:i}=qt(s),c=hi(),m=()=>{c.mutate()};return(p,u)=>(f(),x("div",ec,[y("div",tc,[a(te,{rows:o(d)?.plot_count??[],columns:o(l),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:"",class:"col-4"},null,8,["rows","columns","loading"]),a(te,{rows:o(d)?.harvester_bytes??[],columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:"",class:"col"},{"body-cell":n(_=>[a(O,{props:_},{default:n(()=>[y("div",{class:se(("getXClasses"in p?p.getXClasses:o(We))(_))},b(_.value),3)]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])]),a(Zd),y("div",lc,[a(j,{label:p.$t("farmer_plots.reload_plots"),icon:o(Va),size:"md",rounded:"",outline:"",color:"primary",onClick:m},null,8,["label","icon"])])]))}},ac=_e(oc,[["__scopeId","data-v-1ed42186"]]),nc=Object.freeze(Object.defineProperty({__proto__:null,default:ac},Symbol.toStringTag,{value:"Module"})),sc={class:"row q-gutter-x-none"},rc={__name:"PlotNFTInfo",props:{address:{type:String,required:!0},data:{type:Object,required:!0}},setup(t){const e=t,l=w(()=>[{label:"Address",field:r=>e.address,to:r=>`/explore/address/${r.address}`,classes:"mono",copyToClipboard:!0},{label:"Pool Server",field:r=>r.server_url??"N/A (solo farming)"},{label:"Pool Target",field:r=>r.pool_target,to:r=>`/explore/address/${r.pool_target}`,classes:"mono",visible:r=>r.pool_target},{label:"Partial Difficulty",field:r=>r.partial_diff,visible:r=>r.server_url},{label:"Plot Count",field:r=>r.plot_count}]);return(r,s)=>{const d=Me,i=at;return f(),x("div",null,[y("div",null,[y("div",sc,[a(d,{square:"",outline:""},{default:n(()=>[$(b(t.data.name),1)]),_:1})]),a(P,{flat:""},{default:n(()=>[a(i,{rows:o(l),data:t.data},null,8,["rows","data"])]),_:1})])])}}},ic={class:"q-pt-sm q-gutter-y-sm"},uc={__name:"FarmerPlotNFTsIndex",setup(t){const{data:e,loading:l}=qt(),r=w(()=>e.value?.pool_info??[]);return(s,d)=>(f(),x("div",ic,[(f(!0),x(E,null,ie(o(r),i=>(f(),g(rc,{key:i,address:i[0],data:i[1]},null,8,["address","data"]))),128)),o(r)&&!o(r).length?(f(),x(E,{key:0},[a(tl,{rounded:""},{avatar:n(()=>[a(ke,{name:o(zl),color:"warning"},null,8,["name"])]),default:n(()=>[d[0]||(d[0]=$(" No NFT plots found "))]),_:1}),a(tl,{rounded:""},{avatar:n(()=>[a(ke,{name:o(Ta),color:"info"},null,8,["name"])]),default:n(()=>[d[1]||(d[1]=$(" Need to create a PlotNFT in Wallet first to plot NFT plots "))]),_:1})],64)):A("",!0)]))}},dc=Object.freeze(Object.defineProperty({__proto__:null,default:uc},Symbol.toStringTag,{value:"Module"})),cc={class:"q-gutter-y-sm"},mc={__name:"FarmerBlocksIndex",props:{limit:{type:Number,default:50,required:!1}},setup(t){const e=t,{t:l}=M(),r=w(()=>[{name:"height",label:l("farmer_blocks.height"),field:"height",headerStyle:"width: 7%"},{label:"TX",field:"tx_count",headerStyle:"width: 7%"},{label:"K",field:"ksize",headerStyle:"width: 7%"},{label:l("farmer_blocks.score"),field:"score",headerStyle:"width: 7%"},{label:l("farmer_blocks.reward"),field:i=>i.reward_amount.value,headerStyle:"width: 7%",xclasses:"main-currency"},{label:l("farmer_blocks.tx_fees"),field:i=>i.tx_fees.value,headerStyle:"width: 7%",xclasses:"main-currency"},{label:l("farmer_blocks.time"),field:"time_stamp",format:i=>new Date(i).toLocaleString(),align:"left"}]),{rows:s,loading:d}=Ss(e);return(i,c)=>{const m=le("RouterLink");return f(),x("div",cc,[a(te,{rows:o(s),columns:o(r),loading:o(d),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},{"body-cell-height":n(p=>[a(O,{props:p},{default:n(()=>[a(m,{to:`/explore/block/height/${p.value}`,class:"text-primary"},{default:n(()=>[$(b(p.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell":n(p=>[a(O,{props:p},{default:n(()=>[y("div",{class:se(("getXClasses"in i?i.getXClasses:o(We))(p))},b(p.value),3)]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])}}},pc=Object.freeze(Object.defineProperty({__proto__:null,default:mc},Symbol.toStringTag,{value:"Module"})),_c={class:"q-gutter-y-sm"},fc={__name:"FarmerProofsIndex",props:{limit:{type:Number,default:50,required:!1}},setup(t){const e=t,{t:l}=M(),r=w(()=>[{name:"height",label:"VDF height",field:"vdf_height",headerStyle:"width: 7%"},{label:l("farmer_proofs.harvester"),field:"harvester",headerStyle:"width: 7%",align:"left"},{label:l("farmer_proofs.score"),field:i=>i.proof.score,headerStyle:"width: 7%"},{label:l("farmer_proofs.sdiff"),field:i=>i.proof.difficulty,headerStyle:"width: 7%"},{label:l("farmer_proofs.time"),field:"lookup_time_ms",headerStyle:"width: 7%",format:i=>(i/1e3).toFixed(3)},{label:l("farmer_proofs.plot_id"),field:i=>i.proof?.plot_id,align:"left",classes:"mono"}]),{rows:s,loading:d}=qs(e);return(i,c)=>{const m=le("RouterLink");return f(),x("div",_c,[a(te,{rows:o(s),columns:o(r),loading:o(d),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},{"body-cell-height":n(p=>[a(O,{props:p},{default:n(()=>[a(m,{to:`/explore/block/height/${p.value}`,class:"text-primary"},{default:n(()=>[$(b(p.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])}}},yc=Object.freeze(Object.defineProperty({__proto__:null,default:fc},Symbol.toStringTag,{value:"Module"})),hc={__name:"ExploreSearchBar",setup(t){const e=et(),l=xt(),r=w(()=>l.params.height||l.params.hash||l.params.transactionId||l.params.address||l.params.farmerKey||""),s=F(r.value),d=F(!1);fe(()=>s.value=r.value);const i=Ls(),c=()=>{const m=/[0-9A-Fa-f]{8}/g;d.value=!1,s.value&&(s.value.startsWith("mmx1")?e.push("/explore/address/"+s.value):m.test(s.value)?s.value.length==64?i.mutate({hash:s.value},{onSuccess:()=>{e.push("/explore/block/hash/"+s.value)},onError:()=>{e.push("/explore/transaction/"+s.value)}}):s.value.length==66?e.push("/explore/farmer/"+s.value):d.value=!0:isNaN(parseInt(s.value))?d.value=!0:e.push("/explore/block/height/"+s.value))};return(m,p)=>(f(),g(B,{modelValue:o(s),"onUpdate:modelValue":p[0]||(p[0]=u=>Q(s)?s.value=u:null),placeholder:m.$t("explore_menu.placeholder"),error:o(d),"hide-bottom-space":"",outlined:"",onKeyup:Pl(c,["enter"])},{append:n(()=>[a(ke,{name:o(Ca),onClick:c},null,8,["name"])]),_:1},8,["modelValue","placeholder","error"]))}};class gc{constructor(){this.queryClient=G(),this.router=et()}path(e){if(e){const l=this.router.resolve(e);l.meta?.prefetcher&&l.meta.prefetcher(this.queryClient,l)}return e}}const bc=()=>new gc,vc={__name:"ExploreMenu",setup(t){const e=bc(),l=d=>{e.path("/explore/farmers")},{t:r}=M(),s=w(()=>[{to:"/explore/blocks",label:r("explore_menu.blocks")},{to:"/explore/transactions",label:r("explore_menu.transactions")},{to:"/explore/farmers",label:r("explore_menu.farmers"),prefetcher:l}]);return(d,i)=>(f(),g(Ye,{align:"left","indicator-color":"primary"},{default:n(()=>[a(Le,{class:"m-bg-grey"},{default:n(()=>[(f(!0),x(E,null,ie(o(s),(c,m)=>(f(),g(Ne,{key:m,to:c.to,label:c.label,icon:c.icon,onClick:c.click,onMouseover:p=>c.prefetcher&&c.prefetcher(c.to)},null,8,["to","label","icon","onClick","onMouseover"]))),128))]),_:1})]),_:1}))}},wc={class:"q-gutter-y-sm"},xc={__name:"index",setup(t){const e=xt();return(l,r)=>{const s=Ie;return f(),g(Ze,{padding:""},{default:n(()=>[y("div",wc,[a(o(hc)),a(P,{flat:""},{default:n(()=>[a(o(vc)),a(s,{show:!!o(e).meta.indexPage},null,8,["show"])]),_:1}),a(s,{show:!o(e).meta.indexPage},null,8,["show"])])]),_:1})}}},kc=Object.freeze(Object.defineProperty({__proto__:null,default:xc},Symbol.toStringTag,{value:"Module"})),Sc={class:"q-gutter-y-sm"},$c={class:"row q-gutter-x-none"},qc={__name:"BlockView",props:{hash:{type:String,required:!1},height:{type:Number,required:!1}},setup(t){const e=t,{t:l}=M(),r=w(()=>[{label:l("block_view.height"),field:"height"},{label:l("block_view.hash"),field:"hash",classes:"mono"},{label:l("block_view.previous"),field:"prev",classes:"mono"},{label:l("block_view.time"),field:"time_stamp",format:_=>new Date(_).toLocaleString()},{label:"Reward Address",field:_=>_.reward_addr,to:_=>`/explore/address/${_.reward_addr}`,classes:"mono",visible:_=>_.reward_addr},{label:"Reward Contract",field:_=>_.reward_contract,to:_=>`/explore/address/${_.reward_contract}`,classes:"mono",visible:_=>_.reward_contract},{label:"Farmer Address",field:_=>_.reward_account,to:_=>`/explore/address/${_.reward_account}`,classes:"mono",visible:_=>_.reward_account},{label:"Block Reward",field:_=>_.reward_amount.value,classes:"main-currency"},{label:"TX Fees",field:_=>_.tx_fees.value,classes:"main-currency"},{label:l("block_view.tx_count"),field:_=>_.tx_count},{label:l("block_view.time_diff"),field:"time_diff"},{label:l("block_view.space_diff"),field:_=>_,format:_=>`${_.space_diff}${_.is_space_fork?"(updated)":""}`},{label:"Reward Vote",field:"reward_vote"},{label:"Reward Vote Sum",field:_=>_,format:_=>`${_.reward_vote_sum} / ${_.reward_vote_count} (${(_.reward_vote_count/(_.height%8640+1)*100).toFixed(1)} %)`},{label:"Base Reward",field:_=>_.base_reward.value,classes:"main-currency"},{label:"Avg. TX Fee",field:_=>_.average_txfee.value,classes:"main-currency"},{label:"VDF Height",field:"vdf_height"},{label:"VDF Count",field:"vdf_count"},{label:l("block_view.vdf_iterations"),field:"vdf_iters"},{name:"vdf_reward_addr",label:"Timelord",field:_=>_.vdf_reward_addr},{label:"Timelord Reward",field:"vdf_reward_payout",to:_=>`/explore/address/${_.vdf_reward_payout}`,visible:_=>_.vdf_reward_payout,classes:"mono"},{label:l("block_view.k_size"),field:_=>_.ksize},{label:l("block_view.proof_score"),field:_=>_.score},{label:"No. Proofs",field:_=>_.proof.length},{label:"Space Fork",field:_=>_,format:_=>`${_.space_fork_proofs} / ${_.space_fork_len}`},{label:l("block_view.plot_id"),field:_=>_.proof[0].plot_id,visible:_=>_.proof[0],classes:"mono"},{label:"Challenge",field:_=>_.proof[0].challenge,visible:_=>_.proof[0]},{label:l("block_view.farmer_key"),field:_=>_.farmer_key,to:_=>`/explore/farmer/${_.farmer_key}`,classes:"mono"}]),s=w(()=>[{name:"index",headerStyle:"width: 10%",headerClasses:"key-cell",classes:"key-cell m-bg-grey"},{label:l("block_view.inputs"),field:_=>_.inputs.length+(_.exec_result?_.exec_result.inputs.length:0),headerStyle:"width: 7%"},{label:l("block_view.outputs"),field:_=>_.outputs.length+(_.exec_result?_.exec_result.outputs.length:0),headerStyle:"width: 7%"},{label:l("block_view.operations"),field:_=>_.execute.length,headerStyle:"width: 7%"},{name:"id",label:l("block_view.transaction_id"),field:_=>_.id,align:"left"}]),{data:d,loading:i,noData:c}=Cs(e),m=w(()=>e.height??d.value?.height??null),p=w(()=>d?.value?`/explore/block/hash/${d.value.prev}`:e.height!=null?`/explore/block/height/${e.height-1}`:null),u=w(()=>d?.value?`/explore/block/height/${d.value.height+1}`:e.height!=null?`/explore/block/height/${e.height+1}`:null);return(_,h)=>{const k=Me,v=Vt,q=le("RouterLink"),S=at;return f(),x("div",Sc,[y("div",null,[y("div",$c,[a(k,{square:"",outline:""},{default:n(()=>[$(b(_.$t("block_view.block")),1)]),_:1}),a(k,{square:"",outline:""},{default:n(()=>[$(b(o(m)),1)]),_:1}),o(c)?A("",!0):(f(),g(k,{key:0,square:"",outline:""},{default:n(()=>[$(b(o(d)?.hash),1)]),_:1})),a(El),a(ra,{rounded:""},{default:n(()=>[a(j,{to:o(p),icon:o(Ra),outline:"",disable:o(m)<=0},null,8,["to","icon","disable"]),a(j,{to:o(u),"icon-right":o(La),outline:"",disable1:o(c)},null,8,["to","icon-right","disable1"])]),_:1})]),a(P,{flat:""},{default:n(()=>[o(c)?(f(),g(v,{key:0,icon:o(Fa),title:_.$t("block_view.no_such_block")},null,8,["icon","title"])):(f(),g(S,{key:1,rows:o(r),data:o(d),loading:o(i)},{"value-vdf_reward_addr":n(({item:T})=>[(f(!0),x(E,null,ie(T.value,(V,L)=>(f(),x("div",{key:V},[y("span",null,"["+b(L)+"] ",1),a(q,{to:`/explore/address/${V}`,class:"text-primary mono"},{default:n(()=>[$(b(V),1)]),_:2},1032,["to"])]))),128))]),_:1},8,["rows","data","loading"]))]),_:1})]),o(d)&&o(d).tx_list.length?(f(),g(te,{key:0,rows:o(d).tx_list,columns:o(s),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},{"body-cell-index":n(T=>[a(O,{props:T},{default:n(()=>[$(" TX["+b(T.rowIndex)+"] ",1)]),_:2},1032,["props"])]),"body-cell-id":n(T=>[a(O,{props:T},{default:n(()=>[a(q,{to:`/explore/transaction/${T.value}`,class:"text-primary mono"},{default:n(()=>[$(b(T.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:1},8,["rows","columns"])):A("",!0)])}}},Fl=Object.freeze(Object.defineProperty({__proto__:null,default:qc},Symbol.toStringTag,{value:"Module"})),Vc={__name:"TransactionsIndex",props:{limit:{type:Number,default:100}},setup(t){const e=t,{t:l}=M(),r=w(()=>[{name:"height",label:l("explore_transactions.height"),field:"height",headerStyle:"width: 7%"},{label:l("explore_transactions.type"),field:"note",headerStyle:"width: 10%"},{label:l("explore_transactions.fee"),field:i=>i.fee.value,headerStyle:"width: 7%",xclasses:"main-currency"},{label:l("explore_transactions.n_in"),field:i=>i.inputs.length,headerStyle:"width: 5%"},{label:l("explore_transactions.n_out"),field:i=>i.outputs.length,headerStyle:"width: 5%"},{label:l("explore_transactions.n_op"),field:i=>i.operations.length,headerStyle:"width: 5%"},{name:"id",label:l("explore_transactions.transaction_id"),field:"id"},{label:l("account_tx_history.time"),field:"time_stamp",format:i=>new Date(i).toLocaleString(),align:"left"}]),{rows:s,loading:d}=Os(e);return(i,c)=>{const m=de,p=le("RouterLink");return f(),g(P,{flat:""},{default:n(()=>[a(te,{rows:o(s),columns:o(r),loading:o(d),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-height":n(u=>[a(O,{props:u},{default:n(()=>[a(p,{to:`/explore/block/height/${u.value}`,class:"text-primary"},{default:n(()=>[$(b(u.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-id":n(u=>[a(O,{props:u},{default:n(()=>[a(p,{to:`/explore/transaction/${u.value}`,class:"text-primary mono"},{default:n(()=>[$(b(("getShortHash"in i?i.getShortHash:o(Nt))(u.value,16)),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell":n(u=>[a(O,{props:u},{default:n(()=>[y("div",{class:se(("getXClasses"in i?i.getXClasses:o(We))(u))},b(u.value),3)]),_:2},1032,["props"])]),_:2},[o(d)?{name:"bottom-row",fn:n(u=>[a(m,{props:u,"row-count":e.limit},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])]),_:1})}}},Tc=Object.freeze(Object.defineProperty({__proto__:null,default:Vc},Symbol.toStringTag,{value:"Module"})),Ol={__name:"InputOutputTable",props:{rows:{type:Object,required:!0},isInput:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1}},setup(t){const e=t,{t:l}=M(),r=e.isInput?l("transaction_view.input"):l("transaction_view.output"),s=w(()=>[{name:"index",headerStyle:"width: 10%",headerClasses:"key-cell",classes:"key-cell m-bg-grey"},{label:l("transaction_view.amount"),field:d=>d.value,style:"font-weight: bold;",headerStyle:"width: 7%"},{name:"token",label:l("transaction_view.token"),field:d=>d.symbol,headerStyle:"width: 7%"},{name:"address",label:l("transaction_view.address"),field:d=>d.address,align:"left"},{label:"Memo",field:d=>d.memo,headerStyle:"width: 50%",align:"left"}]);return(d,i)=>{const c=de,m=le("RouterLink");return t.rows.length>0?(f(),g(te,{key:0,rows:t.rows,columns:o(s),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-index":n(p=>[a(O,{props:p},{default:n(()=>[$(b(o(r))+"["+b(p.rowIndex)+"] ",1)]),_:2},1032,["props"])]),"body-cell-token":n(p=>[a(O,{props:p},{default:n(()=>[p.row.is_native?(f(),x(E,{key:0},[$(b(p.value),1)],64)):(f(),g(m,{key:1,to:`/explore/address/${p.row.contract}`,class:"text-primary"},{default:n(()=>[$(b(p.value),1)]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-address":n(p=>[a(O,{props:p},{default:n(()=>[a(m,{to:`/explore/address/${p.value}`,class:"text-primary mono"},{default:n(()=>[$(b(p.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[t.loading?{name:"bottom-row",fn:n(p=>[a(c,{props:p,"row-count":1},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns"])):A("",!0)}}},Cc={class:"q-gutter-y-sm"},Rc={class:"row q-gutter-x-none"},Lc={class:"row q-gutter-x-none"},Fc={key:0},Oc={class:"row q-gutter-x-none"},Ic={__name:"index",props:{transactionId:{type:String,required:!0}},setup(t){const e=t,{t:l}=M(),r=w(()=>[{label:l("transaction_view.height"),field:"height",to:m=>m.height!=null?`/explore/block/height/${m.height}`:null,format:m=>m??l("common.pending"),classes:m=>m.height==null?"text-italic":""},{label:l("transaction_view.message"),field:"message",visible:m=>m.did_fail},{label:l("transaction_view.confirmed"),field:"confirm",visible:m=>m.confirm},{label:l("transaction_view.expires"),field:"expires",visible:m=>m.expires<4294967295},{label:l("transaction_view.note"),field:"note"},{label:l("transaction_view.time"),field:"time_stamp",format:m=>new Date(m).toLocaleString(),visible:m=>m.time},{label:l("transaction_view.address"),field:"address",to:m=>`/explore/address/${m.address}`,visible:m=>m.deployed,classes:"mono"},{label:l("transaction_view.sender"),field:"sender",to:m=>`/explore/address/${m.sender}`,visible:m=>m.sender,classes:"mono"},{label:l("transaction_view.cost"),field:m=>m.cost.value,classes:"main-currency"},{label:l("transaction_view.fee"),field:m=>m.fee.value,classes:"main-currency"}]),{data:s,loading:d,noData:i}=As(I({id:D(e,"transactionId")})),c=w(()=>e.transactionId??s.value?.id??null);return(m,p)=>{const u=Me,_=Vt,h=at,k=Kt;return f(),x("div",Cc,[y("div",null,[y("div",Rc,[a(u,{square:"",outline:""},{default:n(()=>[$(b(m.$t("transaction_view.transaction")),1)]),_:1}),a(u,{square:"",outline:""},{default:n(()=>[$(b(o(c)),1)]),_:1})]),a(P,{flat:""},{default:n(()=>[o(i)?(f(),g(_,{key:0,icon:o(Oa),title:m.$t("transaction_view.no_such_transaction")},null,8,["icon","title"])):(f(),g(h,{key:1,rows:o(r),data:o(s),loading:o(d)},null,8,["rows","data","loading"]))]),_:1})]),o(s)?(f(),x(E,{key:0},[a(P,{flat:""},{default:n(()=>[a(Ol,{rows:o(s).inputs,"is-input":"",loading:o(d)},null,8,["rows","loading"])]),_:1}),a(P,{flat:""},{default:n(()=>[a(Ol,{rows:o(s).outputs,"is-input":!1,loading:o(d)},null,8,["rows","loading"])]),_:1}),(f(!0),x(E,null,ie(o(s).operations,(v,q)=>(f(),x("div",{key:q},[y("div",Lc,[a(u,{square:"",outline:""},{default:n(()=>[$(" Operation["+b(q)+"] ",1)]),_:2},1024),a(u,{square:"",outline:""},{default:n(()=>[$(b(v.__type),1)]),_:2},1024)]),a(P,{flat:""},{default:n(()=>[a(k,{data:v},null,8,["data"])]),_:2},1024)]))),128)),o(s).deployed?(f(),x("div",Fc,[y("div",Oc,[a(u,{square:"",outline:""},{default:n(()=>[$(b(o(s).deployed.__type),1)]),_:1})]),a(P,{flat:""},{default:n(()=>[a(k,{data:o(s).deployed},null,8,["data"])]),_:1})])):A("",!0)],64)):A("",!0)])}}},Ac=Object.freeze(Object.defineProperty({__proto__:null,default:Ic},Symbol.toStringTag,{value:"Module"})),Pc={__name:"FarmersIndex",props:{limit:{type:Number,default:100}},setup(t){const e=t,{t:l}=M(),r=w(()=>[{name:"place",headerStyle:"width: 5%",align:"center"},{label:l("explore_farmers.no_blocks"),field:"block_count",headerStyle:"width: 5%"},{name:"farmer_key",label:l("explore_farmers.farmer_key"),field:"farmer_key",align:"left"}]),{rows:s,loading:d}=Ps(e);return(i,c)=>{const m=de,p=le("RouterLink");return f(),g(P,{flat:""},{default:n(()=>[a(te,{rows:o(s),columns:o(r),loading:o(d),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-farmer_key":n(u=>[a(O,{props:u},{default:n(()=>[a(p,{to:`/explore/farmer/${u.value}`,class:"text-primary mono"},{default:n(()=>[$(b(u.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-place":n(u=>[a(O,{props:u},{default:n(()=>[u.rowIndex<3?(f(),x(E,{key:0},[$(b(["🥇","🥈","🥉"][u.rowIndex]),1)],64)):(f(),x(E,{key:1},[$(b(u.rowIndex+1),1)],64))]),_:2},1032,["props"])]),_:2},[o(d)?{name:"bottom-row",fn:n(u=>[a(m,{props:u,"row-count":e.limit},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])]),_:1})}}},Ec=_e(Pc,[["__scopeId","data-v-84c0d738"]]),Dc=Object.freeze(Object.defineProperty({__proto__:null,default:Ec},Symbol.toStringTag,{value:"Module"})),jc={class:"q-gutter-y-sm"},Wc={class:"row q-gutter-x-none"},Mc={__name:"FarmerView",props:{farmerKey:{type:String,required:!0},limit:{type:Number,required:!1,default:100}},setup(t){const e=t,{t:l}=M(),r=w(()=>[{label:"No. Blocks",field:"block_count"},{label:"Total Rewards",field:"total_reward_value",classes:"main-currency"}]),s=w(()=>[{label:"Reward",field:"value",headerClasses:"key-cell"},{label:"",field:()=>"MMX",headerStyle:"width: 7%",align:"left"},{name:"address",label:l("transaction_view.address"),field:"address",align:"left"}]),{data:d,loading:i}=js(I({id:D(e,"farmerKey")})),{rows:c,loading:m}=Ms(I({id:D(e,"farmerKey"),limit:D(e,"limit")}));return(p,u)=>{const _=Me,h=at,k=de,v=le("RouterLink"),q=xo;return f(),x("div",jc,[y("div",null,[y("div",Wc,[a(_,{square:"",outline:""},{default:n(()=>u[0]||(u[0]=[$("Farmer")])),_:1}),a(_,{square:"",outline:""},{default:n(()=>[$(b(t.farmerKey),1)]),_:1})]),a(P,{flat:""},{default:n(()=>[a(h,{rows:o(r),data:o(d),loading:o(i)},null,8,["rows","data","loading"])]),_:1})]),a(P,{flat:""},{default:n(()=>[a(te,{rows:o(d)?o(d).rewards:[],columns:o(s),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-address":n(S=>[a(O,{props:S},{default:n(()=>[a(v,{to:`/explore/address/${S.value}`,class:"text-primary mono"},{default:n(()=>[$(b(S.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:n(S=>[a(k,{props:S,"row-count":1},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])]),_:1}),a(P,{flat:""},{default:n(()=>[a(q,{rows:o(c),loading:o(m),class:"q-py-sm"},null,8,["rows","loading"])]),_:1})])}}},Bc=Object.freeze(Object.defineProperty({__proto__:null,default:Mc},Symbol.toStringTag,{value:"Module"})),Nc={__name:"AddressHistoryTable",props:{address:{type:String,required:!0},limit:{type:Number,default:100,required:!1},showEmpty:{type:Boolean,default:!1,required:!1}},setup(t){const e=t,{t:l}=M(),r=w(()=>[{name:"height",label:l("address_history_table.height"),field:"height",headerStyle:"width: 7%"},{label:l("address_history_table.type"),field:"type",headerStyle:"width: 7%",classes:i=>Lt(i.type)},{label:l("address_history_table.amount"),field:i=>i?.value,style:"font-weight: bold;",headerStyle:"width: 7%"},{name:"token",label:l("address_history_table.token"),field:"symbol",headerStyle:"width: 7%",align:"left"},{name:"txid",label:"Transaction ID",field:"txid",headerStyle:"width: 20%"},{label:"Memo",field:"memo",style:"word-break: break-all",align:"left"},{label:l("address_history_table.time"),field:"time_stamp",format:i=>new Date(i).toLocaleString(),headerStyle:"width: 12%",classes:"text-no-wrap",align:"left"}]),{rows:s,loading:d}=Ks(I({limit:D(e,"limit"),id:D(e,"address")}));return(i,c)=>{const m=de,p=le("RouterLink"),u=qo;return o(d)||!o(d)&&(o(s)?.length||t.showEmpty)?(f(),g(te,{key:0,rows:o(s),columns:o(r),loading:o(d),pagination:{rowsPerPage:0},"hide-pagination":"","wrap-cells":"",flat:""},ue({"body-cell-height":n(_=>[a(O,{props:_},{default:n(()=>[a(p,{to:`/explore/block/height/${_.value}`,class:"text-primary"},{default:n(()=>[$(b(_.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-token":n(_=>[a(O,{props:_},{default:n(()=>[_.row.is_native?(f(),x(E,{key:0},[$(b(_.row.is_nft?"[NFT]":_.value),1)],64)):(f(),g(p,{key:1,to:`/explore/address/${_.row.contract}`,class:"text-primary mono"},{default:n(()=>[$(b(_.value),1)]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-txid":n(_=>[a(O,{props:_},{default:n(()=>[a(u,{id:_.value,type:_.row.type,class:"text-primary mono"},{default:n(()=>[$(b(("getShortHash"in i?i.getShortHash:o(Nt))(_.value)),1)]),_:2},1032,["id","type"])]),_:2},1032,["props"])]),_:2},[o(d)?{name:"bottom-row",fn:n(_=>[a(m,{props:_,"row-count":e.limit},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])):A("",!0)}}},Uc={class:"q-gutter-y-sm"},Kc={class:"row q-gutter-x-none"},zc={key:0},Qc={__name:"AddressView",props:{address:{type:String,required:!0}},setup(t){const e=t,{data:l,loading:r}=Ns(I({id:D(e,"address")})),{noData:s}=_o(I({id:D(e,"address")}));return(d,i)=>{const c=Me,m=yl,p=Kt,u=Nc,_=Vt;return f(),x("div",Uc,[y("div",null,[y("div",Kc,[a(c,{square:"",outline:""},{default:n(()=>[$(b(d.$t("common.address")),1)]),_:1}),a(c,{square:"",outline:"",copy:""},{default:n(()=>[$(b(t.address),1)]),_:1})]),o(s)?A("",!0):(f(),g(P,{key:0,flat:""},{default:n(()=>[a(m,{address:t.address,"show-empty":""},null,8,["address"])]),_:1}))]),o(l)?(f(),x("div",zc,[a(c,{square:"",outline:""},{default:n(()=>[$(b(o(l).__type),1)]),_:1}),a(P,{flat:""},{default:n(()=>[a(p,{data:o(l)},null,8,["data"])]),_:1})])):A("",!0),o(s)?A("",!0):(f(),g(P,{key:1,flat:""},{default:n(()=>[a(u,{address:t.address,limit:200,"show-empty":!1},null,8,["address"])]),_:1})),o(s)?(f(),g(_,{key:2,icon:o(Ia),title:"Invalid address"},null,8,["icon"])):A("",!0)])}}},Hc=Object.freeze(Object.defineProperty({__proto__:null,default:Qc},Symbol.toStringTag,{value:"Module"})),gl=()=>{const t=Oe(),{market:e}=Wt(t),{menu:l}=it(e.value),{bid:r,ask:s}=it(l.value);return{bid:r,ask:s}},Qe=()=>{const t=Oe(),{activeWalletIndex:e}=Wt(t);return{activeWalletIndex:e}},Xc={class:"q-gutter-y-sm"},Gc={__name:"MarketPageMenu",setup(t){const{bid:e,ask:l}=gl(),{activeWalletIndex:r}=Qe();return(s,d)=>{const i=hl,c=Qt;return f(),x("div",Xc,[a(P,{flat:""},{default:n(()=>[a(N,null,{default:n(()=>[a(i,{modelValue:o(r),"onUpdate:modelValue":d[0]||(d[0]=m=>Q(r)?r.value=m:null),label:s.$t("common.wallet")},null,8,["modelValue","label"])]),_:1})]),_:1}),a(P,{flat:""},{default:n(()=>[a(N,null,{default:n(()=>[a(c,{modelValue:o(e),"onUpdate:modelValue":d[1]||(d[1]=m=>Q(e)?e.value=m:null),label:s.$t("market_menu.they_offer"),clearable:o(e)!==null,"null-item":"","null-label":s.$t("market_menu.anything"),"emit-value":!1},null,8,["modelValue","label","clearable","null-label"]),a(c,{modelValue:o(l),"onUpdate:modelValue":d[2]||(d[2]=m=>Q(l)?l.value=m:null),label:s.$t("market_menu.they_ask"),clearable:o(l)!==null,"null-item":"","null-label":s.$t("market_menu.anything"),"emit-value":!1},null,8,["modelValue","label","clearable","null-label"])]),_:1})]),_:1})])}}},Jc={class:"q-gutter-y-sm"},Yc={__name:"index",setup(t){return(e,l)=>{const r=Ie;return f(),g(Ze,{padding:""},{default:n(()=>[y("div",Jc,[a(Gc),a(Ye,{align:"left","indicator-color":"primary",class:"m-bg-grey"},{default:n(()=>[a(Ne,{to:"/market/offers",label:e.$t("market_menu.offers")},null,8,["label"]),a(Ne,{to:"/market/history",label:e.$t("market_menu.history")},null,8,["label"])]),_:1})]),a(r)]),_:1})}}},Zc=Object.freeze(Object.defineProperty({__proto__:null,default:Yc},Symbol.toStringTag,{value:"Module"})),em={class:"row"},tm={key:0,class:"text-orange mono"},lm={__name:"MarketPageOffers",setup(t){const e=F(null),{t:l}=M(),r=w(()=>[{label:l("market_offers.they_offer"),field:"bid_balance_value",headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:v=>({symbol:v.bid_symbol,currency:v.bid_currency}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("market_offers.they_ask"),field:v=>v.bid_balance_value*v.display_price,format:v=>parseFloat(v.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:v=>({symbol:v.ask_symbol,currency:v.ask_currency}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("market_offers.price"),field:v=>1/v.display_price,format:v=>parseFloat(v.toPrecision(3)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"price-symbol",field:v=>({symbol1:v.bid_symbol,symbol2:v.ask_symbol}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("market_offers.time"),field:"time_stamp",format:v=>new Date(v).toLocaleString(),headerStyle:"width: 12%",align:"left"},{name:"address",field:"address",headerStyle:"width: 1%"},{name:"actions",align:"right"}]),{bid:s,ask:d}=gl(),{activeWalletIndex:i}=Qe(),{rows:c}=pt(),{rows:m,loading:p}=Gs(I({bid:D(()=>s.value?.value),ask:D(()=>d.value?.value),min_bid:w(()=>s.value?.value&&e.value?e.value*Math.pow(10,s.value.decimals):null),limit:200})),u=Je(),_=v=>{u.dialog({component:Be(()=>R(()=>Promise.resolve().then(()=>H_),void 0,import.meta.url)),componentProps:{index:i.value,offer:v}})},h=F(new Set),k=v=>{u.dialog({component:Be(()=>R(()=>Promise.resolve().then(()=>af),void 0,import.meta.url)),componentProps:{index:i.value,offer:v}}).onOk(()=>{h.value.add(v.address)})};return(v,q)=>{const S=de,T=le("RouterLink");return f(),x("div",null,[o(s)?.value?(f(),g(P,{key:0,class:"q-my-xs",flat:""},{default:n(()=>[a(N,null,{default:n(()=>[y("div",em,[a(B,{modelValue:o(e),"onUpdate:modelValue":q[0]||(q[0]=V=>Q(e)?e.value=V:null),modelModifiers:{number:!0},debounce:200,suffix:o(s).label,label:"Minimum Offer",rules:[o(Y).amount],"input-class":"amount-input",clearable:o(e)!=null,class:"col-2"},null,8,["modelValue","suffix","rules","clearable"])])]),_:1})]),_:1})):A("",!0),a(te,{rows:o(m),columns:o(r),loading:o(p),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-symbol":n(V=>[a(O,{props:V},{default:n(()=>[V.value.symbol=="MMX"?(f(),x(E,{key:0},[$(b(V.value.symbol),1)],64)):(f(),g(T,{key:1,to:`/explore/address/${V.value.currency}`,class:"text-primary"},{default:n(()=>[$(b(V.value.symbol)+" ",1),o(c).some(L=>L.currency==V.value.currency)?A("",!0):(f(),x("span",tm,"?"))]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-price-symbol":n(V=>[a(O,{props:V},{default:n(()=>[y("span",null,b(V.value.symbol1)+" / "+b(V.value.symbol2),1)]),_:2},1032,["props"])]),"body-cell-address":n(V=>[a(O,{props:V},{default:n(()=>[a(T,{to:`/explore/address/${V.value}`,class:"text-primary"},{default:n(()=>q[1]||(q[1]=[$("TX")])),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-actions":n(V=>[a(O,{props:V,class:"q-gutter-x-xs"},{default:n(()=>[a(j,{label:o(l)("market_offers.trade"),_icon:o(dl),outline:"",onClick:L=>_(V.row)},null,8,["label","_icon","onClick"]),a(j,{label:o(l)("common.accept"),_icon:o(Aa),color:"positive",outline:"",disable:o(h).has(V.row.address),onClick:L=>k(V.row)},null,8,["label","_icon","disable","onClick"])]),_:2},1032,["props"])]),_:2},[o(p)?{name:"bottom-row",fn:n(V=>[a(S,{props:V,"row-count":20},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])])}}},om=_e(lm,[["__scopeId","data-v-6445d4e6"]]),am=Object.freeze(Object.defineProperty({__proto__:null,default:om},Symbol.toStringTag,{value:"Module"})),nm={key:0,class:"text-orange mono"},sm={__name:"MarketPageHistory",setup(t){const{t:e}=M(),l=w(()=>[{label:e("market_offers.they_offer"),field:"bid_value",headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:m=>({symbol:m.bid_symbol,currency:m.bid_currency}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:e("market_offers.they_ask"),field:"ask_value",headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:m=>({symbol:m.ask_symbol,currency:m.ask_currency}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:e("market_offers.price"),field:m=>1/m.display_price,format:m=>parseFloat(m.toPrecision(3)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"price-symbol",field:m=>({symbol1:m.bid_symbol,symbol2:m.ask_symbol}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:e("market_offers.time"),field:"time_stamp",format:m=>new Date(m).toLocaleString(),headerStyle:"width: 4%",align:"left"},{name:"offer",field:"address",headerStyle:"width: 3%"},{name:"txid",field:"txid",align:"left"}]),{bid:r,ask:s}=gl(),{rows:d}=pt(),{rows:i,loading:c}=Ys(I({bid:D(()=>r.value?.value),ask:D(()=>s.value?.value),limit:200}));return(m,p)=>{const u=de,_=le("RouterLink");return f(),g(te,{rows:o(i),columns:o(l),loading:o(c),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-symbol":n(h=>[a(O,{props:h},{default:n(()=>[h.value.symbol=="MMX"?(f(),x(E,{key:0},[$(b(h.value.symbol),1)],64)):(f(),g(_,{key:1,to:`/explore/address/${h.value.currency}`,class:"text-primary"},{default:n(()=>[$(b(h.value.symbol)+" ",1),o(d).some(k=>k.currency==h.value.currency)?A("",!0):(f(),x("span",nm,"?"))]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-price-symbol":n(h=>[a(O,{props:h},{default:n(()=>[y("span",null,b(h.value.symbol1)+" / "+b(h.value.symbol2),1)]),_:2},1032,["props"])]),"body-cell-offer":n(h=>[a(O,{props:h},{default:n(()=>[a(_,{to:`/explore/address/${h.value}`,class:"text-primary"},{default:n(()=>p[0]||(p[0]=[$("Offer")])),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-txid":n(h=>[a(O,{props:h},{default:n(()=>[a(_,{to:`/explore/transaction/${h.value}`,class:"text-primary"},{default:n(()=>p[1]||(p[1]=[$("TX")])),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[o(c)?{name:"bottom-row",fn:n(h=>[a(u,{props:h,"row-count":20},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},rm=Object.freeze(Object.defineProperty({__proto__:null,default:sm},Symbol.toStringTag,{value:"Module"})),bl=()=>{const t=Oe(),{swap:e}=Wt(t),{menu:l}=it(e.value),{token:r,currency:s}=it(l.value);return{token:r,currency:s}},im={class:"q-gutter-y-sm"},um={__name:"index",setup(t){bl();const{activeWalletIndex:e}=Qe();return(l,r)=>{const s=hl,d=Ie;return f(),g(Ze,{padding:""},{default:n(()=>[y("div",im,[a(P,{flat:""},{default:n(()=>[a(N,null,{default:n(()=>[a(s,{modelValue:o(e),"onUpdate:modelValue":r[0]||(r[0]=i=>Q(e)?e.value=i:null),label:l.$t("common.wallet")},null,8,["modelValue","label"])]),_:1})]),_:1}),a(d)])]),_:1})}}},dm=Object.freeze(Object.defineProperty({__proto__:null,default:um},Symbol.toStringTag,{value:"Module"})),cm={class:"q-gutter-y-sm"},mm={__name:"SwapListMenu",setup(t){const{token:e,currency:l}=bl();return Qe(),(r,s)=>{const d=Qt;return f(),x("div",cm,[a(P,{flat:""},{default:n(()=>[a(N,null,{default:n(()=>[a(d,{modelValue:o(e),"onUpdate:modelValue":s[0]||(s[0]=i=>Q(e)?e.value=i:null),label:r.$t("common.token"),clearable:o(e)!==null,"null-item":"","null-label":r.$t("market_menu.anything")},null,8,["modelValue","label","clearable","null-label"]),a(d,{modelValue:o(l),"onUpdate:modelValue":s[1]||(s[1]=i=>Q(l)?l.value=i:null),label:r.$t("common.currency"),clearable:o(l)!==null,"null-item":"","null-label":r.$t("market_menu.anything")},null,8,["modelValue","label","clearable","null-label"])]),_:1})]),_:1})])}}},pm={class:"q-gutter-y-sm"},_m={key:0,class:"text-orange mono"},fm={__name:"index",setup(t){const{token:e,currency:l}=bl();Qe();const{t:r}=M(),s=w(()=>[{label:r("common.name"),field:"name",headerStyle:"width: 15%"},{name:"symbol",label:r("common.token"),field:m=>({symbol:m.symbols[0],currency:m.tokens[0]}),headerStyle:"width: 5%"},{name:"symbol",label:r("common.currency"),field:m=>({symbol:m.symbols[1],currency:m.tokens[1]}),headerStyle:"width: 5%"},{label:r("common.price"),field:"price",format:m=>m?parseFloat(m.toPrecision(6)):"N/A",headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"price-symbol",field:m=>({symbol1:m.symbols[1],symbol2:m.symbols[0]}),headerStyle:"width: 10%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:r("swap.pool_balance"),field:m=>m.balance[0].value,format:m=>parseFloat(m.toPrecision(6)),headerStyle:"width: 12%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:m=>m.symbols[0],headerStyle:"width: 10%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:r("swap.pool_balance"),field:m=>m.balance[1].value,format:m=>parseFloat(m.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:m=>m.symbols[1],headerStyle:"width: 10%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{name:"actions",align:"right"}]),{rows:d}=pt(),{rows:i,loading:c}=lr(I({token:e,currency:l,limit:200}));return(m,p)=>{const u=de,_=le("RouterLink");return f(),x("div",pm,[a(mm),a(te,{rows:o(i),columns:o(s),loading:o(c),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-symbol":n(h=>[a(O,{props:h},{default:n(()=>[h.value.symbol=="MMX"?(f(),x(E,{key:0},[$(b(h.value.symbol),1)],64)):(f(),g(_,{key:1,to:`/explore/address/${h.value.currency}`,class:"text-primary"},{default:n(()=>[$(b(h.value.symbol)+" ",1),o(d).some(k=>k.currency==h.value.currency)?A("",!0):(f(),x("span",_m,"?"))]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-price-symbol":n(h=>[a(O,{props:h},{default:n(()=>[y("span",null,b(h.value.symbol1)+" / "+b(h.value.symbol2),1)]),_:2},1032,["props"])]),"body-cell-actions":n(h=>[a(O,{props:h,class:"q-gutter-x-xs"},{default:n(()=>[a(j,{label:o(r)("swap.swap"),outline:"",to:`/swap/${h.row.address}`},null,8,["label","to"])]),_:2},1032,["props"])]),_:2},[o(c)?{name:"bottom-row",fn:n(h=>[a(u,{props:h,"row-count":20},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])])}}},ym=Object.freeze(Object.defineProperty({__proto__:null,default:fm},Symbol.toStringTag,{value:"Module"})),hm={__name:"SwapViewMenu",props:{address:{type:String,required:!0}},setup(t){const e=t,{t:l}=M(),r=w(()=>[{to:`/swap/${e.address}/trade`,label:l("swap.trade")},{to:`/swap/${e.address}/history`,label:l("swap.history")},{to:`/swap/${e.address}/liquid`,label:l("swap.my_liquidity")},{to:`/swap/${e.address}/pool`,label:l("swap.pool_state")}]);return(s,d)=>(f(),g(Ye,{"indicator-color":"primary",align:"left",class:"m-bg-grey"},{default:n(()=>[(f(!0),x(E,null,ie(o(r),(i,c)=>(f(),g(Ne,{key:c,to:i.to,label:i.label},null,8,["to","label"]))),128))]),_:1}))}},gm={class:"q-gutter-y-sm"},bm={class:"row q-gutter-x-none"},vm={key:0,class:"text-orange mono"},wm={key:0},xm={key:1},km={__name:"index",props:{address:{type:String,required:!0}},setup(t){const e=t,{t:l}=M(),r=w(()=>[{field:"name",headerStyle:"width: 5%",classes:"key-cell m-bg-grey"},{label:l("swap.pool_balance"),field:"balance",format:p=>parseFloat(p.toPrecision(6)),headerStyle:"width: 10%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:p=>({symbol:p.symbol,currency:p.token}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:`${l("swap.volume")} (${l("swap.24h")})`,field:"volume_1d",format:p=>parseFloat(p.toPrecision(6)),headerStyle:"width: 10%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:p=>({symbol:p.symbol,currency:p.token,link:!1}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:`${l("swap.volume")} (${l("swap.7d")})`,field:"volume_7d",format:p=>parseFloat(p.toPrecision(6)),headerStyle:"width: 10%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{name:"symbol",field:p=>({symbol:p.symbol,currency:p.token,link:!1}),headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:`${l("swap.apy")} (${l("swap.24h")})`,field:"avg_apy_1d",format:p=>(p*100).toFixed(2),headerStyle:"width: 10%",align:"right",xclasses:"percents"},{label:`${l("swap.apy")} (${l("swap.7d")})`,field:"avg_apy_7d",format:p=>(p*100).toFixed(2),headerStyle:"width: 10%",align:"right",xclasses:"percents"}]),{rows:s}=pt(),{data:d,loading:i,noData:c}=Bt(I({id:D(e,"address")})),m=w(()=>{if(!d.value)return[];const{balance:p,symbols:u,tokens:_,volume_1d:h,volume_7d:k,avg_apy_1d:v,avg_apy_7d:q}=d.value,S=[{name:l("common.token")},{name:l("common.currency")}];return S.map((T,V)=>{Object.assign(T,{balance:p[V].value,symbol:u[V],token:_[V],volume_1d:h[V].value,volume_7d:k[V].value,avg_apy_1d:v[V],avg_apy_7d:q[V]})}),S});return(p,u)=>{const _=Me,h=de,k=le("RouterLink"),v=Ie,q=Vt;return f(),x("div",gm,[y("div",null,[y("div",bm,[a(_,{square:"",outline:""},{default:n(()=>[$(b(p.$t("swap.swap")),1)]),_:1}),o(d)?(f(),g(_,{key:0,square:"",outline:""},{default:n(()=>[$(b(o(d).price?parseFloat(o(d).price.toPrecision(6)):"N/A")+" "+b(o(d).symbols[1])+" / "+b(o(d).symbols[0]),1)]),_:1})):A("",!0),a(_,{square:"",outline:""},{default:n(()=>[$(b(t.address),1)]),_:1})]),a(te,{rows:o(m),columns:o(r),loading:o(i),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-symbol":n(S=>[a(O,{props:S},{default:n(()=>[S.value.symbol=="MMX"||S.value.link==!1?(f(),x(E,{key:0},[$(b(S.value.symbol),1)],64)):(f(),g(k,{key:1,to:`/explore/address/${S.value.currency}`,class:"text-primary"},{default:n(()=>[$(b(S.value.symbol)+" ",1),o(s).some(T=>T.currency==S.value.currency)?A("",!0):(f(),x("span",vm,"?"))]),_:2},1032,["to"]))]),_:2},1032,["props"])]),"body-cell-price-symbol":n(S=>[a(O,{props:S},{default:n(()=>[y("span",null,b(S.value.symbol1)+" / "+b(S.value.symbol2),1)]),_:2},1032,["props"])]),"body-cell":n(S=>[a(O,{props:S},{default:n(()=>[y("div",{class:se(("getXClasses"in p?p.getXClasses:o(We))(S))},b(S.value),3)]),_:2},1032,["props"])]),_:2},[o(i)?{name:"bottom-row",fn:n(S=>[a(h,{props:S,"row-count":2},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])]),o(c)?(f(),x("div",xm,[a(q,{title:"No such swap",icon:o(dl)},null,8,["icon"])])):(f(),x("div",wm,[a(hm,{address:t.address},null,8,["address"]),a(v,{address:t.address},null,8,["address"])]))])}}},Sm=Object.freeze(Object.defineProperty({__proto__:null,default:km},Symbol.toStringTag,{value:"Module"})),$m={__name:"SlippageSelect",setup(t){const e=[{label:"0.5 %",value:.995},{label:"1 %",value:.99},{label:"2 %",value:.98},{label:"5 %",value:.95},{label:"10 %",value:.9}];return(l,r)=>(f(),g(ve,Re(l.$attrs,{options:e,"emit-value":"","map-options":"",label:"Max Slippage"}),null,16))}},qm={__name:"IterSelect",setup(t){const e=[1,5,20,100];return(l,r)=>(f(),g(ve,Re(l.$attrs,{options:e,"emit-value":"","map-options":"",label:"Iterations"}),null,16))}},Vm={class:"row justify-end q-col-gutter-x-md"},Tm={class:"row justify-end q-col-gutter-x-md"},Cm={class:"row justify-end q-col-gutter-x-md"},Rm={class:"row justify-end q-col-gutter-x-md"},Lm={class:"row justify-end col-12 q-gutter-x-sm"},Fm={class:"col"},Il={__name:"index",props:{address:{type:String,required:!0},buyForm:{type:Boolean,required:!1,default:!0}},setup(t){const e=t,{activeWalletIndex:l}=Qe(),r=w(()=>e.buyForm?1:0),s=w(()=>e.buyForm?0:1),d={amount:null,numIter:5,slippage:.98,feeRatio:null},i=F(null),c=I({...d}),{promptPassphrase:m,isLocked:p}=we(I({index:l})),{isValid:u,isValidConfirmedUnlocked:_}=Ce(i,p),h=I({id:D(()=>e.address),index:D(()=>r.value),amount:D(()=>c.amount),iters:D(()=>c.numIter)}),{data:k}=ir(h,u),v=w(()=>k.value?.fee_percent.toFixed(2)),q=w(()=>{const ee=k.value?.avg_price;return ee?parseFloat((r.value===1?1/ee:ee).toPrecision(6)):null}),S=w(()=>k.value?.trade.value),T=w(()=>({wallet:l.value,address:e.address,index:r.value,amount:c.amount,min_trade:c.slippage*S.value,num_iter:c.numIter,options:{fee_ratio:c.feeRatio}})),{data:V}=Bt(I({id:D(()=>e.address)})),{data:L}=De(I({index:l,currency:D(()=>V.value?.tokens[r.value])}),ee=>ee?ee.spendable:0,()=>!!V.value?.tokens[r.value]),H=ee=>ee<=L.value||"Insufficient funds",{data:K,isLoading:z,latestError:ae}=Un(T,_),me=An(),Z=async()=>{const ee=await m(),oe={...T.value,options:{...T.value.options,passphrase:ee}};await me.mutateAsync(oe)};return(ee,oe)=>{const W=Te,re=Ee,xe=Ve,ft=Pe,yt=Ae,ht=qe;return f(),x("div",null,[a(P,{flat:""},{default:n(()=>[a(ht,{ref_key:"formRef",ref:i,data:o(c),"default-data":d,onSubmit:Z},{default:n(()=>[a(Le,{class:se([{"bg-green":t.buyForm,"bg-red":!t.buyForm},"text-white"])},null,8,["class"]),a(N,null,{default:n(()=>[y("div",Vm,[a(B,{"model-value":o(L),label:ee.$t("swap.wallet_ballance"),suffix:o(V)?.symbols[o(r)],"input-class":"amount-input",readonly:"",class:"col-6"},null,8,["model-value","label","suffix"]),a(B,{modelValue:o(c).amount,"onUpdate:modelValue":oe[0]||(oe[0]=he=>o(c).amount=he),modelModifiers:{number:!0},debounce:200,label:ee.$t("common.amount"),"input-class":"amount-input",suffix:o(V)?.symbols[o(r)],rules:[o(Y).required,o(Y).amount,H],class:"col-6"},null,8,["modelValue","label","suffix","rules"])]),y("div",Tm,[a(B,{"model-value":o(v),label:ee.$t("swap.trade_fee_estimated"),suffix:"%","input-class":"amount-input",readonly:"",class:"col-6"},null,8,["model-value","label"]),a(B,{"model-value":o(S),label:ee.$t("swap.you_receive_estimated"),suffix:o(V)?.symbols[o(s)],"input-class":"amount-input",readonly:"",class:"col-6"},null,8,["model-value","label","suffix"])]),y("div",Cm,[a(qm,{modelValue:o(c).numIter,"onUpdate:modelValue":oe[1]||(oe[1]=he=>o(c).numIter=he),class:"col"},null,8,["modelValue"]),a(B,{"model-value":o(q),label:"Trade Price (average, including fee)",suffix:`${o(V)?.symbols[o(r)]} / ${o(V)?.symbols[o(s)]}`,"input-class":"amount-input",readonly:"",class:"col-8"},null,8,["model-value","suffix"])]),y("div",Rm,[a($m,{modelValue:o(c).slippage,"onUpdate:modelValue":oe[2]||(oe[2]=he=>o(c).slippage=he),class:"col-4"},null,8,["modelValue"]),a(W,{modelValue:o(c).feeRatio,"onUpdate:modelValue":oe[3]||(oe[3]=he=>o(c).feeRatio=he),class:"col-4"},null,8,["modelValue"]),a(re,{modelValue:o(K),"onUpdate:modelValue":oe[4]||(oe[4]=he=>Q(K)?K.value=he:null),loading:o(z),error:o(ae),locked:o(p),class:"col-4"},null,8,["modelValue","loading","error","locked"])])]),_:1}),a(jt,null,{default:n(()=>[y("div",Lm,[y("div",Fm,[a(xe,{class:"items-start"})]),a(ft,{class:"col-3"}),a(yt,{label:"Swap",icon:o(dl),class:"col-3"},null,8,["icon"])])]),_:1})]),_:1},8,["data"])]),_:1})])}}},Om={class:"q-mt-sm"},Im={class:"row q-col-gutter-sm"},Am={__name:"index",props:{address:{type:String,required:!0}},setup(t){return(e,l)=>(f(),x("div",Om,[y("div",Im,[a(Il,{address:t.address,"buy-form":!0,class:"col-sm-12 col-md-6"},null,8,["address"]),a(Il,{address:t.address,"buy-form":!1,class:"col-sm-12 col-md-6"},null,8,["address"])])]))}},Pm=Object.freeze(Object.defineProperty({__proto__:null,default:Am},Symbol.toStringTag,{value:"Module"})),Em={__name:"SwapHistory",props:{address:{type:String,required:!0},limit:{type:Number,default:200,required:!1}},setup(t){const e=t,{t:l}=M(),r=w(()=>[{name:"height",label:l("common.height"),field:"height",headerStyle:"width: 7%"},{label:l("common.type"),field:"type",classes:i=>new Map([["BUY","text-green"],["SELL","text-red"]]).get(i.type)||"",headerStyle:"width: 11%"},{label:l("common.amount"),field:"value",headerStyle:"width: 10%",headerClasses:"dense-amount",classes:"dense-amount text-bold",align:"right"},{field:"symbol",headerStyle:"width: 5%",headerClasses:"dense-symbol",classes:"dense-symbol",align:"left"},{name:"address",label:l("common.user"),field:"user",align:"left"},{name:"tx",field:"txid",headerStyle:"width: 1%"},{label:l("common.time"),field:"time_stamp",format:i=>new Date(i).toLocaleString(),headerStyle:"width: 15%",align:"left"}]),{rows:s,loading:d}=nr(I({id:D(e,"address"),limit:D(e,"limit")}));return(i,c)=>{const m=de,p=le("RouterLink");return f(),g(te,{rows:o(s),columns:o(r),loading:o(d),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-height":n(u=>[a(O,{props:u},{default:n(()=>[a(p,{to:`/explore/block/height/${u.value}`,class:"text-primary"},{default:n(()=>[$(b(u.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-address":n(u=>[a(O,{props:u},{default:n(()=>[a(p,{to:`/explore/address/${u.value}`,class:"text-primary"},{default:n(()=>[$(b(u.value),1)]),_:2},1032,["to"])]),_:2},1032,["props"])]),"body-cell-tx":n(u=>[a(O,{props:u},{default:n(()=>[a(p,{to:`/explore/transaction/${u.value}`,class:"text-primary"},{default:n(()=>c[0]||(c[0]=[$("TX")])),_:2},1032,["to"])]),_:2},1032,["props"])]),_:2},[o(d)?{name:"bottom-row",fn:n(u=>[a(m,{props:u,"row-count":e.limit},null,8,["props","row-count"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])}}},Dm=Object.freeze(Object.defineProperty({__proto__:null,default:Em},Symbol.toStringTag,{value:"Module"})),jm={class:"row justify-end q-col-gutter-x-md"},Wm={class:"row justify-end q-col-gutter-x-md"},Mm={class:"row justify-end col-12 q-gutter-x-sm"},Bm={class:"col"},Nm={__name:"SwapLiquidForm",props:{address:{type:String,required:!0}},setup(t){const e=t,{activeWalletIndex:l}=Qe(),{data:r}=_l(I({index:l})),{data:s}=fo(I({id:D(e,"address"),user:r}),()=>!!r.value),d={tokenAmount:null,currencyAmount:null,poolIdx:null,feeRatio:null},i=F(null),c=I({...d}),{promptPassphrase:m,isLocked:p}=we(I({index:l}));Ce(i,p);const{data:u}=Bt(I({id:D(()=>e.address)}));fe(()=>{c.poolIdx=s.value?.pool_idx??-1});const _=()=>{c.poolIdx=s.value?.pool_idx??-1},h=w(()=>{if(u.value){const X=u.value.fee_rates.map((ce,ge)=>({label:`${(ce*100).toFixed(2)} %`,value:ge}));return[{label:"",value:-1},...X]}else return[]}),{data:k}=De(I({index:l,currency:D(()=>u.value?.tokens[0])}),X=>X?X.spendable:0,()=>!!u.value?.tokens[0]),{data:v}=De(I({index:l,currency:D(()=>u.value?.tokens[1])}),X=>X?X.spendable:0,()=>!!u.value?.tokens[1]),q=X=>X<=k.value||"Insufficient funds",S=X=>X<=v.value||"Insufficient funds",T=w(()=>c.tokenAmount&&c.currencyAmount?parseFloat((c.currencyAmount/c.tokenAmount).toPrecision(6)):null),V=w(()=>!!c.tokenAmount&&!!c.currencyAmount||!c.tokenAmount&&!c.currencyAmount),L=()=>{c.tokenAmount&&!c.currencyAmount?c.currencyAmount=parseFloat((c.tokenAmount*u.value.price).toFixed(u.value.decimals[1])):!c.tokenAmount&&c.currencyAmount&&(c.tokenAmount=parseFloat((c.currencyAmount/u.value.price).toFixed(u.value.decimals[0])))},H=F(!1),K=w(()=>!s.value||H.value||!(s.value.fees_earned[0].amount!=0||s.value.fees_earned[1].amount!=0)),z=w(()=>c.poolIdx<0||s.value&&(s.value.pool_idx<0||c.poolIdx==s.value.pool_idx||s.value.balance[0].amount==0&&s.value.balance[1].amount==0)),ae=w(()=>!(c.tokenAmount||c.currencyAmount)||c.poolIdx<0),me=w(()=>ae.value||s.value.pool_idx>=0&&c.poolIdx!=s.value.pool_idx&&(s.value.balance[0].amount!=0||s.value.balance[1].amount!=0)),Z=w(()=>ae.value),ee=w(()=>!!c.tokenAmount||!!c.currencyAmount||!s.value||!(s.value.balance[0].amount!=0||s.value.balance[1].amount!=0)),oe=zn(),W=async()=>{const X={index:l.value,address:e.address,options:{fee_ratio:c.feeRatio}},ce=await m(),ge={...X,options:{...X.options,passphrase:ce}};await oe.mutateAsync(ge,{onSuccess:()=>{H.value=!0}})},re=Hn(),xe=async()=>{const X={index:l.value,address:e.address,pool_idx:c.poolIdx,options:{fee_ratio:c.feeRatio}},ce=await m(),ge={...X,options:{...X.options,passphrase:ce}};await re.mutateAsync(ge)},ft=Gn(),yt=async()=>{const X={index:l.value,address:e.address,pool_idx:c.poolIdx,amount:[c.tokenAmount,c.currencyAmount],options:{fee_ratio:c.feeRatio}},ce=await m(),ge={...X,options:{...X.options,passphrase:ce}};await ft.mutateAsync(ge,{onSuccess:()=>{i.value.reset()}})},ht=Yn(),he=async()=>{const X={index:l.value,address:e.address,pool_idx:c.poolIdx,amount:[c.tokenAmount,c.currencyAmount],options:{fee_ratio:c.feeRatio}},ce=await m(),ge={...X,options:{...X.options,passphrase:ce}};await ht.mutateAsync(ge,{onSuccess:()=>{i.value.reset()}})},Ht=es(),He=async()=>{const X={index:l.value,address:e.address,options:{fee_ratio:c.feeRatio}},ce=await m(),ge={...X,options:{...X.options,passphrase:ce}};await Ht.mutateAsync(ge)};return(X,ce)=>{const ge=Te,Io=Ve,Ao=qe;return f(),x("div",null,[a(P,{flat:""},{default:n(()=>[a(Ao,{ref_key:"formRef",ref:i,data:o(c),"default-data":d,onReset:_},{default:n(()=>[a(N,null,{default:n(()=>[y("div",jm,[a(ge,{modelValue:o(c).feeRatio,"onUpdate:modelValue":ce[0]||(ce[0]=Xe=>o(c).feeRatio=Xe),class:"col-2"},null,8,["modelValue"]),a(B,{"model-value":o(k),label:X.$t("swap.wallet_ballance"),suffix:o(u)?.symbols[0],"input-class":"amount-input",readonly:"",class:"col-3"},null,8,["model-value","label","suffix"]),a(B,{"model-value":o(v),label:X.$t("swap.wallet_ballance"),suffix:o(u)?.symbols[1],"input-class":"amount-input",readonly:"",class:"col-3"},null,8,["model-value","label","suffix"])]),y("div",Wm,[a(ve,{modelValue:o(c).poolIdx,"onUpdate:modelValue":ce[1]||(ce[1]=Xe=>o(c).poolIdx=Xe),options:o(h),"emit-value":"","map-options":"",label:X.$t("swap.fee_level"),class:"col-2"},null,8,["modelValue","options","label"]),a(B,{"model-value":o(T),label:X.$t("common.price"),suffix:`${o(u)?.symbols[1]} / ${o(u)?.symbols[0]}`,"input-class":"amount-input",readonly:"",class:"col-3"},null,8,["model-value","label","suffix"]),a(B,{modelValue:o(c).tokenAmount,"onUpdate:modelValue":ce[2]||(ce[2]=Xe=>o(c).tokenAmount=Xe),modelModifiers:{number:!0},debounce:200,label:X.$t("common.amount"),"input-class":"amount-input",suffix:o(u)?.symbols[0],rules:[o(Y).amount,q],class:"col-3"},null,8,["modelValue","label","suffix","rules"]),a(B,{modelValue:o(c).currencyAmount,"onUpdate:modelValue":ce[3]||(ce[3]=Xe=>o(c).currencyAmount=Xe),modelModifiers:{number:!0},debounce:200,label:X.$t("common.amount"),"input-class":"amount-input",suffix:o(u)?.symbols[1],rules:[o(Y).amount,S],class:"col-3"},null,8,["modelValue","label","suffix","rules"])])]),_:1}),a(jt,null,{default:n(()=>[y("div",Mm,[y("div",Bm,[a(Io,{class:"items-start"})]),a(j,{label:X.$t("swap.price_match"),outline:"",disable:o(V),onClick:L},null,8,["label","disable"]),a(j,{label:X.$t("swap.payout"),outline:"",disable:o(K),onClick:W},null,8,["label","disable"]),a(j,{label:X.$t("swap.switch_fee"),outline:"",disable:o(z),onClick:xe},null,8,["label","disable"]),a(j,{label:X.$t("swap.add_liquidity"),outline:"",disable:o(me),class:"text-positive",onClick:yt},null,8,["label","disable"]),a(j,{label:X.$t("swap.remove_liquidity"),outline:"",disable:o(Z),class:"text-negative",onClick:he},null,8,["label","disable"]),a(j,{label:X.$t("swap.remove_all"),outline:"",disable:o(ee),class:"text-negative",onClick:He},null,8,["label","disable"])])]),_:1})]),_:1},8,["data"])]),_:1})])}}},Um={class:"q-gutter-y-sm"},Km={__name:"SwapLiquidUserInfoTable",props:{address:{type:String,required:!0}},setup(t){const e=t,{t:l}=M(),r=w(()=>[{label:l("swap.my_balance"),field:"balance",format:p=>parseFloat(p.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:"symbol",headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("swap.my_liquidity"),field:"equivalent_liquidity",format:p=>parseFloat(p.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:"symbol",headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("swap.fees_earned"),field:"fees_earned",format:p=>parseFloat(p.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:p=>(p.fees_earned>0?"text-positive":"")+" dense-amount text-bold"},{field:"symbol",headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{name:"fee_level",label:l("swap.fee_level"),field:"fee_level",format:p=>(p*100).toFixed(2),headerStyle:"width: 8%",align:"right",xclasses:"percents"},{label:l("swap.unlock_height"),field:"unlock_height",align:"left"}]),{activeWalletIndex:s}=Qe(),{data:d}=_l(I({index:s})),{data:i,loading:c}=fo(I({id:D(e,"address"),user:d}),()=>!!d.value),m=w(()=>{if(!i.value)return[];const{balance:p,symbols:u,equivalent_liquidity:_,fees_earned:h,pool_idx:k,unlock_height:v,swap:q}=i.value;return p.map((T,V)=>({balance:p[V].value,equivalent_liquidity:_[V].value,fees_earned:h[V].value,symbol:u[V],fee_level:k>=0?q.fee_rates[k]:void 0,unlock_height:v,pool_idx:k}))});return(p,u)=>{const _=de;return f(),x("div",Um,[a(te,{rows:o(m),columns:o(r),loading:o(c),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell-fee_level":n(h=>[a(O,{props:h},{default:n(()=>[h.row.pool_idx>=0?(f(),x("div",{key:0,class:se(("getXClasses"in p?p.getXClasses:o(We))(h))},b(h.value),3)):A("",!0)]),_:2},1032,["props"])]),_:2},[o(c)?{name:"bottom-row",fn:n(h=>[a(_,{props:h,"row-count":2},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])])}}},zm={class:"q-gutter-y-sm"},Qm={__name:"index",props:{address:{type:String,required:!0}},setup(t){return(e,l)=>(f(),x("div",zm,[a(Km,{address:t.address},null,8,["address"]),a(Nm,{address:t.address},null,8,["address"])]))}},Hm=Object.freeze(Object.defineProperty({__proto__:null,default:Qm},Symbol.toStringTag,{value:"Module"})),Xm={class:"q-gutter-y-sm"},Gm={__name:"SwapPool",props:{address:{type:String,required:!0}},setup(t){const e=t,{t:l}=M(),r=w(()=>[{label:l("swap.fee_level"),field:"fee_rate",format:c=>c*100,headerStyle:"width: 5%",classes:"key-cell m-bg-grey",xclasses:"percents"},{label:l("common.balance"),field:"balance0",format:c=>parseFloat(c.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:"symbol0",headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("common.balance"),field:"balance1",format:c=>parseFloat(c.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:"symbol1",headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:"Price",field:"price",format:c=>c!=null?parseFloat(c.toPrecision(6)):"N/A",headerStyle:"width: 8%",classes:"text-bold"},{label:l("swap.user_total"),field:"user_total0",format:c=>parseFloat(c.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:"symbol0",headerStyle:"width: 5%",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"},{label:l("swap.user_total"),field:"user_total1",format:c=>parseFloat(c.toPrecision(6)),headerStyle:"width: 8%",align:"right",headerClasses:"dense-amount",classes:"dense-amount text-bold"},{field:"symbol1",align:"left",headerClasses:"dense-symbol",classes:"dense-symbol"}]),{data:s,loading:d}=Bt(I({id:D(e,"address")})),i=w(()=>{if(!s.value)return[];const{fee_rates:c,pools:m,symbols:p}=s.value;return c.map((_,h)=>({fee_rate:_,balance0:m[h].balance[0].value,symbol0:s.value.symbols[0],balance1:m[h].balance[1].value,symbol1:s.value.symbols[1],price:m[h].price,user_total0:m[h].user_total[0].value,user_total1:m[h].user_total[1].value}))});return(c,m)=>{const p=de;return f(),x("div",Xm,[a(te,{rows:o(i),columns:o(r),loading:o(d),pagination:{rowsPerPage:0},"hide-pagination":"",flat:""},ue({"body-cell":n(u=>[a(O,{props:u},{default:n(()=>[y("div",{class:se(("getXClasses"in c?c.getXClasses:o(We))(u))},b(u.value),3)]),_:2},1032,["props"])]),_:2},[o(d)?{name:"bottom-row",fn:n(u=>[a(p,{props:u,"row-count":4},null,8,["props"])]),key:"0"}:void 0]),1032,["rows","columns","loading"])])}}},Jm=Object.freeze(Object.defineProperty({__proto__:null,default:Gm},Symbol.toStringTag,{value:"Module"})),Ym={};function Zm(t,e){return f(),g(P,{class:"fullscreen text-center q-pa-md flex flex-center"},{default:n(()=>[y("div",null,[e[0]||(e[0]=y("div",{style:{"font-size":"30vh"}},"404",-1)),e[1]||(e[1]=y("div",{class:"text-h2",style:{opacity:"0.4"}},"Oops. Nothing here...",-1)),a(j,{class:"q-mt-xl",outline:"",unelevated:"",to:"/",label:"Go Home","no-caps":""})])]),_:1})}const ep=_e(Ym,[["render",Zm]]),tp=Object.freeze(Object.defineProperty({__proto__:null,default:ep},Symbol.toStringTag,{value:"Module"})),lp={"Content-Type":"application/json"},op=t=>C.post("/server/login",t,{headers:lp}),Ro=()=>{const t=Oe();return J({mutationFn:({credentials:e})=>op(e),onSuccess:(e,l)=>{const{credentials:r}=l;t.doLogin(r)}})},ap=()=>C.get("/server/logout").then(t=>t.data),np=()=>{const t=Oe();return J({mutationFn:()=>ap(),onSettled:()=>{t.doLogout(!0)}})},sp=t=>C.get("/server/session",{signal:t}).then(e=>e.data),Lo=()=>{const t=Oe();return Ft({queryKey:["session"],queryFn:({signal:e})=>sp(e),refetchInterval:5*ot,enabled:t.isLoggedIn})},rp={class:"fullscreen row justify-center"},ip={class:"row justify-between"},up={__name:"LoginPage",setup(t){const e=F(""),l=Oe(),{autoLogin:r}=Wt(l),s=Ro(),d=Je(),i=()=>{d.notify({message:"Login failed!",type:"negative"})},c=()=>{const m={credentials:{user:"mmx-admin",passwd_plain:e.value}};s.mutate(m,{onError:i})};return(m,p)=>(f(),x("div",rp,[a(P,{flat:"",class:"self-center col-xl-4 col-lg-6 col-md-8 col-sm-10 col-xs-12"},{default:n(()=>[a(Le,null,{default:n(()=>[a(tt,null,{default:n(()=>p[2]||(p[2]=[$(" Login ")])),_:1})]),_:1}),a(N,null,{default:n(()=>[a(sl,{class:"q-gutter-sm",onSubmit:c},{default:n(()=>[a(B,{modelValue:o(e),"onUpdate:modelValue":p[0]||(p[0]=u=>Q(e)?e.value=u:null),type:"password",required:"",filled:"",label:m.$t("login.password_label")},{prepend:n(()=>[a(ke,{name:o(Wl)},null,8,["name"])]),_:1},8,["modelValue","label"]),y("div",ip,[a(Ge,{modelValue:o(r),"onUpdate:modelValue":p[1]||(p[1]=u=>Q(r)?r.value=u:null),label:"Save in Browser (until Logout)"},null,8,["modelValue"]),a(j,{label:"Login",icon:o(Pa),type:"submit",color:"primary",disable:!o(e)},null,8,["icon","disable"])])]),_:1})]),_:1})]),_:1})]))}},dp=Object.freeze(Object.defineProperty({__proto__:null,default:up},Symbol.toStringTag,{value:"Module"})),cp={__name:"GeneralSettings",setup(t){const{data:e,loading:l}=Se(),r=F();return fe(()=>r.value=e?.opencl_device_select),ye(r,s=>{e.opencl_device_select=s,e.opencl_platform=null,e.opencl_device=s>=0?e.opencl_device_list_relidx[s].index:-1,e.opencl_device_name=s>=0?e.opencl_device_list_relidx[s].name:null}),(s,d)=>(f(),g(P,{disable:o(l),flat:""},{default:n(()=>[o(l)?(f(),g(mt,{key:0,query:"",class:"absolute-top"})):A("",!0),a(Ge,{modelValue:o(e).timelord,"onUpdate:modelValue":d[0]||(d[0]=i=>o(e).timelord=i),label:s.$t("node_settings.enable_timelord")},null,8,["modelValue","label"]),a(Ge,{modelValue:o(e).open_port,"onUpdate:modelValue":d[1]||(d[1]=i=>o(e).open_port=i),label:s.$t("node_settings.open_port")},null,8,["modelValue","label"]),a(Ge,{modelValue:o(e).allow_remote,"onUpdate:modelValue":d[2]||(d[2]=i=>o(e).allow_remote=i),label:"Allow remote service access (for remote harvesters)"},null,8,["modelValue"]),a(ve,{modelValue:o(r),"onUpdate:modelValue":d[3]||(d[3]=i=>Q(r)?r.value=i:null),label:s.$t("node_settings.opencl_device"),options:o(e).opencl_device_list,"emit-value":"","map-options":""},null,8,["modelValue","label","options"])]),_:1},8,["disable"]))}},mp=_e(cp,[["__scopeId","data-v-b60b4b20"]]),pp={__name:"RewardSettings",setup(t){const e=F(),l=F(),r=F(),s=F(),{data:d,loading:i}=Se();fe(()=>r.value=d?.farmer_reward_addr),fe(()=>s.value=d?.timelord_reward_addr);const{isLocalNode:c,isFarmer:m}=Se();return(p,u)=>(f(),g(P,{disable:o(i),flat:""},{default:n(()=>[o(i)?(f(),g(mt,{key:0,query:"",class:"absolute-top"})):A("",!0),o(m)?(f(),g(B,{key:1,ref_key:"farmer_reward_addr_ref",ref:e,modelValue:o(r),"onUpdate:modelValue":u[0]||(u[0]=_=>Q(r)?r.value=_:null),label:p.$t("node_settings.farmer_reward_address"),placeholder:p.$t("common.reward_address_placeholder"),rules:[o(Y).address],onChange:u[1]||(u[1]=_=>{o(e).validate(_)&&(o(d).farmer_reward_addr=_.length?_:null)})},null,8,["modelValue","label","placeholder","rules"])):A("",!0),o(c)?(f(),g(B,{key:2,ref_key:"timelord_reward_addr_ref",ref:l,modelValue:o(s),"onUpdate:modelValue":u[2]||(u[2]=_=>Q(s)?s.value=_:null),label:p.$t("node_settings.timeLord_reward_address"),placeholder:p.$t("common.reward_address_placeholder"),rules:[o(Y).address],onChange:u[3]||(u[3]=_=>{o(l).validate(_)&&(o(d).timelord_reward_addr=_.length?_:null)})},null,8,["modelValue","label","placeholder","rules"])):A("",!0)]),_:1},8,["disable"]))}},_p={align:"left"},fp={align:"right"},yp={__name:"HarvesterSettings",setup(t){const e=F(),{data:l,loading:r}=Se(),s=ui(),d=m=>{m?.length&&s.mutate(m,{onSuccess:()=>{e.value=""}})},i=ci(),c=m=>{i.mutate(m)};return(m,p)=>(f(),g(P,{disable:o(r),flat:""},{default:n(()=>[o(r)?(f(),g(mt,{key:0,query:"",class:"absolute-top"})):A("",!0),a(B,{label:"Num. Threads (for lookups, reload)","model-value":o(l).harv_num_threads,rules:[o(Y).number],onChange:p[0]||(p[0]=u=>o(l).harv_num_threads=parseInt(u))},null,8,["model-value","rules"]),a(B,{label:m.$t("harvester_settings.harvester_reload_interval"),"model-value":o(l).reload_interval,rules:[o(Y).number],onChange:p[1]||(p[1]=u=>o(l).reload_interval=parseInt(u))},null,8,["label","model-value","rules"]),a(Ge,{modelValue:o(l).recursive_search,"onUpdate:modelValue":p[2]||(p[2]=u=>o(l).recursive_search=u),label:"Recursive Search"},null,8,["modelValue"]),a(Pt,{flat:""},{default:n(()=>[y("thead",null,[y("tr",null,[y("th",_p,b(m.$t("harvester_settings.plot_directory")),1),p[5]||(p[5]=y("th",{width:"20%"},null,-1))])]),y("tbody",null,[(f(!0),x(E,null,ie(o(l).plot_dirs,u=>(f(),x("tr",{key:u},[y("td",null,b(u),1),y("td",fp,[a(j,{label:"Remove",outline:"",onClick:_=>c(u)},null,8,["onClick"])])]))),128))])]),_:1}),a(B,{modelValue:o(e),"onUpdate:modelValue":p[3]||(p[3]=u=>Q(e)?e.value=u:null),label:m.$t("harvester_settings.plot_directory")},null,8,["modelValue","label"]),a(j,{outlined:"",disable:!o(e)?.length,color:"primary",class:"q-mt-sm",onClick:p[4]||(p[4]=u=>d(o(e)))},{default:n(()=>[$(b(m.$t("harvester_settings.add_directory")),1)]),_:1},8,["disable"])]),_:1},8,["disable"]))}},hp={__name:"BlockchainSettings",setup(t){const e=F(),l=F(),r=w(()=>!e.value?.validate()||!l.value),{t:s}=M();Je();const d=ri(),i=c=>{c=parseInt(c),d.mutate({height:c})};return(c,m)=>(f(),x(E,null,[a(B,{ref_key:"revertHeightRef",ref:e,modelValue:o(l),"onUpdate:modelValue":m[0]||(m[0]=p=>Q(l)?l.value=p:null),label:c.$t("node_settings.revert_db_to_height"),rules:[o(Y).number]},null,8,["modelValue","label","rules"]),a(j,{disable:o(r),outline:"",color:"negative",onClick:m[1]||(m[1]=p=>i(o(l)))},{default:n(()=>[$(b(c.$t("node_settings.revert")),1)]),_:1},8,["disable"])],64))}},gp={align:"left"},bp={align:"left"},vp={align:"left"},wp={key:0},xp={__name:"WalletSettings",setup(t){const e=F(""),l=F(""),{data:r,isPending:s,isError:d}=pt(),i=w(()=>s.value),c=pi(),m=_=>{c.mutate(_,{onSuccess:()=>{e.value=""}})},p=fi(),u=_=>{p.mutate(_)};return(_,h)=>{const k=le("RouterLink");return f(),g(P,{disable:o(i),flat:""},{default:n(()=>[o(i)?(f(),g(mt,{key:0,query:"",class:"absolute-top"})):A("",!0),a(Pt,{flat:""},{default:n(()=>[y("thead",null,[y("tr",null,[y("th",gp,b(_.$t("wallet_settings.name")),1),y("th",bp,b(_.$t("wallet_settings.symbol")),1),y("th",vp,b(_.$t("wallet_settings.contract")),1),h[2]||(h[2]=y("th",{align:"left"},null,-1))])]),y("tbody",null,[(f(!0),x(E,null,ie(o(r),v=>(f(),x(E,{key:v.currency},[v.is_native?A("",!0):(f(),x("tr",wp,[y("td",null,b(v.name),1),y("td",null,b(v.symbol),1),y("td",null,[a(k,{to:"/explore/address/"+v.currency,class:"text-primary mono"},{default:n(()=>[$(b(v.currency),1)]),_:2},1032,["to"])]),y("td",null,[a(j,{outline:"",onClick:q=>u(v.currency)},{default:n(()=>[$(b(_.$t("common.remove")),1)]),_:2},1032,["onClick"])])]))],64))),128))])]),_:1}),a(B,{ref_key:"newTokenTextField",ref:l,modelValue:o(e),"onUpdate:modelValue":h[0]||(h[0]=v=>Q(e)?e.value=v:null),label:_.$t("wallet_settings.token_address"),placeholder:"mmx1...",rules:[o(Y).address]},null,8,["modelValue","label","rules"]),a(j,{label:_.$t("wallet_settings.add_token"),disable:o(e).length==0||o(l).hasError,outline:"",color:"primary",onClick:h[1]||(h[1]=v=>m(o(e)))},null,8,["label","disable"])]),_:1},8,["disable"])}}},kp={__name:"UISettings",setup(t){const{t:e}=M(),l=$e(),r=w(()=>[{value:!1,label:e("node_settings.light")},{value:!0,label:e("node_settings.dark")}]);return(s,d)=>(f(),x(E,null,[a(ve,{modelValue:o(l).locale,"onUpdate:modelValue":d[0]||(d[0]=i=>o(l).locale=i),"emit-value":"","map-options":"",label:s.$t("node_settings.language"),options:o(cl)},null,8,["modelValue","label","options"]),a(ve,{modelValue:o(l).isDarkTheme,"onUpdate:modelValue":d[1]||(d[1]=i=>o(l).isDarkTheme=i),"emit-value":"","map-options":"",label:s.$t("node_settings.theme"),options:o(r)},null,8,["modelValue","label","options"])],64))}},Sp=t=>C.get("https://api.github.com/repos/madMAx43v3r/mmx-node/tags",{signal:t}).then(e=>e.data),$p=t=>Ft({queryKey:["externalBuildInfo"],queryFn:({signal:e})=>Sp(e),refetchInterval:60*60*ot,staleTime:1/0,select:t}),qp=()=>$p(e=>{for(let l of e)if(l&&l.name.length&&l.name[0]==="v")return l}),Fo=()=>{const{data:t}=Se(),{data:e}=qp(),l=w(()=>t.version?.split("-",1)[0]),r=w(()=>e.value?.name);return{isNewVersionAvailable:w(()=>l.value!==r.value),latestVersion:r,latestRelease:e,version:l}},Vp={class:"text-h6"},Tp={class:"q-gutter-y-sm"},Cp={__name:"BuildVersionInfo",setup(t){const{data:e,loading:l}=Se(),{t:r}=M(),s=w(()=>[{label:r("build_version.version"),field:"version"},{label:r("build_version.commit"),field:"commit"}]),{isNewVersionAvailable:d,latestVersion:i,version:c}=Fo();return(m,p)=>{const u=at;return f(),g(P,{flat:""},{default:n(()=>[a(N,null,{default:n(()=>[y("div",Vp,[a(ia,{icon:o(Ea)},null,8,["icon"]),$(" "+b(m.$t("build_version.build")),1)]),y("div",Tp,[a(u,{rows:o(s),data:o(e),loading:o(l)},null,8,["rows","data","loading"]),o(d)?(f(),g(tl,{key:0,rounded:"","inline-actions":"",class:"bg-warning"},{default:n(()=>[$(" This build is "+b(o(c))+", compared to "+b(o(i))+" at madMAx43v3r:master ",1)]),_:1})):A("",!0)])]),_:1})]),_:1})}}},Rp={class:"q-gutter-y-sm"},st="text-h6",Lp={__name:"index",setup(t){const e=$e(),l=et(),r=xt(),s=r.query.state||"general",d=w(()=>{const p={};return p[s]=!0,p}),i=F(d.value);ye(i,p=>{var u=Object.keys(p);p?l.push({path:r.path,query:{state:u.filter(_=>p[_])[0]},replace:!0}):l.push({path:r.path,replace:!0})},{deep:!0});const{isLocalNode:c,isFarmer:m}=Se();return(p,u)=>(f(),g(Ze,{padding:""},{default:n(()=>[y("div",Rp,[a(ua,{bordered:"",class:"rounded-borders"},{default:n(()=>[o(c)?(f(),g(nt,{key:0,modelValue:o(i).general,"onUpdate:modelValue":u[0]||(u[0]=_=>o(i).general=_),"expand-separator":"",label:p.$t("node_settings.general"),icon:o(Da),"header-class":st,group:"expansionGroup"},{default:n(()=>[a(P,null,{default:n(()=>[a(N,null,{default:n(()=>[a(o(mp))]),_:1})]),_:1})]),_:1},8,["modelValue","label","icon"])):A("",!0),o(c)||o(m)?(f(),g(nt,{key:1,modelValue:o(i).reward,"onUpdate:modelValue":u[1]||(u[1]=_=>o(i).reward=_),"expand-separator":"",label:"Reward",icon:o(ja),"header-class":st,group:"expansionGroup"},{default:n(()=>[a(P,null,{default:n(()=>[a(N,null,{default:n(()=>[a(o(pp))]),_:1})]),_:1})]),_:1},8,["modelValue","icon"])):A("",!0),o(m)?(f(),g(nt,{key:2,modelValue:o(i).harvester,"onUpdate:modelValue":u[2]||(u[2]=_=>o(i).harvester=_),"expand-separator":"",label:p.$t("harvester_settings.harvester"),icon:o(Wa),"header-class":st,group:"expansionGroup"},{default:n(()=>[a(P,null,{default:n(()=>[a(N,null,{default:n(()=>[a(o(yp))]),_:1})]),_:1})]),_:1},8,["modelValue","label","icon"])):A("",!0),o(c)?(f(),g(nt,{key:3,modelValue:o(i).blockchain,"onUpdate:modelValue":u[3]||(u[3]=_=>o(i).blockchain=_),"expand-separator":"",label:p.$t("node_settings.blockchain"),icon:o(Ma),"header-class":st,group:"expansionGroup"},{default:n(()=>[a(P,null,{default:n(()=>[a(N,null,{default:n(()=>[a(o(hp))]),_:1})]),_:1})]),_:1},8,["modelValue","label","icon"])):A("",!0),a(nt,{modelValue:o(i).wallet,"onUpdate:modelValue":u[4]||(u[4]=_=>o(i).wallet=_),"expand-separator":"",label:p.$t("wallet_settings.token_whitelist"),icon:o(Ba),"header-class":st,group:"expansionGroup"},{default:n(()=>[a(P,null,{default:n(()=>[a(N,null,{default:n(()=>[a(o(xp))]),_:1})]),_:1})]),_:1},8,["modelValue","label","icon"]),o(e).isWinGUI?A("",!0):(f(),g(nt,{key:4,modelValue:o(i).ui,"onUpdate:modelValue":u[5]||(u[5]=_=>o(i).ui=_),"expand-separator":"",label:p.$t("node_settings.ui"),icon:o(Na),"header-class":st,group:"expansionGroup"},{default:n(()=>[a(P,null,{default:n(()=>[a(N,null,{default:n(()=>[a(o(kp))]),_:1})]),_:1})]),_:1},8,["modelValue","label","icon"]))]),_:1}),a(Cp,{class:"q-mt-lg"})])]),_:1}))}},Fp=Object.freeze(Object.defineProperty({__proto__:null,default:Lp},Symbol.toStringTag,{value:"Module"})),Op={key:2,class:"q-mx-sm"},Ip={__name:"MenuTabs",props:{tabs:{type:Array,required:!0}},setup(t){return(e,l)=>(f(),g(Ye,{"indicator-color":"primary","outside-arrows":"",class:"q-mx-xs"},{default:n(()=>[a(Le,null,{default:n(()=>[(f(!0),x(E,null,ie(t.tabs,(r,s)=>(f(),x(E,{key:s},[r.separator?(f(),g(al,{key:0,vertical:"",inset:"",class:"q-mx-md"})):r.space?(f(),g(El,{key:1})):r.component?(f(),x("div",Op,[(f(),g(Ot(r.component)))])):(f(),x(E,{key:3},[r.visible??!0?(f(),g(Ne,{key:0,to:r.to,label:r.label,icon:r.icon,disable:r.disable,onClick:r.click},null,8,["to","label","icon","disable","onClick"])):A("",!0)],64))],64))),128))]),_:1})]),_:1}))}},Ap={__name:"BuildVersion",setup(t){const{isNewVersionAvailable:e,latestVersion:l,version:r}=Fo();return(s,d)=>o(e)?(f(),g(ke,{key:0,name:o(Ua),color:"warning",size:"sm"},{default:n(()=>[a(Ue,null,{default:n(()=>[$("This build is "+b(o(r))+", compared to "+b(o(l))+" at madMAx43v3r:master",1)]),_:1})]),_:1},8,["name"])):A("",!0)}},Pp={class:"q-px-xs"},Ep={__name:"NodeStatus",setup(t){const{t:e}=M(),l=Object.freeze({DisconnectedFromNode:Symbol("DisconnectedFromNode"),Connecting:Symbol("Connecting"),Syncing:Symbol("Syncing"),Synced:Symbol("Synced")}),r=[{value:l.DisconnectedFromNode,label:e("node_status.disconnected"),icon:Ka,class:"text-negative"},{value:l.Connecting,label:e("node_status.connecting"),icon:za,class:"text-negative"},{value:l.Syncing,label:e("node_status.syncing"),icon:Qa,class:"text-warning spin"},{value:l.Synced,label:e("node_status.synced"),icon:Ha,class:"text-positive"}],{isLocalNode:s}=Se(),d=F(0),i=F(1),c=F(1),m=w(()=>d.value<1),p=w(()=>i.value<1||!s.value),u=w(()=>c.value==0),_=w(()=>r.find(T=>T.value===h.value)),h=w(()=>{let T=l.DisconnectedFromNode;return m.value&&(T=l.Connecting,p.value&&(T=l.Syncing),u.value&&(T=l.Synced)),T}),k=wo(()=>m.value);ye([k.dataUpdatedAt,k.errorUpdatedAt],()=>{k.isError.value?i.value++:k.data.value&&k.data.value.length>0?i.value=0:i.value++});const v=Lo();ye([v.dataUpdatedAt,v.errorUpdatedAt],()=>{v.isError.value?d.value++:d.value=0});const q=ml({enabled:()=>m.value});return ye([q.dataUpdatedAt,q.errorUpdatedAt],()=>{q.isError.value?c.value++:q.data.value&&q.data.value.is_synced?c.value=0:c.value++}),da(()=>{(h.value==l.DisconnectedFromNode||h.value==l.Connecting)&&v.refetch(),(h.value==l.Connecting||h.value==l.Syncing)&&k.refetch()},1e3),(T,V)=>(f(),x("div",Pp,[a(ke,{name:o(_).icon,size:"sm",class:se(o(_).class)},{default:n(()=>[a(Ue,null,{default:n(()=>[$(b(o(_).label),1)]),_:1})]),_:1},8,["name","class"])]))}},Dp=_e(Ep,[["__scopeId","data-v-28f27c9f"]]),jp={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd"},viewBox:"0 0 1170.7 327.595"},Wp={__name:"SvgLogo",props:{color:{type:String,default:"#fff"}},setup(t){return ca(e=>({"750e8664":t.color})),(e,l)=>(f(),x("svg",jp,l[0]||(l[0]=[y("g",{id:"Text_x0020_Black_x0020__x0028_SVG_x0029_"},[y("path",{d:"M19.578 80.542 0 327.595h95.292l6.752-85.204zM258.854 0c-27.766 0-53.07 16.901-65.333 40.975l-20.02 39.29L132.604 0H25.96L173.5 289.567l91.121-178.834-17.184 216.863h95.292L368.689 0zM454.949 80.542l-19.578 247.053h95.292l6.752-85.204zM694.225 0c-27.766 0-53.07 16.901-65.333 40.975l-20.02 39.29L567.975 0H461.33l147.54 289.566 91.121-178.834-17.184 216.863H778.1L804.06 0zM918.156 184.837l53.254 104.729-19.377 38.029h-106.47zM908.537 0h69.457l166.918 327.595h-106.643L890.298 37.187C879.835 16.653 888.003.001 908.537.001zM1098.11 142.76l-53.26-104.725L1064.23 0h106.47z",class:"fil0"})],-1)])))}},Mp=_e(Wp,[["__scopeId","data-v-de381950"]]),Bp={class:"logo"},Np={class:"mono node-height"},Up={__name:"Logo",setup(t){const e=Gl(),l=w(()=>e.height&&e.height.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")),r=$e(),s=w(()=>r.isDarkTheme?"#fff":"#000");return(d,i)=>{const c=Mp;return f(),x("div",Bp,[a(c,{height:"18",color:o(s)},null,8,["color"]),y("div",Np,[(f(),x(E,{key:1},[$(b(o(l)),1)],64))])])}}},Kp=_e(Up,[["__scopeId","data-v-7d880d64"]]),zp=()=>{const t=Oe(),{data:e,isError:l}=Lo(),r=()=>{t.doLogout(!1)},s=Ro(),d=i=>{const c={credentials:i};s.mutate(c,{onError:r})};ye(e,i=>{i&&i.user||(t.autoLogin?d(t.credentials):t.doLogout(!1))})},Qp={__name:"GuiMainMenu",setup(t){const{t:e}=M(),l=$e(),{isWallet:r,isFarmer:s}=Se(),d=w(()=>[{component:Kp},{separator:!0},{to:"/node",label:e("main_menu.node")},{to:"/wallet",label:e("main_menu.wallet"),visible:r.value},{to:"/farmer",label:e("main_menu.farmer"),visible:s.value},{to:"/explore",label:e("main_menu.explore")},{to:"/market",label:e("main_menu.market"),visible:r.value},{to:"/swap",label:e("main_menu.swap"),visible:r.value},{space:!0},{component:Ap},{component:Dp},{to:"/settings",icon:Bl},...l.isGUI?[]:[{icon:Xa,click:c}]]),i=np(),c=()=>i.mutate();return zp(),(m,p)=>{const u=Ip;return f(),g(u,{tabs:o(d)},null,8,["tabs"])}}};let Oo;Oo=Qp;const Hp={class:"row justify-center"},Xp={class:"row justify-center"},Gp={__name:"default",setup(t){const e=$e(),l=w(()=>({"col-12":!0,"app-max-width":!e.isWinGUI}));return(r,s)=>{const d=Ie;return f(),g(_a,{view:"lhr Lpr lFr"},{default:n(()=>[a(ma,{class:"m-bg-grey"},{default:n(()=>[y("div",Hp,[y("div",{class:se(o(l))},[(f(),g(Ot(o(Oo)),{class:"q-mx-lg"}))],2)])]),_:1}),y("div",Xp,[y("div",{class:se(o(l))},[a(pa,null,{default:n(()=>[a(d)]),_:1})],2)])]),_:1})}}},Jp=Object.freeze(Object.defineProperty({__proto__:null,default:Gp},Symbol.toStringTag,{value:"Module"})),Yp={class:"q-gutter-y-sm"},Zp={__name:"PromptPassphraseDialog",emits:[...pe.emits],setup(t){const e=F(""),l=F(!1),{dialogRef:r,onDialogHide:s,onDialogOK:d,onDialogCancel:i}=pe(),c=()=>{d({passphrase:e.value})},m=F(null),p=()=>{m.value&&m.value.focus()};return(u,_)=>(f(),g(Ke,{ref_key:"dialogRef",ref:r,persistent:"",onHide:o(s),onShow:p},{default:n(()=>[a(P,{class:"q-dialog-plugin"},{default:n(()=>[a(N,null,{default:n(()=>[y("div",Yp,[_[2]||(_[2]=y("div",{class:"text-h6"},"Unlock wallet",-1)),a(B,{ref_key:"inputRef",ref:m,modelValue:o(e),"onUpdate:modelValue":_[1]||(_[1]=h=>Q(e)?e.value=h:null),hint:u.$t("wallet_common.enter_passphrase"),outlined:"",type:o(l)?"text":"password",autocomplete:"new-password",onKeyup:Pl(c,["enter"])},{append:n(()=>[a(ke,{name:o(l)?o(Kl):o(Ul),class:"cursor-pointer",onClick:_[0]||(_[0]=h=>l.value=!o(l))},null,8,["name"])]),_:1},8,["modelValue","hint","type"])])]),_:1}),a(jt,{align:"right"},{default:n(()=>[a(j,{label:"Cancel",flat:"",onClick:o(i)},null,8,["onClick"]),a(j,{label:"Unlock",flat:"",icon:o(Ml),onClick:c},null,8,["icon"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},e_=Object.freeze(Object.defineProperty({__proto__:null,default:Zp},Symbol.toStringTag,{value:"Module"})),t_={class:"q-gutter-y-sm"},l_={class:"row justify-end q-col-gutter-sm"},o_={class:"row justify-end q-col-gutter-sm"},a_={class:"row"},n_={class:"col"},s_={class:"col-11"},r_={class:"row justify-end q-gutter-x-sm"},i_={__name:"OfferDepositDialog",props:{index:{type:Number,required:!0},offer:{type:Object,required:!0}},emits:[...pe.emits],setup(t){const e=t,{dialogRef:l,onDialogHide:r,onDialogOK:s,onDialogCancel:d}=pe(),i=async()=>{await L(),s()},c=()=>{p.value&&p.value.onDialogShow()},m={amount:null,feeRatio:null},p=F(null),u=I({...m}),_=w(()=>({index:e.index,amount:u.amount,currency:e.offer.bid_currency,dst_addr:e.offer.address,options:{fee_ratio:u.feeRatio}})),{promptPassphrase:h,isLocked:k}=we(I({index:D(e,"index")})),{isValidConfirmedUnlocked:v}=Ce(p,k),{data:q,isLoading:S,latestError:T}=so(_,v),V=Yl(),L=async()=>{const z=await h(),ae={..._.value,options:{..._.value.options,passphrase:z}};await V.mutateAsync(ae)},{data:H}=De(I({index:D(()=>e.index),currency:D(()=>e.offer.bid_symbol)}),z=>z?z.spendable:0),K=z=>z<=H.value||"Insufficient funds";return(z,ae)=>{const me=Te,Z=Ee,ee=Ve,oe=Pe,W=Ae,re=qe;return f(),g(Ke,{ref_key:"dialogRef",ref:l,persistent:"",onShow:c,onHide:o(r)},{default:n(()=>[a(P,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:n(()=>[a(re,{ref_key:"formRef",ref:p,data:o(u),"default-data":m,onSubmit:i},{default:n(()=>[a(Le,{class:"bg-primary text-white"},{default:n(()=>[a(tt,{class:"text-subtitle1"},{default:n(()=>[y("b",null,b(z.$t("account_offers.deposit_to"))+" "+b(t.offer.address),1)]),_:1})]),_:1}),a(N,null,{default:n(()=>[y("div",t_,[y("div",l_,[a(B,{"model-value":o(H),label:z.$t("market_offers.wallet_ballance"),"input-class":"amount-input",suffix:t.offer.bid_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","label","suffix"]),a(B,{modelValue:o(u).amount,"onUpdate:modelValue":ae[0]||(ae[0]=xe=>o(u).amount=xe),modelModifiers:{number:!0},label:z.$t("common.amount"),"input-class":"amount-input",suffix:t.offer.bid_symbol,rules:[o(Y).required,o(Y).amount,K],class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","label","suffix","rules"])]),y("div",o_,[a(me,{modelValue:o(u).feeRatio,"onUpdate:modelValue":ae[1]||(ae[1]=xe=>o(u).feeRatio=xe),class:"col-md-3 col-sm-4 col-xs-6"},null,8,["modelValue"]),a(Z,{modelValue:o(q),"onUpdate:modelValue":ae[2]||(ae[2]=xe=>Q(q)?q.value=xe:null),loading:o(S),error:o(T),locked:o(k),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(N,{class:"q-mt-md"},{default:n(()=>[y("div",a_,[y("div",n_,[a(ee)]),y("div",s_,[y("div",r_,[a(oe),a(W,{label:z.$t("account_offers.deposit")},null,8,["label"]),a(j,{label:z.$t("common.cancel"),flat:"",onClick:o(d)},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["onHide"])}}},u_=Object.freeze(Object.defineProperty({__proto__:null,default:i_},Symbol.toStringTag,{value:"Module"})),d_={class:"q-gutter-y-sm"},c_={class:"row justify-end q-col-gutter-sm"},m_={class:"row"},p_={class:"col"},__={class:"col-11"},f_={class:"row justify-end q-gutter-x-sm"},y_={__name:"OfferWithdrawDialog",props:{index:{type:Number,required:!0},offer:{type:Object,required:!0}},emits:[...pe.emits],setup(t){const e=t,{dialogRef:l,onDialogHide:r,onDialogOK:s,onDialogCancel:d}=pe(),i=async()=>{await L(),s()},c=()=>{p.value&&p.value.onDialogShow()},m={feeRatio:null},p=F(null),u=I({...m}),_=w(()=>({index:e.index,address:e.offer.address,options:{fee_ratio:u.feeRatio}})),{promptPassphrase:h,isLocked:k}=we(I({index:D(e,"index")})),{isValidConfirmedUnlocked:v}=Ce(p,k),{data:q,isLoading:S,latestError:T}=Wn(_,v),V=Ln(),L=async()=>{const H=await h(),K={..._.value,options:{..._.value.options,passphrase:H}};await V.mutateAsync(K)};return(H,K)=>{const z=Te,ae=Ee,me=Ve,Z=Pe,ee=Ae,oe=qe;return f(),g(Ke,{ref_key:"dialogRef",ref:l,persistent:"",onShow:c,onHide:o(r)},{default:n(()=>[a(P,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:n(()=>[a(oe,{ref_key:"formRef",ref:p,data:o(u),"default-data":m,onSubmit:i},{default:n(()=>[a(Le,{class:"bg-primary text-white"},{default:n(()=>[a(tt,{class:"text-subtitle1"},{default:n(()=>[y("b",null,"Withdraw from "+b(t.offer.address),1)]),_:1})]),_:1}),a(N,null,{default:n(()=>[y("div",d_,[y("div",c_,[a(z,{modelValue:o(u).feeRatio,"onUpdate:modelValue":K[0]||(K[0]=W=>o(u).feeRatio=W),class:"col-md-3 col-sm-4 col-xs-6"},null,8,["modelValue"]),a(ae,{modelValue:o(q),"onUpdate:modelValue":K[1]||(K[1]=W=>Q(q)?q.value=W:null),loading:o(S),error:o(T),locked:o(k),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(N,{class:"q-mt-md"},{default:n(()=>[y("div",m_,[y("div",p_,[a(me)]),y("div",__,[y("div",f_,[a(Z),a(ee,{label:"Withdraw"}),a(j,{label:H.$t("common.cancel"),flat:"",onClick:o(d)},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["onHide"])}}},h_=Object.freeze(Object.defineProperty({__proto__:null,default:y_},Symbol.toStringTag,{value:"Module"})),g_=t=>{let e=BigInt(t).toString(16);return e.length%2&&(e="0"+e),"0x"+e},b_={class:"q-gutter-y-sm"},v_={class:"row justify-end col-3"},w_={class:"row justify-end q-col-gutter-sm"},x_={class:"row"},k_={class:"col"},S_={class:"col-11"},$_={class:"row justify-end q-gutter-x-sm"},q_={__name:"OfferUpdateDialog",props:{index:{type:Number,required:!0},offer:{type:Object,required:!0}},emits:[...pe.emits],setup(t){const e=t,{dialogRef:l,onDialogHide:r,onDialogOK:s,onDialogCancel:d}=pe(),i=async()=>{await H(),s()},c=()=>{p.value&&p.value.onDialogShow()},m={amount:null,feeRatio:null},p=F(null),u=I({...m}),_=w(()=>u.amount*Math.pow(2,64)*Math.pow(10,e.offer.bid_decimals-e.offer.ask_decimals)),h=w(()=>({index:e.index,address:e.offer.address,method:"set_price",args:[g_(_.value??0)],options:{user:e.offer.owner,fee_ratio:u.feeRatio}})),{promptPassphrase:k,isLocked:v}=we(I({index:D(e,"index")})),{isValidConfirmedUnlocked:q}=Ce(p,v),{data:S,isLoading:T,latestError:V}=Dn(h,q),L=Cn(),H=async()=>{const K=await k(),z={...h.value,options:{...h.value.options,passphrase:K}};await L.mutateAsync(z)};return(K,z)=>{const ae=Te,me=Ee,Z=Ve,ee=Pe,oe=Ae,W=qe;return f(),g(Ke,{ref_key:"dialogRef",ref:l,persistent:"",onShow:c,onHide:o(r)},{default:n(()=>[a(P,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:n(()=>[a(W,{ref_key:"formRef",ref:p,data:o(u),"default-data":m,onSubmit:i},{default:n(()=>[a(Le,{class:"bg-primary text-white"},{default:n(()=>[a(tt,{class:"text-subtitle1"},{default:n(()=>[y("b",null," Update "+b(t.offer.address),1)]),_:1})]),_:1}),a(N,null,{default:n(()=>[y("div",b_,[y("div",v_,[a(B,{modelValue:o(u).amount,"onUpdate:modelValue":z[0]||(z[0]=re=>o(u).amount=re),modelModifiers:{number:!0},label:"New Price","input-class":"amount-input",suffix:t.offer.bid_symbol+" / "+t.offer.ask_symbol,rules:[o(Y).required,o(Y).amount],class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","suffix","rules"])]),y("div",w_,[a(ae,{modelValue:o(u).feeRatio,"onUpdate:modelValue":z[1]||(z[1]=re=>o(u).feeRatio=re),class:"col-md-3 col-sm-4 col-xs-6"},null,8,["modelValue"]),a(me,{modelValue:o(S),"onUpdate:modelValue":z[2]||(z[2]=re=>Q(S)?S.value=re:null),loading:o(T),error:o(V),locked:o(v),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(N,{class:"q-mt-md"},{default:n(()=>[y("div",x_,[y("div",k_,[a(Z)]),y("div",S_,[y("div",$_,[a(ee),a(oe,{label:"Update"}),a(j,{label:K.$t("common.cancel"),flat:"",onClick:o(d)},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["onHide"])}}},V_=Object.freeze(Object.defineProperty({__proto__:null,default:q_},Symbol.toStringTag,{value:"Module"})),T_={class:"q-gutter-y-sm"},C_={class:"row justify-end q-col-gutter-sm"},R_={class:"row"},L_={class:"col"},F_={class:"col-11"},O_={class:"row justify-end q-gutter-x-sm"},I_={__name:"OfferCancelDialog",props:{index:{type:Number,required:!0},offer:{type:Object,required:!0}},emits:[...pe.emits],setup(t){const e=t,{dialogRef:l,onDialogHide:r,onDialogOK:s,onDialogCancel:d}=pe(),i=async()=>{await L(),s()},c=()=>{p.value&&p.value.onDialogShow()},m={feeRatio:null},p=F(null),u=I({...m}),_=w(()=>({index:e.index,address:e.offer.address,options:{fee_ratio:u.feeRatio}})),{promptPassphrase:h,isLocked:k}=we(I({index:D(e,"index")})),{isValidConfirmedUnlocked:v}=Ce(p,k),{data:q,isLoading:S,latestError:T}=Mn(_,v),V=Fn(),L=async()=>{const H=await h(),K={..._.value,options:{..._.value.options,passphrase:H}};await V.mutateAsync(K)};return(H,K)=>{const z=Te,ae=Ee,me=Ve,Z=Pe,ee=Ae,oe=qe;return f(),g(Ke,{ref_key:"dialogRef",ref:l,persistent:"",onShow:c,onHide:o(r)},{default:n(()=>[a(P,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:n(()=>[a(oe,{ref_key:"formRef",ref:p,data:o(u),"default-data":m,onSubmit:i},{default:n(()=>[a(Le,{class:"bg-primary text-white"},{default:n(()=>[a(tt,{class:"text-subtitle1"},{default:n(()=>[y("b",null,b(H.$t("account_offers.revoke"))+" — "+b(t.offer.address),1)]),_:1})]),_:1}),a(N,null,{default:n(()=>[y("div",T_,[y("div",C_,[a(z,{modelValue:o(u).feeRatio,"onUpdate:modelValue":K[0]||(K[0]=W=>o(u).feeRatio=W),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue"]),a(ae,{modelValue:o(q),"onUpdate:modelValue":K[1]||(K[1]=W=>Q(q)?q.value=W:null),loading:o(S),error:o(T),locked:o(k),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(N,{class:"q-mt-md"},{default:n(()=>[y("div",R_,[y("div",L_,[a(me)]),y("div",F_,[y("div",O_,[a(Z),a(ee,{label:H.$t("account_offers.revoke")},null,8,["label"]),a(j,{label:H.$t("common.cancel"),flat:"",onClick:o(d)},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["onHide"])}}},A_=Object.freeze(Object.defineProperty({__proto__:null,default:I_},Symbol.toStringTag,{value:"Module"})),P_={class:"q-gutter-y-sm"},E_={__name:"ShowSeedDialog",props:{seed:{type:String,required:!0},withPassphrase:{type:Boolean,required:!1,default:!1},fingerPrint:{type:String,required:!1,default:null}},emits:[...pe.emits],setup(t){const{dialogRef:e,onDialogHide:l,onDialogOK:r}=pe();return(s,d)=>{const i=$o;return f(),g(Ke,{ref_key:"dialogRef",ref:e,persistent:"",onHide:o(l)},{default:n(()=>[a(P,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:n(()=>[a(N,null,{default:n(()=>[y("div",P_,[a(i,{"model-value":t.seed,readonly:""},null,8,["model-value"]),t.withPassphrase?(f(),g(B,{key:0,"model-value":t.fingerPrint,label:"Fingerprint (needed to verify passphrase)","input-class":"text-bold",readonly:""},null,8,["model-value"])):A("",!0)])]),_:1}),a(jt,{align:"right"},{default:n(()=>[a(o(nl),null,{default:n(({copy:c,copied:m})=>[a(j,{label:"Copy",flat:"",icon:o(il),onClick:p=>c(t.seed)},{default:n(()=>[a(Ue,{"model-value":m===!0,"no-parent-event":""},{default:n(()=>d[0]||(d[0]=[$("Copied!")])),_:2},1032,["model-value"])]),_:2},1032,["icon","onClick"])]),_:1}),a(j,{label:"Ok",flat:"",onClick:o(r)},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"])}}},D_=Object.freeze(Object.defineProperty({__proto__:null,default:E_},Symbol.toStringTag,{value:"Module"})),j_={class:"q-gutter-y-sm"},W_={class:"row justify-end q-col-gutter-sm"},M_={class:"row justify-end q-col-gutter-sm"},B_={class:"row justify-end q-col-gutter-sm"},N_={class:"row"},U_={class:"col"},K_={class:"col-11"},z_={class:"row justify-end q-gutter-x-sm"},Q_={__name:"OfferTradeDialog",props:{index:{type:Number,required:!0},offer:{type:Object,required:!0}},emits:[...pe.emits],setup(t){const e=t,{dialogRef:l,onDialogHide:r,onDialogOK:s,onDialogCancel:d}=pe(),i=async()=>{await me(),s()},c=()=>{p.value&&p.value.onDialogShow()},m={amount:null,feeRatio:null},p=F(null),u=I({...m}),{promptPassphrase:_,isLocked:h}=we(I({index:D(e,"index")})),{isValidConfirmed:k,isValidConfirmedUnlocked:v}=Ce(p,h),{data:q}=er(I({id:D(()=>e.offer.address),amount:w(()=>u.amount||0)})),S=w(()=>q.value?.trade.value??null),T=w(()=>q.value?.next_input.value??null),V=()=>{u.amount=parseFloat(T.value)},L=w(()=>({index:e.index,address:e.offer.address,amount:u.amount,price:q.value?.inv_price??e.offer.inv_price,options:{fee_ratio:u.feeRatio}})),{data:H,isLoading:K,latestError:z}=Bn(L,v),ae=On(),me=async()=>{const W=await _(),re={...L.value,options:{...L.value.options,passphrase:W}};await ae.mutateAsync(re)},{data:Z}=De(I({index:D(()=>e.index),currency:D(()=>e.offer.ask_currency)}),W=>W?W.spendable:0),ee=W=>W<=Z.value||"Insufficient funds",oe=w(()=>{const W=q.value?parseFloat(q.value.trade.amount):0;return k.value&&u.amount>0&&u.amount<=Z.value&&W>0&&W<=e.offer.bid_balance});return(W,re)=>{const xe=Te,ft=Ee,yt=Ve,ht=Pe,he=Ae,Ht=qe;return f(),g(Ke,{ref_key:"dialogRef",ref:l,persistent:"",onShow:c,onHide:o(r)},{default:n(()=>[a(P,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:n(()=>[a(Ht,{ref_key:"formRef",ref:p,data:o(u),"default-data":m,onSubmit:i},{default:n(()=>[a(Le,{class:"bg-primary text-white"},{default:n(()=>[a(tt,{class:"text-subtitle1"},{default:n(()=>[y("b",null,"Trade — "+b(t.offer.address),1)]),_:1})]),_:1}),a(N,null,{default:n(()=>[y("div",j_,[y("div",W_,[a(B,{"model-value":o(Z),label:W.$t("market_offers.wallet_ballance"),"input-class":"amount-input",suffix:t.offer.ask_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","label","suffix"]),a(B,{modelValue:o(u).amount,"onUpdate:modelValue":re[0]||(re[0]=He=>o(u).amount=He),modelModifiers:{number:!0},debounce:200,label:W.$t("market_offers.you_send"),"input-class":"amount-input",suffix:t.offer.ask_symbol,rules:[o(Y).required,o(Y).amount,ee],class:"col-md-4 col-sm-5 col-xs-6"},{append:n(()=>[a(j,{icon:o(Ga),color:"secondary",round:"",outline:"",dense:"",onClick:V},{default:n(()=>[a(Ue,null,{default:n(()=>[$(b(W.$t("market_offers.increase")),1)]),_:1})]),_:1},8,["icon"])]),_:1},8,["modelValue","label","suffix","rules"])]),y("div",M_,[a(B,{"model-value":t.offer.bid_balance_value,label:"They Offer","input-class":"amount-input",suffix:t.offer.bid_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","suffix"]),a(B,{"model-value":o(S),label:W.$t("market_offers.you_receive"),"input-class":"amount-input",suffix:t.offer.bid_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","label","suffix"])]),y("div",B_,[a(xe,{modelValue:o(u).feeRatio,"onUpdate:modelValue":re[1]||(re[1]=He=>o(u).feeRatio=He),class:"col-md-3 col-sm-4 col-xs-6"},null,8,["modelValue"]),a(ft,{modelValue:o(H),"onUpdate:modelValue":re[2]||(re[2]=He=>Q(H)?H.value=He:null),loading:o(K),error:o(z),locked:o(h),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(N,{class:"q-mt-md"},{default:n(()=>[y("div",N_,[y("div",U_,[a(yt)]),y("div",K_,[y("div",z_,[a(ht),a(he,{label:W.$t("market_offers.trade"),disable:!o(oe)},null,8,["label","disable"]),a(j,{label:W.$t("common.cancel"),flat:"",onClick:o(d)},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["onHide"])}}},H_=Object.freeze(Object.defineProperty({__proto__:null,default:Q_},Symbol.toStringTag,{value:"Module"})),X_={class:"q-gutter-y-sm"},G_={class:"row justify-end q-col-gutter-sm"},J_={class:"row justify-end q-col-gutter-sm"},Y_={class:"row justify-end q-col-gutter-sm"},Z_={class:"row"},ef={class:"col"},tf={class:"col-11"},lf={class:"row justify-end q-gutter-x-sm"},of={__name:"OfferAcceptDialog",props:{index:{type:Number,required:!0},offer:{type:Object,required:!0}},emits:[...pe.emits],setup(t){const e=t,{dialogRef:l,onDialogHide:r,onDialogOK:s,onDialogCancel:d}=pe(),i=async()=>{await L(),s()},c=()=>{p.value&&p.value.onDialogShow()},m={amount:null,feeRatio:null},p=F(null),u=I({...m}),_=w(()=>({index:e.index,address:e.offer.address,price:e.offer.inv_price,options:{fee_ratio:u.feeRatio}})),{promptPassphrase:h,isLocked:k}=we(I({index:D(e,"index")})),{isValidConfirmedUnlocked:v}=Ce(p,k),{data:q,isLoading:S,latestError:T}=Nn(_,v),V=In(),L=async()=>{const K=await h(),z={..._.value,options:{..._.value.options,passphrase:K}};await V.mutateAsync(z)},{data:H}=De(I({index:D(()=>e.index),currency:D(()=>e.offer.ask_currency)}),K=>K?K.spendable:0);return(K,z)=>{const ae=Te,me=Ee,Z=Ve,ee=Pe,oe=Ae,W=qe;return f(),g(Ke,{ref_key:"dialogRef",ref:l,persistent:"",onShow:c,onHide:o(r)},{default:n(()=>[a(P,{class:"q-dialog-plugin",style:{width:"800px","max-width":"100vw"}},{default:n(()=>[a(W,{ref_key:"formRef",ref:p,data:o(u),"default-data":m,onSubmit:i},{default:n(()=>[a(Le,{class:"bg-primary text-white"},{default:n(()=>[a(tt,{class:"text-subtitle1"},{default:n(()=>[y("b",null,"Accept — "+b(t.offer.address),1)]),_:1})]),_:1}),a(N,null,{default:n(()=>[y("div",X_,[y("div",G_,[a(B,{"model-value":o(H),label:K.$t("market_offers.wallet_ballance"),"input-class":"amount-input",suffix:t.offer.ask_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","label","suffix"]),a(B,{"model-value":t.offer.ask_value,label:K.$t("market_offers.you_send"),"input-class":"amount-input",suffix:t.offer.ask_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","label","suffix"])]),y("div",J_,[a(B,{"model-value":t.offer.bid_balance_value,label:K.$t("market_offers.you_receive"),"input-class":"amount-input",suffix:t.offer.bid_symbol,readonly:"",class:"col-md-4 col-sm-5 col-xs-6"},null,8,["model-value","label","suffix"])]),y("div",Y_,[a(ae,{modelValue:o(u).feeRatio,"onUpdate:modelValue":z[0]||(z[0]=re=>o(u).feeRatio=re),class:"col-md-3 col-sm-4 col-xs-6"},null,8,["modelValue"]),a(me,{modelValue:o(q),"onUpdate:modelValue":z[1]||(z[1]=re=>Q(q)?q.value=re:null),loading:o(S),error:o(T),locked:o(k),class:"col-md-4 col-sm-5 col-xs-6"},null,8,["modelValue","loading","error","locked"])])])]),_:1}),a(N,{class:"q-mt-md"},{default:n(()=>[y("div",Z_,[y("div",ef,[a(Z)]),y("div",tf,[y("div",lf,[a(ee),a(oe,{label:K.$t("market_offers.accept")},null,8,["label"]),a(j,{label:K.$t("common.cancel"),flat:"",onClick:o(d)},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["onHide"])}}},af=Object.freeze(Object.defineProperty({__proto__:null,default:of},Symbol.toStringTag,{value:"Module"}));
